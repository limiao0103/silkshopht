!function (t, e) {
    "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? module.exports = e(require, exports, module) : t.Tether = e()
}(this, function (t, e, i) {
    "use strict";

    function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function s(t) {
        var e = getComputedStyle(t), i = e.position;
        if ("fixed" === i) return t;
        for (var n = t; n = n.parentNode;) {
            var s = void 0;
            try {
                s = getComputedStyle(n)
            } catch (o) {
            }
            if ("undefined" == typeof s || null === s) return n;
            var r = s, a = r.overflow, l = r.overflowX, h = r.overflowY;
            if (/(auto|scroll)/.test(a + h + l) && ("absolute" !== i || ["relative", "absolute", "fixed"].indexOf(s.position) >= 0)) return n
        }
        return document.body
    }

    function o(t) {
        var e = void 0;
        t === document ? (e = document, t = document.documentElement) : e = t.ownerDocument;
        var i = e.documentElement, n = {}, s = t.getBoundingClientRect();
        for (var o in s) n[o] = s[o];
        var r = C(e);
        return n.top -= r.top, n.left -= r.left, "undefined" == typeof n.width && (n.width = document.body.scrollWidth - n.left - n.right), "undefined" == typeof n.height && (n.height = document.body.scrollHeight - n.top - n.bottom), n.top = n.top - i.clientTop, n.left = n.left - i.clientLeft, n.right = e.body.clientWidth - n.width - n.left, n.bottom = e.body.clientHeight - n.height - n.top, n
    }

    function r(t) {
        return t.offsetParent || document.documentElement
    }

    function a() {
        var t = document.createElement("div");
        t.style.width = "100%", t.style.height = "200px";
        var e = document.createElement("div");
        l(e.style, {
            position: "absolute",
            top: 0,
            left: 0,
            pointerEvents: "none",
            visibility: "hidden",
            width: "200px",
            height: "150px",
            overflow: "hidden"
        }), e.appendChild(t), document.body.appendChild(e);
        var i = t.offsetWidth;
        e.style.overflow = "scroll";
        var n = t.offsetWidth;
        i === n && (n = e.clientWidth), document.body.removeChild(e);
        var s = i - n;
        return {width: s, height: s}
    }

    function l() {
        var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0], e = [];
        return Array.prototype.push.apply(e, arguments), e.slice(1).forEach(function (e) {
            if (e) for (var i in e) ({}).hasOwnProperty.call(e, i) && (t[i] = e[i])
        }), t
    }

    function h(t, e) {
        if ("undefined" != typeof t.classList) e.split(" ").forEach(function (e) {
            e.trim() && t.classList.remove(e)
        }); else {
            var i = new RegExp("(^| )" + e.split(" ").join("|") + "( |$)", "gi"), n = d(t).replace(i, " ");
            f(t, n)
        }
    }

    function u(t, e) {
        if ("undefined" != typeof t.classList) e.split(" ").forEach(function (e) {
            e.trim() && t.classList.add(e)
        }); else {
            h(t, e);
            var i = d(t) + (" " + e);
            f(t, i)
        }
    }

    function c(t, e) {
        if ("undefined" != typeof t.classList) return t.classList.contains(e);
        var i = d(t);
        return new RegExp("(^| )" + e + "( |$)", "gi").test(i)
    }

    function d(t) {
        return t.className instanceof SVGAnimatedString ? t.className.baseVal : t.className
    }

    function f(t, e) {
        t.setAttribute("class", e)
    }

    function p(t, e, i) {
        i.forEach(function (i) {
            -1 === e.indexOf(i) && c(t, i) && h(t, i)
        }), e.forEach(function (e) {
            c(t, e) || u(t, e)
        })
    }

    function n(t, e) {
        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
    }

    function g(t, e) {
        var i = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2];
        return t + i >= e && e >= t - i
    }

    function m() {
        return "undefined" != typeof performance && "undefined" != typeof performance.now ? performance.now() : +new Date
    }

    function v() {
        for (var t = {top: 0, left: 0}, e = arguments.length, i = Array(e), n = 0; e > n; n++) i[n] = arguments[n];
        return i.forEach(function (e) {
            var i = e.top, n = e.left;
            "string" == typeof i && (i = parseFloat(i, 10)), "string" == typeof n && (n = parseFloat(n, 10)), t.top += i, t.left += n
        }), t
    }

    function y(t, e) {
        return "string" == typeof t.left && -1 !== t.left.indexOf("%") && (t.left = parseFloat(t.left, 10) / 100 * e.width), "string" == typeof t.top && -1 !== t.top.indexOf("%") && (t.top = parseFloat(t.top, 10) / 100 * e.height), t
    }

    function b(t, e) {
        return "scrollParent" === e ? e = t.scrollParent : "window" === e && (e = [pageXOffset, pageYOffset, innerWidth + pageXOffset, innerHeight + pageYOffset]), e === document && (e = e.documentElement), "undefined" != typeof e.nodeType && !function () {
            var t = o(e), i = t, n = getComputedStyle(e);
            e = [i.left, i.top, t.width + i.left, t.height + i.top], U.forEach(function (t, i) {
                t = t[0].toUpperCase() + t.substr(1), "Top" === t || "Left" === t ? e[i] += parseFloat(n["border" + t + "Width"]) : e[i] -= parseFloat(n["border" + t + "Width"])
            })
        }(), e
    }

    var w = function () {
        function t(t, e) {
            for (var i = 0; i < e.length; i++) {
                var n = e[i];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
            }
        }

        return function (e, i, n) {
            return i && t(e.prototype, i), n && t(e, n), e
        }
    }(), _ = void 0;
    "undefined" == typeof _ && (_ = {modules: []});
    var x = function () {
        var t = 0;
        return function () {
            return ++t
        }
    }(), k = {}, C = function (t) {
        var e = t._tetherZeroElement;
        "undefined" == typeof e && (e = t.createElement("div"), e.setAttribute("data-tether-id", x()), l(e.style, {
            top: 0,
            left: 0,
            position: "absolute"
        }), t.body.appendChild(e), t._tetherZeroElement = e);
        var i = e.getAttribute("data-tether-id");
        if ("undefined" == typeof k[i]) {
            k[i] = {};
            var n = e.getBoundingClientRect();
            for (var s in n) k[i][s] = n[s];
            S(function () {
                delete k[i]
            })
        }
        return k[i]
    }, D = [], S = function (t) {
        D.push(t)
    }, T = function () {
        for (var t = void 0; t = D.pop();) t()
    }, E = function () {
        function t() {
            n(this, t)
        }

        return w(t, [{
            key: "on", value: function (t, e, i) {
                var n = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3];
                "undefined" == typeof this.bindings && (this.bindings = {}), "undefined" == typeof this.bindings[t] && (this.bindings[t] = []), this.bindings[t].push({
                    handler: e,
                    ctx: i,
                    once: n
                })
            }
        }, {
            key: "once", value: function (t, e, i) {
                this.on(t, e, i, !0)
            }
        }, {
            key: "off", value: function (t, e) {
                if ("undefined" == typeof this.bindings || "undefined" == typeof this.bindings[t]) if ("undefined" == typeof e) delete this.bindings[t]; else for (var i = 0; i < this.bindings[t].length;) this.bindings[t][i].handler === e ? this.bindings[t].splice(i, 1) : ++i
            }
        }, {
            key: "trigger", value: function (t) {
                if ("undefined" != typeof this.bindings && this.bindings[t]) {
                    for (var e = 0, i = arguments.length, n = Array(i > 1 ? i - 1 : 0), s = 1; i > s; s++) n[s - 1] = arguments[s];
                    for (; e < this.bindings[t].length;) {
                        var o = this.bindings[t][e], r = o.handler, a = o.ctx, l = o.once, h = a;
                        "undefined" == typeof h && (h = this), r.apply(h, n), l ? this.bindings[t].splice(e, 1) : ++e
                    }
                }
            }
        }]), t
    }();
    _.Utils = {
        getScrollParent: s,
        getBounds: o,
        getOffsetParent: r,
        extend: l,
        addClass: u,
        removeClass: h,
        hasClass: c,
        updateClasses: p,
        defer: S,
        flush: T,
        uniqueId: x,
        Evented: E,
        getScrollBarSize: a
    };
    var M = function () {
        function t(t, e) {
            var i = [], n = !0, s = !1, o = void 0;
            try {
                for (var r, a = t[Symbol.iterator](); !(n = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); n = !0) ;
            } catch (l) {
                s = !0, o = l
            } finally {
                try {
                    !n && a["return"] && a["return"]()
                } finally {
                    if (s) throw o
                }
            }
            return i
        }

        return function (e, i) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) return t(e, i);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }(), w = function () {
        function t(t, e) {
            for (var i = 0; i < e.length; i++) {
                var n = e[i];
                n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
            }
        }

        return function (e, i, n) {
            return i && t(e.prototype, i), n && t(e, n), e
        }
    }();
    if ("undefined" == typeof _) throw new Error("You must include the utils.js file before tether.js");
    var N = _.Utils, s = N.getScrollParent, o = N.getBounds, r = N.getOffsetParent, l = N.extend, u = N.addClass,
        h = N.removeClass, p = N.updateClasses, S = N.defer, T = N.flush, a = N.getScrollBarSize, I = function () {
            if ("undefined" == typeof document) return "";
            for (var t = document.createElement("div"), e = ["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"], i = 0; i < e.length; ++i) {
                var n = e[i];
                if (void 0 !== t.style[n]) return n
            }
        }(), H = [], P = function () {
            H.forEach(function (t) {
                t.position(!1)
            }), T()
        };
    !function () {
        var t = null, e = null, i = null, n = function s() {
            return "undefined" != typeof e && e > 16 ? (e = Math.min(e - 16, 250), void(i = setTimeout(s, 250))) : void("undefined" != typeof t && m() - t < 10 || ("undefined" != typeof i && (clearTimeout(i), i = null), t = m(), P(), e = m() - t))
        };
        "undefined" != typeof window && ["resize", "scroll", "touchmove"].forEach(function (t) {
            window.addEventListener(t, n)
        })
    }();
    var A = {center: "center", left: "right", right: "left"}, F = {middle: "middle", top: "bottom", bottom: "top"},
        R = {top: 0, left: 0, middle: "50%", center: "50%", bottom: "100%", right: "100%"}, z = function (t, e) {
            var i = t.left, n = t.top;
            return "auto" === i && (i = A[e.left]), "auto" === n && (n = F[e.top]), {left: i, top: n}
        }, O = function (t) {
            var e = t.left, i = t.top;
            return "undefined" != typeof R[t.left] && (e = R[t.left]), "undefined" != typeof R[t.top] && (i = R[t.top]), {
                left: e,
                top: i
            }
        }, L = function (t) {
            var e = t.split(" "), i = M(e, 2), n = i[0], s = i[1];
            return {top: n, left: s}
        }, B = L, W = function () {
            function t(e) {
                var i = this;
                n(this, t), this.position = this.position.bind(this), H.push(this), this.history = [], this.setOptions(e, !1), _.modules.forEach(function (t) {
                    "undefined" != typeof t.initialize && t.initialize.call(i)
                }), this.position()
            }

            return w(t, [{
                key: "getClass", value: function () {
                    var t = arguments.length <= 0 || void 0 === arguments[0] ? "" : arguments[0], e = this.options.classes;
                    return "undefined" != typeof e && e[t] ? this.options.classes[t] : this.options.classPrefix ? this.options.classPrefix + "-" + t : t
                }
            }, {
                key: "setOptions", value: function (t) {
                    var e = this, i = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1],
                        n = {offset: "0 0", targetOffset: "0 0", targetAttachment: "auto auto", classPrefix: "tether"};
                    this.options = l(n, t);
                    var o = this.options, r = o.element, a = o.target, h = o.targetModifier;
                    if (this.element = r, this.target = a, this.targetModifier = h, "viewport" === this.target ? (this.target = document.body, this.targetModifier = "visible") : "scroll-handle" === this.target && (this.target = document.body, this.targetModifier = "scroll-handle"), ["element", "target"].forEach(function (t) {
                            if ("undefined" == typeof e[t]) throw new Error("Tether Error: Both element and target must be defined");
                            "undefined" != typeof e[t].jquery ? e[t] = e[t][0] : "string" == typeof e[t] && (e[t] = document.querySelector(e[t]))
                        }), u(this.element, this.getClass("element")), this.options.addTargetClasses !== !1 && u(this.target, this.getClass("target")), !this.options.attachment) throw new Error("Tether Error: You must provide an attachment");
                    this.targetAttachment = B(this.options.targetAttachment), this.attachment = B(this.options.attachment), this.offset = L(this.options.offset), this.targetOffset = L(this.options.targetOffset), "undefined" != typeof this.scrollParent && this.disable(), "scroll-handle" === this.targetModifier ? this.scrollParent = this.target : this.scrollParent = s(this.target), this.options.enabled !== !1 && this.enable(i)
                }
            }, {
                key: "getTargetBounds", value: function () {
                    if ("undefined" == typeof this.targetModifier) return o(this.target);
                    if ("visible" === this.targetModifier) {
                        if (this.target === document.body) return {
                            top: pageYOffset,
                            left: pageXOffset,
                            height: innerHeight,
                            width: innerWidth
                        };
                        var t = o(this.target), e = {height: t.height, width: t.width, top: t.top, left: t.left};
                        return e.height = Math.min(e.height, t.height - (pageYOffset - t.top)), e.height = Math.min(e.height, t.height - (t.top + t.height - (pageYOffset + innerHeight))), e.height = Math.min(innerHeight, e.height), e.height -= 2, e.width = Math.min(e.width, t.width - (pageXOffset - t.left)), e.width = Math.min(e.width, t.width - (t.left + t.width - (pageXOffset + innerWidth))), e.width = Math.min(innerWidth, e.width), e.width -= 2, e.top < pageYOffset && (e.top = pageYOffset), e.left < pageXOffset && (e.left = pageXOffset), e
                    }
                    if ("scroll-handle" === this.targetModifier) {
                        var t = void 0, i = this.target;
                        i === document.body ? (i = document.documentElement, t = {
                            left: pageXOffset,
                            top: pageYOffset,
                            height: innerHeight,
                            width: innerWidth
                        }) : t = o(i);
                        var n = getComputedStyle(i),
                            s = i.scrollWidth > i.clientWidth || [n.overflow, n.overflowX].indexOf("scroll") >= 0 || this.target !== document.body,
                            r = 0;
                        s && (r = 15);
                        var a = t.height - parseFloat(n.borderTopWidth) - parseFloat(n.borderBottomWidth) - r, e = {
                            width: 15,
                            height: .975 * a * (a / i.scrollHeight),
                            left: t.left + t.width - parseFloat(n.borderLeftWidth) - 15
                        }, l = 0;
                        408 > a && this.target === document.body && (l = -11e-5 * Math.pow(a, 2) - .00727 * a + 22.58), this.target !== document.body && (e.height = Math.max(e.height, 24));
                        var h = this.target.scrollTop / (i.scrollHeight - a);
                        return e.top = h * (a - e.height - l) + t.top + parseFloat(n.borderTopWidth), this.target === document.body && (e.height = Math.max(e.height, 24)), e
                    }
                }
            }, {
                key: "clearCache", value: function () {
                    this._cache = {}
                }
            }, {
                key: "cache", value: function (t, e) {
                    return "undefined" == typeof this._cache && (this._cache = {}), "undefined" == typeof this._cache[t] && (this._cache[t] = e.call(this)), this._cache[t]
                }
            }, {
                key: "enable", value: function () {
                    var t = arguments.length <= 0 || void 0 === arguments[0] ? !0 : arguments[0];
                    this.options.addTargetClasses !== !1 && u(this.target, this.getClass("enabled")), u(this.element, this.getClass("enabled")), this.enabled = !0, this.scrollParent !== document && this.scrollParent.addEventListener("scroll", this.position), t && this.position()
                }
            }, {
                key: "disable", value: function () {
                    h(this.target, this.getClass("enabled")), h(this.element, this.getClass("enabled")), this.enabled = !1, "undefined" != typeof this.scrollParent && this.scrollParent.removeEventListener("scroll", this.position)
                }
            }, {
                key: "destroy", value: function () {
                    var t = this;
                    this.disable(), H.forEach(function (e, i) {
                        return e === t ? void H.splice(i, 1) : void 0
                    })
                }
            }, {
                key: "updateAttachClasses", value: function (t, e) {
                    var i = this;
                    t = t || this.attachment, e = e || this.targetAttachment;
                    var n = ["left", "top", "bottom", "right", "middle", "center"];
                    "undefined" != typeof this._addAttachClasses && this._addAttachClasses.length && this._addAttachClasses.splice(0, this._addAttachClasses.length), "undefined" == typeof this._addAttachClasses && (this._addAttachClasses = []);
                    var s = this._addAttachClasses;
                    t.top && s.push(this.getClass("element-attached") + "-" + t.top), t.left && s.push(this.getClass("element-attached") + "-" + t.left), e.top && s.push(this.getClass("target-attached") + "-" + e.top), e.left && s.push(this.getClass("target-attached") + "-" + e.left);
                    var o = [];
                    n.forEach(function (t) {
                        o.push(i.getClass("element-attached") + "-" + t), o.push(i.getClass("target-attached") + "-" + t)
                    }), S(function () {
                        "undefined" != typeof i._addAttachClasses && (p(i.element, i._addAttachClasses, o), i.options.addTargetClasses !== !1 && p(i.target, i._addAttachClasses, o), delete i._addAttachClasses)
                    })
                }
            }, {
                key: "position", value: function () {
                    var t = this, e = arguments.length <= 0 || void 0 === arguments[0] ? !0 : arguments[0];
                    if (this.enabled) {
                        this.clearCache();
                        var i = z(this.targetAttachment, this.attachment);
                        this.updateAttachClasses(this.attachment, i);
                        var n = this.cache("element-bounds", function () {
                            return o(t.element)
                        }), s = n.width, l = n.height;
                        if (0 === s && 0 === l && "undefined" != typeof this.lastSize) {
                            var h = this.lastSize;
                            s = h.width, l = h.height
                        } else this.lastSize = {width: s, height: l};
                        var u = this.cache("target-bounds", function () {
                                return t.getTargetBounds()
                            }), c = u, d = y(O(this.attachment), {width: s, height: l}), f = y(O(i), c),
                            p = y(this.offset, {width: s, height: l}), g = y(this.targetOffset, c);
                        d = v(d, p), f = v(f, g);
                        for (var m = u.left + f.left - d.left, b = u.top + f.top - d.top, w = 0; w < _.modules.length; ++w) {
                            var x = _.modules[w], k = x.position.call(this, {
                                left: m,
                                top: b,
                                targetAttachment: i,
                                targetPos: u,
                                elementPos: n,
                                offset: d,
                                targetOffset: f,
                                manualOffset: p,
                                manualTargetOffset: g,
                                scrollbarSize: D,
                                attachment: this.attachment
                            });
                            if (k === !1) return !1;
                            "undefined" != typeof k && "object" == typeof k && (b = k.top, m = k.left)
                        }
                        var C = {
                            page: {top: b, left: m},
                            viewport: {
                                top: b - pageYOffset,
                                bottom: pageYOffset - b - l + innerHeight,
                                left: m - pageXOffset,
                                right: pageXOffset - m - s + innerWidth
                            }
                        }, D = void 0;
                        return document.body.scrollWidth > window.innerWidth && (D = this.cache("scrollbar-size", a), C.viewport.bottom -= D.height), document.body.scrollHeight > window.innerHeight && (D = this.cache("scrollbar-size", a), C.viewport.right -= D.width), (-1 === ["", "static"].indexOf(document.body.style.position) || -1 === ["", "static"].indexOf(document.body.parentElement.style.position)) && (C.page.bottom = document.body.scrollHeight - b - l, C.page.right = document.body.scrollWidth - m - s), "undefined" != typeof this.options.optimizations && this.options.optimizations.moveElement !== !1 && "undefined" == typeof this.targetModifier && !function () {
                            var e = t.cache("target-offsetparent", function () {
                                return r(t.target)
                            }), i = t.cache("target-offsetparent-bounds", function () {
                                return o(e)
                            }), n = getComputedStyle(e), s = i, a = {};
                            if (["Top", "Left", "Bottom", "Right"].forEach(function (t) {
                                    a[t.toLowerCase()] = parseFloat(n["border" + t + "Width"])
                                }), i.right = document.body.scrollWidth - i.left - s.width + a.right, i.bottom = document.body.scrollHeight - i.top - s.height + a.bottom, C.page.top >= i.top + a.top && C.page.bottom >= i.bottom && C.page.left >= i.left + a.left && C.page.right >= i.right) {
                                var l = e.scrollTop, h = e.scrollLeft;
                                C.offset = {top: C.page.top - i.top + l - a.top, left: C.page.left - i.left + h - a.left}
                            }
                        }(), this.move(C), this.history.unshift(C), this.history.length > 3 && this.history.pop(), e && T(), !0
                    }
                }
            }, {
                key: "move", value: function (t) {
                    var e = this;
                    if ("undefined" != typeof this.element.parentNode) {
                        var i = {};
                        for (var n in t) {
                            i[n] = {};
                            for (var s in t[n]) {
                                for (var o = !1, a = 0; a < this.history.length; ++a) {
                                    var h = this.history[a];
                                    if ("undefined" != typeof h[n] && !g(h[n][s], t[n][s])) {
                                        o = !0;
                                        break
                                    }
                                }
                                o || (i[n][s] = !0)
                            }
                        }
                        var u = {top: "", left: "", right: "", bottom: ""}, c = function (t, i) {
                            var n = "undefined" != typeof e.options.optimizations,
                                s = n ? e.options.optimizations.gpu : null;
                            if (s !== !1) {
                                var o = void 0, r = void 0;
                                t.top ? (u.top = 0, o = i.top) : (u.bottom = 0, o = -i.bottom), t.left ? (u.left = 0, r = i.left) : (u.right = 0, r = -i.right), u[I] = "translateX(" + Math.round(r) + "px) translateY(" + Math.round(o) + "px)", "msTransform" !== I && (u[I] += " translateZ(0)")
                            } else t.top ? u.top = i.top + "px" : u.bottom = i.bottom + "px", t.left ? u.left = i.left + "px" : u.right = i.right + "px"
                        }, d = !1;
                        if ((i.page.top || i.page.bottom) && (i.page.left || i.page.right) ? (u.position = "absolute", c(i.page, t.page)) : (i.viewport.top || i.viewport.bottom) && (i.viewport.left || i.viewport.right) ? (u.position = "fixed", c(i.viewport, t.viewport)) : "undefined" != typeof i.offset && i.offset.top && i.offset.left ? !function () {
                                u.position = "absolute";
                                var n = e.cache("target-offsetparent", function () {
                                    return r(e.target)
                                });
                                r(e.element) !== n && S(function () {
                                    e.element.parentNode.removeChild(e.element), n.appendChild(e.element)
                                }), c(i.offset, t.offset), d = !0
                            }() : (u.position = "absolute", c({top: !0, left: !0}, t.page)), !d) {
                            for (var f = !0, p = this.element.parentNode; p && "BODY" !== p.tagName;) {
                                if ("static" !== getComputedStyle(p).position) {
                                    f = !1;
                                    break
                                }
                                p = p.parentNode
                            }
                            f || (this.element.parentNode.removeChild(this.element), document.body.appendChild(this.element))
                        }
                        var m = {}, v = !1;
                        for (var s in u) {
                            var y = u[s], b = this.element.style[s];
                            "" !== b && "" !== y && ["top", "left", "bottom", "right"].indexOf(s) >= 0 && (b = parseFloat(b), y = parseFloat(y)), b !== y && (v = !0, m[s] = y)
                        }
                        v && S(function () {
                            l(e.element.style, m)
                        })
                    }
                }
            }]), t
        }();
    W.modules = [], _.position = P;
    var Y = l(W, _), M = function () {
            function t(t, e) {
                var i = [], n = !0, s = !1, o = void 0;
                try {
                    for (var r, a = t[Symbol.iterator](); !(n = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); n = !0) ;
                } catch (l) {
                    s = !0, o = l
                } finally {
                    try {
                        !n && a["return"] && a["return"]()
                    } finally {
                        if (s) throw o
                    }
                }
                return i
            }

            return function (e, i) {
                if (Array.isArray(e)) return e;
                if (Symbol.iterator in Object(e)) return t(e, i);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }(), N = _.Utils, o = N.getBounds, l = N.extend, p = N.updateClasses, S = N.defer,
        U = ["left", "top", "right", "bottom"];
    _.modules.push({
        position: function (t) {
            var e = this, i = t.top, n = t.left, s = t.targetAttachment;
            if (!this.options.constraints) return !0;
            var r = this.cache("element-bounds", function () {
                return o(e.element)
            }), a = r.height, h = r.width;
            if (0 === h && 0 === a && "undefined" != typeof this.lastSize) {
                var u = this.lastSize;
                h = u.width, a = u.height
            }
            var c = this.cache("target-bounds", function () {
                return e.getTargetBounds()
            }), d = c.height, f = c.width, g = [this.getClass("pinned"), this.getClass("out-of-bounds")];
            this.options.constraints.forEach(function (t) {
                var e = t.outOfBoundsClass, i = t.pinnedClass;
                e && g.push(e), i && g.push(i)
            }), g.forEach(function (t) {
                ["left", "top", "right", "bottom"].forEach(function (e) {
                    g.push(t + "-" + e)
                })
            });
            var m = [], v = l({}, s), y = l({}, this.attachment);
            return this.options.constraints.forEach(function (t) {
                var o = t.to, r = t.attachment, l = t.pin;
                "undefined" == typeof r && (r = "");
                var u = void 0, c = void 0;
                if (r.indexOf(" ") >= 0) {
                    var p = r.split(" "), g = M(p, 2);
                    c = g[0], u = g[1]
                } else u = c = r;
                var w = b(e, o);
                ("target" === c || "both" === c) && (i < w[1] && "top" === v.top && (i += d, v.top = "bottom"), i + a > w[3] && "bottom" === v.top && (i -= d, v.top = "top")), "together" === c && (i < w[1] && "top" === v.top && ("bottom" === y.top ? (i += d, v.top = "bottom", i += a, y.top = "top") : "top" === y.top && (i += d, v.top = "bottom", i -= a, y.top = "bottom")), i + a > w[3] && "bottom" === v.top && ("top" === y.top ? (i -= d, v.top = "top", i -= a, y.top = "bottom") : "bottom" === y.top && (i -= d, v.top = "top", i += a, y.top = "top")), "middle" === v.top && (i + a > w[3] && "top" === y.top ? (i -= a, y.top = "bottom") : i < w[1] && "bottom" === y.top && (i += a, y.top = "top"))), ("target" === u || "both" === u) && (n < w[0] && "left" === v.left && (n += f, v.left = "right"), n + h > w[2] && "right" === v.left && (n -= f, v.left = "left")), "together" === u && (n < w[0] && "left" === v.left ? "right" === y.left ? (n += f, v.left = "right", n += h, y.left = "left") : "left" === y.left && (n += f, v.left = "right", n -= h, y.left = "right") : n + h > w[2] && "right" === v.left ? "left" === y.left ? (n -= f, v.left = "left", n -= h, y.left = "right") : "right" === y.left && (n -= f, v.left = "left", n += h, y.left = "left") : "center" === v.left && (n + h > w[2] && "left" === y.left ? (n -= h, y.left = "right") : n < w[0] && "right" === y.left && (n += h, y.left = "left"))), ("element" === c || "both" === c) && (i < w[1] && "bottom" === y.top && (i += a, y.top = "top"), i + a > w[3] && "top" === y.top && (i -= a, y.top = "bottom")), ("element" === u || "both" === u) && (n < w[0] && "right" === y.left && (n += h, y.left = "left"), n + h > w[2] && "left" === y.left && (n -= h, y.left = "right")), "string" == typeof l ? l = l.split(",").map(function (t) {
                    return t.trim()
                }) : l === !0 && (l = ["top", "left", "right", "bottom"]), l = l || [];
                var _ = [], x = [];
                i < w[1] && (l.indexOf("top") >= 0 ? (i = w[1], _.push("top")) : x.push("top")), i + a > w[3] && (l.indexOf("bottom") >= 0 ? (i = w[3] - a, _.push("bottom")) : x.push("bottom")), n < w[0] && (l.indexOf("left") >= 0 ? (n = w[0], _.push("left")) : x.push("left")), n + h > w[2] && (l.indexOf("right") >= 0 ? (n = w[2] - h, _.push("right")) : x.push("right")), _.length && !function () {
                    var t = void 0;
                    t = "undefined" != typeof e.options.pinnedClass ? e.options.pinnedClass : e.getClass("pinned"), m.push(t), _.forEach(function (e) {
                        m.push(t + "-" + e)
                    })
                }(), x.length && !function () {
                    var t = void 0;
                    t = "undefined" != typeof e.options.outOfBoundsClass ? e.options.outOfBoundsClass : e.getClass("out-of-bounds"), m.push(t), x.forEach(function (e) {
                        m.push(t + "-" + e)
                    })
                }(), (_.indexOf("left") >= 0 || _.indexOf("right") >= 0) && (y.left = v.left = !1), (_.indexOf("top") >= 0 || _.indexOf("bottom") >= 0) && (y.top = v.top = !1), (v.top !== s.top || v.left !== s.left || y.top !== e.attachment.top || y.left !== e.attachment.left) && e.updateAttachClasses(y, v)
            }), S(function () {
                e.options.addTargetClasses !== !1 && p(e.target, m, g), p(e.element, m, g)
            }), {top: i, left: n}
        }
    });
    var N = _.Utils, o = N.getBounds, p = N.updateClasses, S = N.defer;
    _.modules.push({
        position: function (t) {
            var e = this, i = t.top, n = t.left, s = this.cache("element-bounds", function () {
                return o(e.element)
            }), r = s.height, a = s.width, l = this.getTargetBounds(), h = i + r, u = n + a, c = [];
            i <= l.bottom && h >= l.top && ["left", "right"].forEach(function (t) {
                var e = l[t];
                (e === n || e === u) && c.push(t)
            }), n <= l.right && u >= l.left && ["top", "bottom"].forEach(function (t) {
                var e = l[t];
                (e === i || e === h) && c.push(t)
            });
            var d = [], f = [], g = ["left", "top", "right", "bottom"];
            return d.push(this.getClass("abutted")), g.forEach(function (t) {
                d.push(e.getClass("abutted") + "-" + t)
            }), c.length && f.push(this.getClass("abutted")), c.forEach(function (t) {
                f.push(e.getClass("abutted") + "-" + t)
            }), S(function () {
                e.options.addTargetClasses !== !1 && p(e.target, f, d), p(e.element, f, d)
            }), !0
        }
    });
    var M = function () {
        function t(t, e) {
            var i = [], n = !0, s = !1, o = void 0;
            try {
                for (var r, a = t[Symbol.iterator](); !(n = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); n = !0) ;
            } catch (l) {
                s = !0, o = l
            } finally {
                try {
                    !n && a["return"] && a["return"]()
                } finally {
                    if (s) throw o
                }
            }
            return i
        }

        return function (e, i) {
            if (Array.isArray(e)) return e;
            if (Symbol.iterator in Object(e)) return t(e, i);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }();
    return _.modules.push({
        position: function (t) {
            var e = t.top, i = t.left;
            if (this.options.shift) {
                var n = this.options.shift;
                "function" == typeof this.options.shift && (n = this.options.shift.call(this, {top: e, left: i}));
                var s = void 0, o = void 0;
                if ("string" == typeof n) {
                    n = n.split(" "), n[1] = n[1] || n[0];
                    var r = n, a = M(r, 2);
                    s = a[0], o = a[1], s = parseFloat(s, 10), o = parseFloat(o, 10)
                } else s = n.top, o = n.left;
                return e += s, i += o, {top: e, left: i}
            }
        }
    }), Y
}), function (t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function (t) {
    function e(e, n) {
        var s, o, r, a = e.nodeName.toLowerCase();
        return "area" === a ? (s = e.parentNode, o = s.name, e.href && o && "map" === s.nodeName.toLowerCase() ? (r = t("img[usemap='#" + o + "']")[0], !!r && i(r)) : !1) : (/^(input|select|textarea|button|object)$/.test(a) ? !e.disabled : "a" === a ? e.href || n : n) && i(e)
    }

    function i(e) {
        return t.expr.filters.visible(e) && !t(e).parents().addBack().filter(function () {
            return "hidden" === t.css(this, "visibility")
        }).length
    }

    function n(t) {
        for (var e, i; t.length && t[0] !== document;) {
            if (e = t.css("position"), ("absolute" === e || "relative" === e || "fixed" === e) && (i = parseInt(t.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i;
            t = t.parent()
        }
        return 0
    }

    function s() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        }, this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        }, t.extend(this._defaults, this.regional[""]), this.regional.en = t.extend(!0, {}, this.regional[""]), this.regional["en-US"] = t.extend(!0, {}, this.regional.en), this.dpDiv = o(t("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function o(e) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return e.delegate(i, "mouseout", function () {
            t(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).removeClass("ui-datepicker-next-hover")
        }).delegate(i, "mouseover", r)
    }

    function r() {
        t.datepicker._isDisabledDatepicker(v.inline ? v.dpDiv.parent()[0] : v.input[0]) || (t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), t(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).addClass("ui-datepicker-next-hover"))
    }

    function a(e, i) {
        t.extend(e, i);
        for (var n in i) null == i[n] && (e[n] = i[n]);
        return e
    }

    function l(t) {
        return function () {
            var e = this.element.val();
            t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change")
        }
    }

    t.ui = t.ui || {}, t.extend(t.ui, {
        version: "1.11.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }), t.fn.extend({
        scrollParent: function (e) {
            var i = this.css("position"), n = "absolute" === i, s = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                o = this.parents().filter(function () {
                    var e = t(this);
                    return n && "static" === e.css("position") ? !1 : s.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
                }).eq(0);
            return "fixed" !== i && o.length ? o : t(this[0].ownerDocument || document)
        }, uniqueId: function () {
            var t = 0;
            return function () {
                return this.each(function () {
                    this.id || (this.id = "ui-id-" + ++t)
                })
            }
        }(), removeUniqueId: function () {
            return this.each(function () {
                /^ui-id-\d+$/.test(this.id) && t(this).removeAttr("id")
            })
        }
    }), t.extend(t.expr[":"], {
        data: t.expr.createPseudo ? t.expr.createPseudo(function (e) {
            return function (i) {
                return !!t.data(i, e)
            }
        }) : function (e, i, n) {
            return !!t.data(e, n[3])
        }, focusable: function (i) {
            return e(i, !isNaN(t.attr(i, "tabindex")))
        }, tabbable: function (i) {
            var n = t.attr(i, "tabindex"), s = isNaN(n);
            return (s || n >= 0) && e(i, !s)
        }
    }), t("<a>").outerWidth(1).jquery || t.each(["Width", "Height"], function (e, i) {
        function n(e, i, n, o) {
            return t.each(s, function () {
                i -= parseFloat(t.css(e, "padding" + this)) || 0, n && (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0), o && (i -= parseFloat(t.css(e, "margin" + this)) || 0)
            }), i
        }

        var s = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"], o = i.toLowerCase(), r = {
            innerWidth: t.fn.innerWidth,
            innerHeight: t.fn.innerHeight,
            outerWidth: t.fn.outerWidth,
            outerHeight: t.fn.outerHeight
        };
        t.fn["inner" + i] = function (e) {
            return void 0 === e ? r["inner" + i].call(this) : this.each(function () {
                t(this).css(o, n(this, e) + "px")
            })
        }, t.fn["outer" + i] = function (e, s) {
            return "number" != typeof e ? r["outer" + i].call(this, e) : this.each(function () {
                t(this).css(o, n(this, e, !0, s) + "px")
            })
        }
    }), t.fn.addBack || (t.fn.addBack = function (t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
    }), t("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (t.fn.removeData = function (e) {
        return function (i) {
            return arguments.length ? e.call(this, t.camelCase(i)) : e.call(this)
        }
    }(t.fn.removeData)), t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), t.fn.extend({
        focus: function (e) {
            return function (i, n) {
                return "number" == typeof i ? this.each(function () {
                    var e = this;
                    setTimeout(function () {
                        t(e).focus(), n && n.call(e)
                    }, i)
                }) : e.apply(this, arguments)
            }
        }(t.fn.focus), disableSelection: function () {
            var t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
            return function () {
                return this.bind(t + ".ui-disableSelection", function (t) {
                    t.preventDefault()
                })
            }
        }(), enableSelection: function () {
            return this.unbind(".ui-disableSelection")
        }, zIndex: function (e) {
            if (void 0 !== e) return this.css("zIndex", e);
            if (this.length) for (var i, n, s = t(this[0]); s.length && s[0] !== document;) {
                if (i = s.css("position"), ("absolute" === i || "relative" === i || "fixed" === i) && (n = parseInt(s.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n;
                s = s.parent()
            }
            return 0
        }
    }), t.ui.plugin = {
        add: function (e, i, n) {
            var s, o = t.ui[e].prototype;
            for (s in n) o.plugins[s] = o.plugins[s] || [], o.plugins[s].push([i, n[s]])
        }, call: function (t, e, i, n) {
            var s, o = t.plugins[e];
            if (o && (n || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType)) for (s = 0; s < o.length; s++) t.options[o[s][0]] && o[s][1].apply(t.element, i)
        }
    };
    var h = 0, u = Array.prototype.slice;
    t.cleanData = function (e) {
        return function (i) {
            var n, s, o;
            for (o = 0; null != (s = i[o]); o++) try {
                n = t._data(s, "events"), n && n.remove && t(s).triggerHandler("remove")
            } catch (r) {
            }
            e(i)
        }
    }(t.cleanData), t.widget = function (e, i, n) {
        var s, o, r, a, l = {}, h = e.split(".")[0];
        return e = e.split(".")[1], s = h + "-" + e, n || (n = i, i = t.Widget), t.expr[":"][s.toLowerCase()] = function (e) {
            return !!t.data(e, s)
        }, t[h] = t[h] || {}, o = t[h][e], r = t[h][e] = function (t, e) {
            return this._createWidget ? void(arguments.length && this._createWidget(t, e)) : new r(t, e)
        }, t.extend(r, o, {
            version: n.version,
            _proto: t.extend({}, n),
            _childConstructors: []
        }), a = new i, a.options = t.widget.extend({}, a.options), t.each(n, function (e, n) {
            return t.isFunction(n) ? void(l[e] = function () {
                var t = function () {
                    return i.prototype[e].apply(this, arguments)
                }, s = function (t) {
                    return i.prototype[e].apply(this, t)
                };
                return function () {
                    var e, i = this._super, o = this._superApply;
                    return this._super = t, this._superApply = s, e = n.apply(this, arguments), this._super = i, this._superApply = o, e
                }
            }()) : void(l[e] = n)
        }), r.prototype = t.widget.extend(a, {widgetEventPrefix: o ? a.widgetEventPrefix || e : e}, l, {
            constructor: r,
            namespace: h,
            widgetName: e,
            widgetFullName: s
        }), o ? (t.each(o._childConstructors, function (e, i) {
            var n = i.prototype;
            t.widget(n.namespace + "." + n.widgetName, r, i._proto)
        }), delete o._childConstructors) : i._childConstructors.push(r), t.widget.bridge(e, r), r
    }, t.widget.extend = function (e) {
        for (var i, n, s = u.call(arguments, 1), o = 0, r = s.length; r > o; o++) for (i in s[o]) n = s[o][i], s[o].hasOwnProperty(i) && void 0 !== n && (t.isPlainObject(n) ? e[i] = t.isPlainObject(e[i]) ? t.widget.extend({}, e[i], n) : t.widget.extend({}, n) : e[i] = n);
        return e
    }, t.widget.bridge = function (e, i) {
        var n = i.prototype.widgetFullName || e;
        t.fn[e] = function (s) {
            var o = "string" == typeof s, r = u.call(arguments, 1), a = this;
            return o ? this.each(function () {
                var i, o = t.data(this, n);
                return "instance" === s ? (a = o, !1) : o ? t.isFunction(o[s]) && "_" !== s.charAt(0) ? (i = o[s].apply(o, r), i !== o && void 0 !== i ? (a = i && i.jquery ? a.pushStack(i.get()) : i, !1) : void 0) : t.error("no such method '" + s + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; attempted to call method '" + s + "'")
            }) : (r.length && (s = t.widget.extend.apply(null, [s].concat(r))), this.each(function () {
                var e = t.data(this, n);
                e ? (e.option(s || {}), e._init && e._init()) : t.data(this, n, new i(s, this))
            })), a
        }
    }, t.Widget = function () {
    }, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {disabled: !1, create: null},
        _createWidget: function (e, i) {
            i = t(i || this.defaultElement || this)[0], this.element = t(i), this.uuid = h++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = t(), this.hoverable = t(), this.focusable = t(), i !== this && (t.data(i, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function (t) {
                    t.target === i && this.destroy()
                }
            }), this.document = t(i.style ? i.ownerDocument : i.document || i), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function () {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function () {
            return this.element
        },
        option: function (e, i) {
            var n, s, o, r = e;
            if (0 === arguments.length) return t.widget.extend({}, this.options);
            if ("string" == typeof e) if (r = {}, n = e.split("."), e = n.shift(), n.length) {
                for (s = r[e] = t.widget.extend({}, this.options[e]), o = 0; o < n.length - 1; o++) s[n[o]] = s[n[o]] || {}, s = s[n[o]];
                if (e = n.pop(), 1 === arguments.length) return void 0 === s[e] ? null : s[e];
                s[e] = i
            } else {
                if (1 === arguments.length) return void 0 === this.options[e] ? null : this.options[e];
                r[e] = i
            }
            return this._setOptions(r), this
        },
        _setOptions: function (t) {
            var e;
            for (e in t) this._setOption(e, t[e]);
            return this
        },
        _setOption: function (t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!e), e && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
        },
        enable: function () {
            return this._setOptions({disabled: !1})
        },
        disable: function () {
            return this._setOptions({disabled: !0})
        },
        _on: function (e, i, n) {
            var s, o = this;
            "boolean" != typeof e && (n = i, i = e, e = !1), n ? (i = s = t(i), this.bindings = this.bindings.add(i)) : (n = i, i = this.element, s = this.widget()), t.each(n, function (n, r) {
                function a() {
                    return e || o.options.disabled !== !0 && !t(this).hasClass("ui-state-disabled") ? ("string" == typeof r ? o[r] : r).apply(o, arguments) : void 0
                }

                "string" != typeof r && (a.guid = r.guid = r.guid || a.guid || t.guid++);
                var l = n.match(/^([\w:-]*)\s*(.*)$/), h = l[1] + o.eventNamespace, u = l[2];
                u ? s.delegate(u, h, a) : i.bind(h, a)
            })
        },
        _off: function (e, i) {
            i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(i).undelegate(i), this.bindings = t(this.bindings.not(e).get()), this.focusable = t(this.focusable.not(e).get()), this.hoverable = t(this.hoverable.not(e).get())
        },
        _delay: function (t, e) {
            function i() {
                return ("string" == typeof t ? n[t] : t).apply(n, arguments)
            }

            var n = this;
            return setTimeout(i, e || 0)
        },
        _hoverable: function (e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function (e) {
                    t(e.currentTarget).addClass("ui-state-hover")
                }, mouseleave: function (e) {
                    t(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function (e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function (e) {
                    t(e.currentTarget).addClass("ui-state-focus")
                }, focusout: function (e) {
                    t(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function (e, i, n) {
            var s, o, r = this.options[e];
            if (n = n || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], o = i.originalEvent) for (s in o) s in i || (i[s] = o[s]);
            return this.element.trigger(i, n), !(t.isFunction(r) && r.apply(this.element[0], [i].concat(n)) === !1 || i.isDefaultPrevented())
        }
    }, t.each({show: "fadeIn", hide: "fadeOut"}, function (e, i) {
        t.Widget.prototype["_" + e] = function (n, s, o) {
            "string" == typeof s && (s = {effect: s});
            var r, a = s ? s === !0 || "number" == typeof s ? i : s.effect || i : e;
            s = s || {}, "number" == typeof s && (s = {duration: s}), r = !t.isEmptyObject(s), s.complete = o, s.delay && n.delay(s.delay), r && t.effects && t.effects.effect[a] ? n[e](s) : a !== e && n[a] ? n[a](s.duration, s.easing, o) : n.queue(function (i) {
                t(this)[e](), o && o.call(n[0]), i()
            })
        }
    });
    var c = (t.widget, !1);
    t(document).mouseup(function () {
        c = !1
    });
    t.widget("ui.mouse", {
        version: "1.11.4",
        options: {cancel: "input,textarea,button,select,option", distance: 1, delay: 0},
        _mouseInit: function () {
            var e = this;
            this.element.bind("mousedown." + this.widgetName, function (t) {
                return e._mouseDown(t)
            }).bind("click." + this.widgetName, function (i) {
                return !0 === t.data(i.target, e.widgetName + ".preventClickEvent") ? (t.removeData(i.target, e.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) : void 0
            }), this.started = !1
        },
        _mouseDestroy: function () {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function (e) {
            if (!c) {
                this._mouseMoved = !1, this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e;
                var i = this, n = 1 === e.which,
                    s = "string" == typeof this.options.cancel && e.target.nodeName ? t(e.target).closest(this.options.cancel).length : !1;
                return n && !s && this._mouseCapture(e) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () {
                    i.mouseDelayMet = !0
                }, this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(e) !== !1, !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (t) {
                    return i._mouseMove(t)
                }, this._mouseUpDelegate = function (t) {
                    return i._mouseUp(t)
                }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), c = !0, !0)) : !0
            }
        },
        _mouseMove: function (e) {
            if (this._mouseMoved) {
                if (t.ui.ie && (!document.documentMode || document.documentMode < 9) && !e.button) return this._mouseUp(e);
                if (!e.which) return this._mouseUp(e)
            }
            return (e.which || e.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, e) !== !1, this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
        },
        _mouseUp: function (e) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), c = !1, !1
        },
        _mouseDistanceMet: function (t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function () {
            return this.mouseDelayMet
        },
        _mouseStart: function () {
        },
        _mouseDrag: function () {
        },
        _mouseStop: function () {
        },
        _mouseCapture: function () {
            return !0
        }
    });
    !function () {
        function e(t, e, i) {
            return [parseFloat(t[0]) * (f.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (f.test(t[1]) ? i / 100 : 1)]
        }

        function i(e, i) {
            return parseInt(t.css(e, i), 10) || 0
        }

        function n(e) {
            var i = e[0];
            return 9 === i.nodeType ? {
                width: e.width(),
                height: e.height(),
                offset: {top: 0, left: 0}
            } : t.isWindow(i) ? {
                width: e.width(),
                height: e.height(),
                offset: {top: e.scrollTop(), left: e.scrollLeft()}
            } : i.preventDefault ? {
                width: 0,
                height: 0,
                offset: {top: i.pageY, left: i.pageX}
            } : {width: e.outerWidth(), height: e.outerHeight(), offset: e.offset()}
        }

        t.ui = t.ui || {};
        var s, o, r = Math.max, a = Math.abs, l = Math.round, h = /left|center|right/, u = /top|center|bottom/,
            c = /[\+\-]\d+(\.[\d]+)?%?/, d = /^\w+/, f = /%$/, p = t.fn.position;
        t.position = {
            scrollbarWidth: function () {
                if (void 0 !== s) return s;
                var e, i,
                    n = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    o = n.children()[0];
                return t("body").append(n), e = o.offsetWidth, n.css("overflow", "scroll"), i = o.offsetWidth, e === i && (i = n[0].clientWidth), n.remove(), s = e - i
            }, getScrollInfo: function (e) {
                var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                    n = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                    s = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth,
                    o = "scroll" === n || "auto" === n && e.height < e.element[0].scrollHeight;
                return {width: o ? t.position.scrollbarWidth() : 0, height: s ? t.position.scrollbarWidth() : 0}
            }, getWithinInfo: function (e) {
                var i = t(e || window), n = t.isWindow(i[0]), s = !!i[0] && 9 === i[0].nodeType;
                return {
                    element: i,
                    isWindow: n,
                    isDocument: s,
                    offset: i.offset() || {left: 0, top: 0},
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: n || s ? i.width() : i.outerWidth(),
                    height: n || s ? i.height() : i.outerHeight()
                }
            }
        }, t.fn.position = function (s) {
            if (!s || !s.of) return p.apply(this, arguments);
            s = t.extend({}, s);
            var f, g, m, v, y, b, w = t(s.of), _ = t.position.getWithinInfo(s.within), x = t.position.getScrollInfo(_),
                k = (s.collision || "flip").split(" "), C = {};
            return b = n(w), w[0].preventDefault && (s.at = "left top"), g = b.width, m = b.height, v = b.offset, y = t.extend({}, v), t.each(["my", "at"], function () {
                var t, e, i = (s[this] || "").split(" ");
                1 === i.length && (i = h.test(i[0]) ? i.concat(["center"]) : u.test(i[0]) ? ["center"].concat(i) : ["center", "center"]), i[0] = h.test(i[0]) ? i[0] : "center", i[1] = u.test(i[1]) ? i[1] : "center", t = c.exec(i[0]), e = c.exec(i[1]), C[this] = [t ? t[0] : 0, e ? e[0] : 0], s[this] = [d.exec(i[0])[0], d.exec(i[1])[0]]
            }), 1 === k.length && (k[1] = k[0]), "right" === s.at[0] ? y.left += g : "center" === s.at[0] && (y.left += g / 2), "bottom" === s.at[1] ? y.top += m : "center" === s.at[1] && (y.top += m / 2), f = e(C.at, g, m), y.left += f[0], y.top += f[1], this.each(function () {
                var n, h, u = t(this), c = u.outerWidth(), d = u.outerHeight(), p = i(this, "marginLeft"),
                    b = i(this, "marginTop"), D = c + p + i(this, "marginRight") + x.width,
                    S = d + b + i(this, "marginBottom") + x.height, T = t.extend({}, y),
                    E = e(C.my, u.outerWidth(), u.outerHeight());
                "right" === s.my[0] ? T.left -= c : "center" === s.my[0] && (T.left -= c / 2), "bottom" === s.my[1] ? T.top -= d : "center" === s.my[1] && (T.top -= d / 2), T.left += E[0], T.top += E[1], o || (T.left = l(T.left), T.top = l(T.top)), n = {
                    marginLeft: p,
                    marginTop: b
                }, t.each(["left", "top"], function (e, i) {
                    t.ui.position[k[e]] && t.ui.position[k[e]][i](T, {
                        targetWidth: g,
                        targetHeight: m,
                        elemWidth: c,
                        elemHeight: d,
                        collisionPosition: n,
                        collisionWidth: D,
                        collisionHeight: S,
                        offset: [f[0] + E[0], f[1] + E[1]],
                        my: s.my,
                        at: s.at,
                        within: _,
                        elem: u
                    })
                }), s.using && (h = function (t) {
                    var e = v.left - T.left, i = e + g - c, n = v.top - T.top, o = n + m - d, l = {
                        target: {element: w, left: v.left, top: v.top, width: g, height: m},
                        element: {element: u, left: T.left, top: T.top, width: c, height: d},
                        horizontal: 0 > i ? "left" : e > 0 ? "right" : "center",
                        vertical: 0 > o ? "top" : n > 0 ? "bottom" : "middle"
                    };
                    c > g && a(e + i) < g && (l.horizontal = "center"), d > m && a(n + o) < m && (l.vertical = "middle"), r(a(e), a(i)) > r(a(n), a(o)) ? l.important = "horizontal" : l.important = "vertical", s.using.call(this, t, l)
                }), u.offset(t.extend(T, {using: h}))
            })
        }, t.ui.position = {
            fit: {
                left: function (t, e) {
                    var i, n = e.within, s = n.isWindow ? n.scrollLeft : n.offset.left, o = n.width,
                        a = t.left - e.collisionPosition.marginLeft, l = s - a, h = a + e.collisionWidth - o - s;
                    e.collisionWidth > o ? l > 0 && 0 >= h ? (i = t.left + l + e.collisionWidth - o - s, t.left += l - i) : h > 0 && 0 >= l ? t.left = s : l > h ? t.left = s + o - e.collisionWidth : t.left = s : l > 0 ? t.left += l : h > 0 ? t.left -= h : t.left = r(t.left - a, t.left)
                }, top: function (t, e) {
                    var i, n = e.within, s = n.isWindow ? n.scrollTop : n.offset.top, o = e.within.height,
                        a = t.top - e.collisionPosition.marginTop, l = s - a, h = a + e.collisionHeight - o - s;
                    e.collisionHeight > o ? l > 0 && 0 >= h ? (i = t.top + l + e.collisionHeight - o - s, t.top += l - i) : h > 0 && 0 >= l ? t.top = s : l > h ? t.top = s + o - e.collisionHeight : t.top = s : l > 0 ? t.top += l : h > 0 ? t.top -= h : t.top = r(t.top - a, t.top)
                }
            }, flip: {
                left: function (t, e) {
                    var i, n, s = e.within, o = s.offset.left + s.scrollLeft, r = s.width,
                        l = s.isWindow ? s.scrollLeft : s.offset.left, h = t.left - e.collisionPosition.marginLeft,
                        u = h - l, c = h + e.collisionWidth - r - l,
                        d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                        f = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                        p = -2 * e.offset[0];
                    0 > u ? (i = t.left + d + f + p + e.collisionWidth - r - o, (0 > i || i < a(u)) && (t.left += d + f + p)) : c > 0 && (n = t.left - e.collisionPosition.marginLeft + d + f + p - l, (n > 0 || a(n) < c) && (t.left += d + f + p))
                }, top: function (t, e) {
                    var i, n, s = e.within, o = s.offset.top + s.scrollTop, r = s.height,
                        l = s.isWindow ? s.scrollTop : s.offset.top, h = t.top - e.collisionPosition.marginTop,
                        u = h - l, c = h + e.collisionHeight - r - l, d = "top" === e.my[1],
                        f = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                        p = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                        g = -2 * e.offset[1];
                    0 > u ? (n = t.top + f + p + g + e.collisionHeight - r - o, (0 > n || n < a(u)) && (t.top += f + p + g)) : c > 0 && (i = t.top - e.collisionPosition.marginTop + f + p + g - l, (i > 0 || a(i) < c) && (t.top += f + p + g))
                }
            }, flipfit: {
                left: function () {
                    t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                }, top: function () {
                    t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                }
            }
        }, function () {
            var e, i, n, s, r, a = document.getElementsByTagName("body")[0], l = document.createElement("div");
            e = document.createElement(a ? "div" : "body"), n = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            }, a && t.extend(n, {position: "absolute", left: "-1000px", top: "-1000px"});
            for (r in n) e.style[r] = n[r];
            e.appendChild(l), i = a || document.documentElement, i.insertBefore(e, i.firstChild), l.style.cssText = "position: absolute; left: 10.7432222px;", s = t(l).offset().left, o = s > 10 && 11 > s, e.innerHTML = "", i.removeChild(e)
        }()
    }();
    t.ui.position, t.widget("ui.accordion", {
        version: "1.11.4",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {activeHeader: "ui-icon-triangle-1-s", header: "ui-icon-triangle-1-e"},
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function () {
            var e = this.options;
            this.prevShow = this.prevHide = t(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), e.collapsible || e.active !== !1 && null != e.active || (e.active = 0), this._processPanels(), e.active < 0 && (e.active += this.headers.length), this._refresh()
        },
        _getCreateEventData: function () {
            return {header: this.active, panel: this.active.length ? this.active.next() : t()}
        },
        _createIcons: function () {
            var e = this.options.icons;
            e && (t("<span>").addClass("ui-accordion-header-icon ui-icon " + e.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader), this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function () {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function () {
            var t;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(), this._destroyIcons(), t = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(), "content" !== this.options.heightStyle && t.css("height", "")
        },
        _setOption: function (t, e) {
            return "active" === t ? void this._activate(e) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || this.options.active !== !1 || this._activate(0), "icons" === t && (this._destroyIcons(), e && this._createIcons()), void("disabled" === t && (this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e), this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!e))))
        },
        _keydown: function (e) {
            if (!e.altKey && !e.ctrlKey) {
                var i = t.ui.keyCode, n = this.headers.length, s = this.headers.index(e.target), o = !1;
                switch (e.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        o = this.headers[(s + 1) % n];
                        break;
                    case i.LEFT:
                    case i.UP:
                        o = this.headers[(s - 1 + n) % n];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(e);
                        break;
                    case i.HOME:
                        o = this.headers[0];
                        break;
                    case i.END:
                        o = this.headers[n - 1]
                }
                o && (t(e.target).attr("tabIndex", -1), t(o).attr("tabIndex", 0), o.focus(), e.preventDefault())
            }
        },
        _panelKeyDown: function (e) {
            e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().focus()
        },
        refresh: function () {
            var e = this.options;
            this._processPanels(), e.active === !1 && e.collapsible === !0 || !this.headers.length ? (e.active = !1, this.active = t()) : e.active === !1 ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
        },
        _processPanels: function () {
            var t = this.headers, e = this.panels;
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"), this.panels = this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(), e && (this._off(t.not(this.headers)), this._off(e.not(this.panels)))
        },
        _refresh: function () {
            var e, i = this.options, n = i.heightStyle, s = this.element.parent();
            this.active = this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function () {
                var e = t(this), i = e.uniqueId().attr("id"), n = e.next(), s = n.uniqueId().attr("id");
                e.attr("aria-controls", s), n.attr("aria-labelledby", i)
            }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({"aria-hidden": "true"}).hide(), this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({"aria-hidden": "false"}) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(i.event), "fill" === n ? (e = s.height(), this.element.siblings(":visible").each(function () {
                var i = t(this), n = i.css("position");
                "absolute" !== n && "fixed" !== n && (e -= i.outerHeight(!0))
            }), this.headers.each(function () {
                e -= t(this).outerHeight(!0)
            }), this.headers.next().each(function () {
                t(this).height(Math.max(0, e - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === n && (e = 0, this.headers.next().each(function () {
                e = Math.max(e, t(this).css("height", "").height())
            }).height(e))
        },
        _activate: function (e) {
            var i = this._findActive(e)[0];
            i !== this.active[0] && (i = i || this.active[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function (e) {
            return "number" == typeof e ? this.headers.eq(e) : t()
        },
        _setupEvents: function (e) {
            var i = {keydown: "_keydown"};
            e && t.each(e.split(" "), function (t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), {keydown: "_panelKeyDown"}), this._hoverable(this.headers), this._focusable(this.headers)
        },
        _eventHandler: function (e) {
            var i = this.options, n = this.active, s = t(e.currentTarget), o = s[0] === n[0], r = o && i.collapsible,
                a = r ? t() : s.next(), l = n.next(),
                h = {oldHeader: n, oldPanel: l, newHeader: r ? t() : s, newPanel: a};
            e.preventDefault(), o && !i.collapsible || this._trigger("beforeActivate", e, h) === !1 || (i.active = r ? !1 : this.headers.index(s), this.active = o ? t() : s, this._toggle(h), n.removeClass("ui-accordion-header-active ui-state-active"), i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), o || (s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), s.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function (e) {
            var i = e.newPanel, n = this.prevShow.length ? this.prevShow : e.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = n, this.options.animate ? this._animate(i, n, e) : (n.hide(), i.show(), this._toggleComplete(e)), n.attr({"aria-hidden": "true"}), n.prev().attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), i.length && n.length ? n.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function () {
                return 0 === parseInt(t(this).attr("tabIndex"), 10)
            }).attr("tabIndex", -1), i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _animate: function (t, e, i) {
            var n, s, o, r = this, a = 0, l = t.css("box-sizing"), h = t.length && (!e.length || t.index() < e.index()),
                u = this.options.animate || {}, c = h && u.down || u, d = function () {
                    r._toggleComplete(i)
                };
            return "number" == typeof c && (o = c), "string" == typeof c && (s = c), s = s || c.easing || u.easing, o = o || c.duration || u.duration, e.length ? t.length ? (n = t.show().outerHeight(), e.animate(this.hideProps, {
                duration: o,
                easing: s,
                step: function (t, e) {
                    e.now = Math.round(t)
                }
            }), void t.hide().animate(this.showProps, {
                duration: o, easing: s, complete: d, step: function (t, i) {
                    i.now = Math.round(t), "height" !== i.prop ? "content-box" === l && (a += i.now) : "content" !== r.options.heightStyle && (i.now = Math.round(n - e.outerHeight() - a), a = 0)
                }
            })) : e.animate(this.hideProps, o, s, d) : t.animate(this.showProps, o, s, d)
        },
        _toggleComplete: function (t) {
            var e = t.oldPanel;
            e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t)
        }
    }), t.widget("ui.menu", {
        version: "1.11.4",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {submenu: "ui-icon-carat-1-e"},
            items: "> *",
            menus: "ul",
            position: {my: "left-1 top", at: "right top"},
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function () {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({
                "mousedown .ui-menu-item": function (t) {
                    t.preventDefault()
                }, "click .ui-menu-item": function (e) {
                    var i = t(e.target);
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(e), e.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && t(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                }, "mouseenter .ui-menu-item": function (e) {
                    if (!this.previousFilter) {
                        var i = t(e.currentTarget);
                        i.siblings(".ui-state-active").removeClass("ui-state-active"), this.focus(e, i)
                    }
                }, mouseleave: "collapseAll", "mouseleave .ui-menu": "collapseAll", focus: function (t, e) {
                    var i = this.active || this.element.find(this.options.items).eq(0);
                    e || this.focus(t, i)
                }, blur: function (e) {
                    this._delay(function () {
                        t.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(e)
                    })
                }, keydown: "_keydown"
            }), this.refresh(), this._on(this.document, {
                click: function (t) {
                    this._closeOnDocumentClick(t) && this.collapseAll(t), this.mouseHandled = !1
                }
            })
        },
        _destroy: function () {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function () {
                var e = t(this);
                e.data("ui-menu-submenu-carat") && e.remove()
            }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function (e) {
            var i, n, s, o, r = !0;
            switch (e.keyCode) {
                case t.ui.keyCode.PAGE_UP:
                    this.previousPage(e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    this.nextPage(e);
                    break;
                case t.ui.keyCode.HOME:
                    this._move("first", "first", e);
                    break;
                case t.ui.keyCode.END:
                    this._move("last", "last", e);
                    break;
                case t.ui.keyCode.UP:
                    this.previous(e);
                    break;
                case t.ui.keyCode.DOWN:
                    this.next(e);
                    break;
                case t.ui.keyCode.LEFT:
                    this.collapse(e);
                    break;
                case t.ui.keyCode.RIGHT:
                    this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                    break;
                case t.ui.keyCode.ENTER:
                case t.ui.keyCode.SPACE:
                    this._activate(e);
                    break;
                case t.ui.keyCode.ESCAPE:
                    this.collapse(e);
                    break;
                default:
                    r = !1, n = this.previousFilter || "", s = String.fromCharCode(e.keyCode), o = !1, clearTimeout(this.filterTimer), s === n ? o = !0 : s = n + s, i = this._filterMenuItems(s), i = o && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i, i.length || (s = String.fromCharCode(e.keyCode), i = this._filterMenuItems(s)), i.length ? (this.focus(e, i), this.previousFilter = s, this.filterTimer = this._delay(function () {
                        delete this.previousFilter
                    }, 1e3)) : delete this.previousFilter
            }
            r && e.preventDefault()
        },
        _activate: function (t) {
            this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(t) : this.select(t))
        },
        refresh: function () {
            var e, i, n = this, s = this.options.icons.submenu, o = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function () {
                var e = t(this), i = e.parent(),
                    n = t("<span>").addClass("ui-menu-icon ui-icon " + s).data("ui-menu-submenu-carat", !0);
                i.attr("aria-haspopup", "true").prepend(n), e.attr("aria-labelledby", i.attr("id"))
            }), e = o.add(this.element), i = e.find(this.options.items), i.not(".ui-menu-item").each(function () {
                var e = t(this);
                n._isDivider(e) && e.addClass("ui-widget-content ui-menu-divider")
            }), i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }), i.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function () {
            return {menu: "menuitem", listbox: "option"}[this.options.role]
        },
        _setOption: function (t, e) {
            "icons" === t && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e), this._super(t, e)
        },
        focus: function (t, e) {
            var i, n;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), n = this.active.addClass("ui-state-focus").removeClass("ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", n.attr("id")), this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function () {
                this._close()
            }, this.delay), i = e.children(".ui-menu"), i.length && t && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(), this._trigger("focus", t, {item: e})
        },
        _scrollIntoView: function (e) {
            var i, n, s, o, r, a;
            this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, n = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, s = e.offset().top - this.activeMenu.offset().top - i - n, o = this.activeMenu.scrollTop(), r = this.activeMenu.height(), a = e.outerHeight(), 0 > s ? this.activeMenu.scrollTop(o + s) : s + a > r && this.activeMenu.scrollTop(o + s - r + a))
        },
        blur: function (t, e) {
            e || clearTimeout(this.timer), this.active && (this.active.removeClass("ui-state-focus"), this.active = null, this._trigger("blur", t, {item: this.active}))
        },
        _startOpening: function (t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function () {
                this._close(), this._open(t)
            }, this.delay))
        },
        _open: function (e) {
            var i = t.extend({of: this.active}, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function (e, i) {
            clearTimeout(this.timer), this.timer = this._delay(function () {
                var n = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
                n.length || (n = this.element), this._close(n), this.blur(e), this.activeMenu = n
            }, this.delay)
        },
        _close: function (t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
        },
        _closeOnDocumentClick: function (e) {
            return !t(e.target).closest(".ui-menu").length
        },
        _isDivider: function (t) {
            return !/[^\-\u2014\u2013\s]/.test(t.text())
        },
        collapse: function (t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },
        expand: function (t) {
            var e = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            e && e.length && (this._open(e.parent()), this._delay(function () {
                this.focus(t, e)
            }))
        },
        next: function (t) {
            this._move("next", "first", t)
        },
        previous: function (t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function () {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function () {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function (t, e, i) {
            var n;
            this.active && (n = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), n && n.length && this.active || (n = this.activeMenu.find(this.options.items)[e]()), this.focus(i, n)
        },
        nextPage: function (e) {
            var i, n, s;
            return this.active ? void(this.isLastItem() || (this._hasScroll() ? (n = this.active.offset().top, s = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () {
                return i = t(this), i.offset().top - n - s < 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]()))) : void this.next(e)
        },
        previousPage: function (e) {
            var i, n, s;
            return this.active ? void(this.isFirstItem() || (this._hasScroll() ? (n = this.active.offset().top, s = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () {
                return i = t(this), i.offset().top - n + s > 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items).first()))) : void this.next(e)
        },
        _hasScroll: function () {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function (e) {
            this.active = this.active || t(e.target).closest(".ui-menu-item");
            var i = {item: this.active};
            this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, i)
        },
        _filterMenuItems: function (e) {
            var i = e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"), n = new RegExp("^" + i, "i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function () {
                return n.test(t.trim(t(this).text()))
            })
        }
    });
    t.widget("ui.autocomplete", {
        version: "1.11.4",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {my: "left top", at: "left bottom", collision: "none"},
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function () {
            var e, i, n, s = this.element[0].nodeName.toLowerCase(), o = "textarea" === s, r = "input" === s;
            this.isMultiLine = o ? !0 : r ? !1 : this.element.prop("isContentEditable"), this.valueMethod = this.element[o || r ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, {
                keydown: function (s) {
                    if (this.element.prop("readOnly")) return e = !0, n = !0, void(i = !0);
                    e = !1, n = !1, i = !1;
                    var o = t.ui.keyCode;
                    switch (s.keyCode) {
                        case o.PAGE_UP:
                            e = !0, this._move("previousPage", s);
                            break;
                        case o.PAGE_DOWN:
                            e = !0, this._move("nextPage", s);
                            break;
                        case o.UP:
                            e = !0, this._keyEvent("previous", s);
                            break;
                        case o.DOWN:
                            e = !0, this._keyEvent("next", s);
                            break;
                        case o.ENTER:
                            this.menu.active && (e = !0, s.preventDefault(), this.menu.select(s));
                            break;
                        case o.TAB:
                            this.menu.active && this.menu.select(s);
                            break;
                        case o.ESCAPE:
                            this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(s), s.preventDefault());
                            break;
                        default:
                            i = !0, this._searchTimeout(s)
                    }
                }, keypress: function (n) {
                    if (e) return e = !1, void((!this.isMultiLine || this.menu.element.is(":visible")) && n.preventDefault());
                    if (!i) {
                        var s = t.ui.keyCode;
                        switch (n.keyCode) {
                            case s.PAGE_UP:
                                this._move("previousPage", n);
                                break;
                            case s.PAGE_DOWN:
                                this._move("nextPage", n);
                                break;
                            case s.UP:
                                this._keyEvent("previous", n);
                                break;
                            case s.DOWN:
                                this._keyEvent("next", n)
                        }
                    }
                }, input: function (t) {
                    return n ? (n = !1, void t.preventDefault()) : void this._searchTimeout(t)
                }, focus: function () {
                    this.selectedItem = null, this.previous = this._value()
                }, blur: function (t) {
                    return this.cancelBlur ? void delete this.cancelBlur : (clearTimeout(this.searching), this.close(t), void this._change(t))
                }
            }), this._initSource(), this.menu = t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role: null}).hide().menu("instance"), this._on(this.menu.element, {
                mousedown: function (e) {
                    e.preventDefault(), this.cancelBlur = !0, this._delay(function () {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    t(e.target).closest(".ui-menu-item").length || this._delay(function () {
                        var e = this;
                        this.document.one("mousedown", function (n) {
                            n.target === e.element[0] || n.target === i || t.contains(i, n.target) || e.close()
                        })
                    })
                }, menufocus: function (e, i) {
                    var n, s;
                    return this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type)) ? (this.menu.blur(), void this.document.one("mousemove", function () {
                        t(e.target).trigger(e.originalEvent)
                    })) : (s = i.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", e, {item: s}) && e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(s.value), n = i.item.attr("aria-label") || s.value, void(n && t.trim(n).length && (this.liveRegion.children().hide(), t("<div>").text(n).appendTo(this.liveRegion))))
                }, menuselect: function (t, e) {
                    var i = e.item.data("ui-autocomplete-item"), n = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = n, this._delay(function () {
                        this.previous = n, this.selectedItem = i
                    })), !1 !== this._trigger("select", t, {item: i}) && this._value(i.value), this.term = this._value(), this.close(t), this.selectedItem = i
                }
            }), this.liveRegion = t("<span>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body), this._on(this.window, {
                beforeunload: function () {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function () {
            clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },
        _setOption: function (t, e) {
            this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" === t && e && this.xhr && this.xhr.abort()
        },
        _appendTo: function () {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },
        _initSource: function () {
            var e, i, n = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function (i, n) {
                n(t.ui.autocomplete.filter(e, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function (e, s) {
                n.xhr && n.xhr.abort(), n.xhr = t.ajax({
                    url: i, data: e, dataType: "json", success: function (t) {
                        s(t)
                    }, error: function () {
                        s([])
                    }
                })
            }) : this.source = this.options.source
        },
        _searchTimeout: function (t) {
            clearTimeout(this.searching), this.searching = this._delay(function () {
                var e = this.term === this._value(), i = this.menu.element.is(":visible"),
                    n = t.altKey || t.ctrlKey || t.metaKey || t.shiftKey;
                (!e || e && !i && !n) && (this.selectedItem = null, this.search(null, t))
            }, this.options.delay)
        },
        search: function (t, e) {
            return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : this._trigger("search", e) !== !1 ? this._search(t) : void 0
        },
        _search: function (t) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({term: t}, this._response())
        },
        _response: function () {
            var e = ++this.requestIndex;
            return t.proxy(function (t) {
                e === this.requestIndex && this.__response(t), this.pending--, this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function (t) {
            t && (t = this._normalize(t)), this._trigger("response", null, {content: t}), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close()
        },
        close: function (t) {
            this.cancelSearch = !0, this._close(t)
        },
        _close: function (t) {
            this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t))
        },
        _change: function (t) {
            this.previous !== this._value() && this._trigger("change", t, {item: this.selectedItem})
        },
        _normalize: function (e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, function (e) {
                return "string" == typeof e ? {label: e, value: e} : t.extend({}, e, {
                    label: e.label || e.value,
                    value: e.value || e.label
                })
            })
        },
        _suggest: function (e) {
            var i = this.menu.element.empty();
            this._renderMenu(i, e), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({of: this.element}, this.options.position)), this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function () {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function (e, i) {
            var n = this;
            t.each(i, function (t, i) {
                n._renderItemData(e, i)
            })
        },
        _renderItemData: function (t, e) {
            return this._renderItem(t, e).data("ui-autocomplete-item", e)
        },
        _renderItem: function (e, i) {
            return t("<li>").text(i.label).appendTo(e)
        },
        _move: function (t, e) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this.isMultiLine || this._value(this.term), void this.menu.blur()) : void this.menu[t](e) : void this.search(null, e)
        },
        widget: function () {
            return this.menu.element
        },
        _value: function () {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function (t, e) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e), e.preventDefault())
        }
    }), t.extend(t.ui.autocomplete, {
        escapeRegex: function (t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        }, filter: function (e, i) {
            var n = new RegExp(t.ui.autocomplete.escapeRegex(i), "i");
            return t.grep(e, function (t) {
                return n.test(t.label || t.value || t)
            })
        }
    }), t.widget("ui.autocomplete", t.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function (t) {
                    return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        }, __response: function (e) {
            var i;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (i = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.children().hide(), t("<div>").text(i).appendTo(this.liveRegion))
        }
    });
    var d, f = (t.ui.autocomplete, "ui-button ui-widget ui-state-default ui-corner-all"),
        p = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        g = function () {
            var e = t(this);
            setTimeout(function () {
                e.find(":ui-button").button("refresh")
            }, 1)
        }, m = function (e) {
            var i = e.name, n = e.form, s = t([]);
            return i && (i = i.replace(/'/g, "\\'"), s = n ? t(n).find("[name='" + i + "'][type=radio]") : t("[name='" + i + "'][type=radio]", e.ownerDocument).filter(function () {
                return !this.form
            })), s
        };
    t.widget("ui.button", {
        version: "1.11.4",
        defaultElement: "<button>",
        options: {disabled: null, text: !0, label: null, icons: {primary: null, secondary: null}},
        _create: function () {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, g), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");
            var e = this, i = this.options, n = "checkbox" === this.type || "radio" === this.type,
                s = n ? "" : "ui-state-active";
            null === i.label && (i.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(f).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () {
                i.disabled || this === d && t(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function () {
                i.disabled || t(this).removeClass(s)
            }).bind("click" + this.eventNamespace, function (t) {
                i.disabled && (t.preventDefault(), t.stopImmediatePropagation())
            }), this._on({
                focus: function () {
                    this.buttonElement.addClass("ui-state-focus")
                }, blur: function () {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }), n && this.element.bind("change" + this.eventNamespace, function () {
                e.refresh()
            }), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
                return i.disabled ? !1 : void 0
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () {
                if (i.disabled) return !1;
                t(this).addClass("ui-state-active"), e.buttonElement.attr("aria-pressed", "true");
                var n = e.element[0];
                m(n).not(n).map(function () {
                    return t(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () {
                return i.disabled ? !1 : (t(this).addClass("ui-state-active"), d = this, void e.document.one("mouseup", function () {
                    d = null
                }))
            }).bind("mouseup" + this.eventNamespace, function () {
                return i.disabled ? !1 : void t(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function (e) {
                return i.disabled ? !1 : void((e.keyCode === t.ui.keyCode.SPACE || e.keyCode === t.ui.keyCode.ENTER) && t(this).addClass("ui-state-active"))
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () {
                t(this).removeClass("ui-state-active")
            }), this.buttonElement.is("a") && this.buttonElement.keyup(function (e) {
                e.keyCode === t.ui.keyCode.SPACE && t(this).click()
            })), this._setOption("disabled", i.disabled), this._resetButton()
        },
        _determineButtonType: function () {
            var t, e, i;
            this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button", "checkbox" === this.type || "radio" === this.type ? (t = this.element.parents().last(), e = "label[for='" + this.element.attr("id") + "']", this.buttonElement = t.find(e), this.buttonElement.length || (t = t.length ? t.siblings() : this.element.siblings(), this.buttonElement = t.filter(e), this.buttonElement.length || (this.buttonElement = t.find(e))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function () {
            return this.buttonElement
        },
        _destroy: function () {
            this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(f + " ui-state-active " + p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function (t, e) {
            return this._super(t, e), "disabled" === t ? (this.widget().toggleClass("ui-state-disabled", !!e), this.element.prop("disabled", !!e), void(e && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")))) : void this._resetButton()
        },
        refresh: function () {
            var e = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            e !== this.options.disabled && this._setOption("disabled", e), "radio" === this.type ? m(this.element[0]).each(function () {
                t(this).is(":checked") ? t(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function () {
            if ("input" === this.type) return void(this.options.label && this.element.val(this.options.label));
            var e = this.buttonElement.removeClass(p),
                i = t("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),
                n = this.options.icons, s = n.primary && n.secondary, o = [];
            n.primary || n.secondary ? (this.options.text && o.push("ui-button-text-icon" + (s ? "s" : n.primary ? "-primary" : "-secondary")), n.primary && e.prepend("<span class='ui-button-icon-primary ui-icon " + n.primary + "'></span>"), n.secondary && e.append("<span class='ui-button-icon-secondary ui-icon " + n.secondary + "'></span>"), this.options.text || (o.push(s ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || e.attr("title", t.trim(i)))) : o.push("ui-button-text-only"), e.addClass(o.join(" "))
        }
    }), t.widget("ui.buttonset", {
        version: "1.11.4",
        options: {items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
        _create: function () {
            this.element.addClass("ui-buttonset")
        },
        _init: function () {
            this.refresh()
        },
        _setOption: function (t, e) {
            "disabled" === t && this.buttons.button("option", t, e), this._super(t, e)
        },
        refresh: function () {
            var e = "rtl" === this.element.css("direction"), i = this.element.find(this.options.items),
                n = i.filter(":ui-button");
            i.not(":ui-button").button(), n.button("refresh"), this.buttons = i.map(function () {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(e ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function () {
            this.element.removeClass("ui-buttonset"), this.buttons.map(function () {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    });
    t.ui.button;
    t.extend(t.ui, {datepicker: {version: "1.11.4"}});
    var v;
    t.extend(s.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function () {
            return this.dpDiv
        },
        setDefaults: function (t) {
            return a(this._defaults, t || {}), this
        },
        _attachDatepicker: function (e, i) {
            var n, s, o;
            n = e.nodeName.toLowerCase(), s = "div" === n || "span" === n, e.id || (this.uuid += 1, e.id = "dp" + this.uuid), o = this._newInst(t(e), s), o.settings = t.extend({}, i || {}), "input" === n ? this._connectDatepicker(e, o) : s && this._inlineDatepicker(e, o)
        },
        _newInst: function (e, i) {
            var n = e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: n,
                input: e,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? o(t("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function (e, i) {
            var n = t(e);
            i.append = t([]), i.trigger = t([]), n.hasClass(this.markerClassName) || (this._attachments(n, i), n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), t.data(e, "datepicker", i), i.settings.disabled && this._disableDatepicker(e))
        },
        _attachments: function (e, i) {
            var n, s, o, r = this._get(i, "appendText"), a = this._get(i, "isRTL");
            i.append && i.append.remove(), r && (i.append = t("<span class='" + this._appendClass + "'>" + r + "</span>"), e[a ? "before" : "after"](i.append)), e.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), n = this._get(i, "showOn"), ("focus" === n || "both" === n) && e.focus(this._showDatepicker), ("button" === n || "both" === n) && (s = this._get(i, "buttonText"), o = this._get(i, "buttonImage"), i.trigger = t(this._get(i, "buttonImageOnly") ? t("<img/>").addClass(this._triggerClass).attr({
                src: o,
                alt: s,
                title: s
            }) : t("<button type='button'></button>").addClass(this._triggerClass).html(o ? t("<img/>").attr({
                src: o,
                alt: s,
                title: s
            }) : s)), e[a ? "before" : "after"](i.trigger), i.trigger.click(function () {
                return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(), t.datepicker._showDatepicker(e[0])) : t.datepicker._showDatepicker(e[0]), !1
            }))
        },
        _autoSize: function (t) {
            if (this._get(t, "autoSize") && !t.inline) {
                var e, i, n, s, o = new Date(2009, 11, 20), r = this._get(t, "dateFormat");
                r.match(/[DM]/) && (e = function (t) {
                    for (i = 0, n = 0, s = 0; s < t.length; s++) t[s].length > i && (i = t[s].length, n = s);
                    return n
                }, o.setMonth(e(this._get(t, r.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(e(this._get(t, r.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), t.input.attr("size", this._formatDate(t, o).length)
            }
        },
        _inlineDatepicker: function (e, i) {
            var n = t(e);
            n.hasClass(this.markerClassName) || (n.addClass(this.markerClassName).append(i.dpDiv), t.data(e, "datepicker", i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(e), i.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function (e, i, n, s, o) {
            var r, l, h, u, c, d = this._dialogInst;
            return d || (this.uuid += 1, r = "dp" + this.uuid, this._dialogInput = t("<input type='text' id='" + r + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), t("body").append(this._dialogInput), d = this._dialogInst = this._newInst(this._dialogInput, !1), d.settings = {}, t.data(this._dialogInput[0], "datepicker", d)), a(d.settings, s || {}), i = i && i.constructor === Date ? this._formatDate(d, i) : i, this._dialogInput.val(i), this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null, this._pos || (l = document.documentElement.clientWidth, h = document.documentElement.clientHeight, u = document.documentElement.scrollLeft || document.body.scrollLeft, c = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [l / 2 - 100 + u, h / 2 - 150 + c]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), d.settings.onSelect = n, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), t.blockUI && t.blockUI(this.dpDiv), t.data(this._dialogInput[0], "datepicker", d), this
        },
        _destroyDatepicker: function (e) {
            var i, n = t(e), s = t.data(e, "datepicker");
            n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), t.removeData(e, "datepicker"), "input" === i ? (s.append.remove(), s.trigger.remove(), n.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && n.removeClass(this.markerClassName).empty(), v === s && (v = null))
        },
        _enableDatepicker: function (e) {
            var i, n, s = t(e), o = t.data(e, "datepicker");
            s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !1, o.trigger.filter("button").each(function () {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : ("div" === i || "span" === i) && (n = s.children("." + this._inlineClass), n.children().removeClass("ui-state-disabled"), n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = t.map(this._disabledInputs, function (t) {
                return t === e ? null : t
            }))
        },
        _disableDatepicker: function (e) {
            var i, n, s = t(e), o = t.data(e, "datepicker");
            s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !0, o.trigger.filter("button").each(function () {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : ("div" === i || "span" === i) && (n = s.children("." + this._inlineClass), n.children().addClass("ui-state-disabled"), n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = t.map(this._disabledInputs, function (t) {
                return t === e ? null : t
            }), this._disabledInputs[this._disabledInputs.length] = e)
        },
        _isDisabledDatepicker: function (t) {
            if (!t) return !1;
            for (var e = 0; e < this._disabledInputs.length; e++) if (this._disabledInputs[e] === t) return !0;
            return !1
        },
        _getInst: function (e) {
            try {
                return t.data(e, "datepicker")
            } catch (i) {
                throw"Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function (e, i, n) {
            var s, o, r, l, h = this._getInst(e);
            return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? t.extend({}, t.datepicker._defaults) : h ? "all" === i ? t.extend({}, h.settings) : this._get(h, i) : null : (s = i || {}, "string" == typeof i && (s = {}, s[i] = n), void(h && (this._curInst === h && this._hideDatepicker(), o = this._getDateDatepicker(e, !0), r = this._getMinMaxDate(h, "min"), l = this._getMinMaxDate(h, "max"), a(h.settings, s), null !== r && void 0 !== s.dateFormat && void 0 === s.minDate && (h.settings.minDate = this._formatDate(h, r)), null !== l && void 0 !== s.dateFormat && void 0 === s.maxDate && (h.settings.maxDate = this._formatDate(h, l)), "disabled" in s && (s.disabled ? this._disableDatepicker(e) : this._enableDatepicker(e)), this._attachments(t(e), h), this._autoSize(h), this._setDate(h, o), this._updateAlternate(h), this._updateDatepicker(h))))
        },
        _changeDatepicker: function (t, e, i) {
            this._optionDatepicker(t, e, i)
        },
        _refreshDatepicker: function (t) {
            var e = this._getInst(t);
            e && this._updateDatepicker(e)
        },
        _setDateDatepicker: function (t, e) {
            var i = this._getInst(t);
            i && (this._setDate(i, e), this._updateDatepicker(i), this._updateAlternate(i))
        },
        _getDateDatepicker: function (t, e) {
            var i = this._getInst(t);
            return i && !i.inline && this._setDateFromField(i, e), i ? this._getDate(i) : null
        },
        _doKeyDown: function (e) {
            var i, n, s, o = t.datepicker._getInst(e.target), r = !0, a = o.dpDiv.is(".ui-datepicker-rtl");
            if (o._keyEvent = !0, t.datepicker._datepickerShowing) switch (e.keyCode) {
                case 9:
                    t.datepicker._hideDatepicker(), r = !1;
                    break;
                case 13:
                    return s = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv), s[0] && t.datepicker._selectDay(e.target, o.selectedMonth, o.selectedYear, s[0]), i = t.datepicker._get(o, "onSelect"), i ? (n = t.datepicker._formatDate(o), i.apply(o.input ? o.input[0] : null, [n, o])) : t.datepicker._hideDatepicker(), !1;
                case 27:
                    t.datepicker._hideDatepicker();
                    break;
                case 33:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 34:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 35:
                    (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target), r = e.ctrlKey || e.metaKey;
                    break;
                case 36:
                    (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target), r = e.ctrlKey || e.metaKey;
                    break;
                case 37:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, a ? 1 : -1, "D"), r = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 38:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"), r = e.ctrlKey || e.metaKey;
                    break;
                case 39:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, a ? -1 : 1, "D"), r = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 40:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"), r = e.ctrlKey || e.metaKey;
                    break;
                default:
                    r = !1
            } else 36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : r = !1;
            r && (e.preventDefault(), e.stopPropagation())
        },
        _doKeyPress: function (e) {
            var i, n, s = t.datepicker._getInst(e.target);
            return t.datepicker._get(s, "constrainInput") ? (i = t.datepicker._possibleChars(t.datepicker._get(s, "dateFormat")), n = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), e.ctrlKey || e.metaKey || " " > n || !i || i.indexOf(n) > -1) : void 0
        },
        _doKeyUp: function (e) {
            var i, n = t.datepicker._getInst(e.target);
            if (n.input.val() !== n.lastVal) try {
                i = t.datepicker.parseDate(t.datepicker._get(n, "dateFormat"), n.input ? n.input.val() : null, t.datepicker._getFormatConfig(n)), i && (t.datepicker._setDateFromField(n), t.datepicker._updateAlternate(n), t.datepicker._updateDatepicker(n))
            } catch (s) {
            }
            return !0
        },
        _showDatepicker: function (e) {
            if (e = e.target || e, "input" !== e.nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]), !t.datepicker._isDisabledDatepicker(e) && t.datepicker._lastInput !== e) {
                var i, s, o, r, l, h, u;
                i = t.datepicker._getInst(e), t.datepicker._curInst && t.datepicker._curInst !== i && (t.datepicker._curInst.dpDiv.stop(!0, !0), i && t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])), s = t.datepicker._get(i, "beforeShow"), o = s ? s.apply(e, [e, i]) : {}, o !== !1 && (a(i.settings, o), i.lastVal = null, t.datepicker._lastInput = e, t.datepicker._setDateFromField(i), t.datepicker._inDialog && (e.value = ""), t.datepicker._pos || (t.datepicker._pos = t.datepicker._findPos(e), t.datepicker._pos[1] += e.offsetHeight), r = !1, t(e).parents().each(function () {
                    return r |= "fixed" === t(this).css("position"), !r
                }), l = {
                    left: t.datepicker._pos[0],
                    top: t.datepicker._pos[1]
                }, t.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                    position: "absolute",
                    display: "block",
                    top: "-1000px"
                }), t.datepicker._updateDatepicker(i), l = t.datepicker._checkOffset(i, l, r), i.dpDiv.css({
                    position: t.datepicker._inDialog && t.blockUI ? "static" : r ? "fixed" : "absolute",
                    display: "none",
                    left: l.left + "px",
                    top: l.top + "px"
                }), i.inline || (h = t.datepicker._get(i, "showAnim"), u = t.datepicker._get(i, "duration"), i.dpDiv.css("z-index", n(t(e)) + 1), t.datepicker._datepickerShowing = !0, t.effects && t.effects.effect[h] ? i.dpDiv.show(h, t.datepicker._get(i, "showOptions"), u) : i.dpDiv[h || "show"](h ? u : null), t.datepicker._shouldFocusInput(i) && i.input.focus(), t.datepicker._curInst = i))
            }
        },
        _updateDatepicker: function (e) {
            this.maxRows = 4, v = e, e.dpDiv.empty().append(this._generateHTML(e)), this._attachHandlers(e);
            var i, n = this._getNumberOfMonths(e), s = n[1], o = 17, a = e.dpDiv.find("." + this._dayOverClass + " a");
            a.length > 0 && r.apply(a.get(0)), e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), s > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + s).css("width", o * s + "em"), e.dpDiv[(1 !== n[0] || 1 !== n[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), e === t.datepicker._curInst && t.datepicker._datepickerShowing && t.datepicker._shouldFocusInput(e) && e.input.focus(), e.yearshtml && (i = e.yearshtml, setTimeout(function () {
                i === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml), i = e.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function (t) {
            return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
        },
        _checkOffset: function (e, i, n) {
            var s = e.dpDiv.outerWidth(), o = e.dpDiv.outerHeight(), r = e.input ? e.input.outerWidth() : 0,
                a = e.input ? e.input.outerHeight() : 0,
                l = document.documentElement.clientWidth + (n ? 0 : t(document).scrollLeft()),
                h = document.documentElement.clientHeight + (n ? 0 : t(document).scrollTop());
            return i.left -= this._get(e, "isRTL") ? s - r : 0, i.left -= n && i.left === e.input.offset().left ? t(document).scrollLeft() : 0, i.top -= n && i.top === e.input.offset().top + a ? t(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + s > l && l > s ? Math.abs(i.left + s - l) : 0), i.top -= Math.min(i.top, i.top + o > h && h > o ? Math.abs(o + a) : 0), i
        },
        _findPos: function (e) {
            for (var i, n = this._getInst(e), s = this._get(n, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));) e = e[s ? "previousSibling" : "nextSibling"];
            return i = t(e).offset(), [i.left, i.top]
        },
        _hideDatepicker: function (e) {
            var i, n, s, o, r = this._curInst;
            !r || e && r !== t.data(e, "datepicker") || this._datepickerShowing && (i = this._get(r, "showAnim"), n = this._get(r, "duration"), s = function () {
                t.datepicker._tidyDialog(r)
            }, t.effects && (t.effects.effect[i] || t.effects[i]) ? r.dpDiv.hide(i, t.datepicker._get(r, "showOptions"), n, s) : r.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? n : null, s), i || s(), this._datepickerShowing = !1, o = this._get(r, "onClose"), o && o.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }), t.blockUI && (t.unblockUI(), t("body").append(this.dpDiv))), this._inDialog = !1)
        },
        _tidyDialog: function (t) {
            t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function (e) {
            if (t.datepicker._curInst) {
                var i = t(e.target), n = t.datepicker._getInst(i[0]);
                (i[0].id !== t.datepicker._mainDivId && 0 === i.parents("#" + t.datepicker._mainDivId).length && !i.hasClass(t.datepicker.markerClassName) && !i.closest("." + t.datepicker._triggerClass).length && t.datepicker._datepickerShowing && (!t.datepicker._inDialog || !t.blockUI) || i.hasClass(t.datepicker.markerClassName) && t.datepicker._curInst !== n) && t.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function (e, i, n) {
            var s = t(e), o = this._getInst(s[0]);
            this._isDisabledDatepicker(s[0]) || (this._adjustInstDate(o, i + ("M" === n ? this._get(o, "showCurrentAtPos") : 0), n), this._updateDatepicker(o))
        },
        _gotoToday: function (e) {
            var i, n = t(e), s = this._getInst(n[0]);
            this._get(s, "gotoCurrent") && s.currentDay ? (s.selectedDay = s.currentDay, s.drawMonth = s.selectedMonth = s.currentMonth, s.drawYear = s.selectedYear = s.currentYear) : (i = new Date, s.selectedDay = i.getDate(), s.drawMonth = s.selectedMonth = i.getMonth(), s.drawYear = s.selectedYear = i.getFullYear()), this._notifyChange(s), this._adjustDate(n)
        },
        _selectMonthYear: function (e, i, n) {
            var s = t(e), o = this._getInst(s[0]);
            o["selected" + ("M" === n ? "Month" : "Year")] = o["draw" + ("M" === n ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(s)
        },
        _selectDay: function (e, i, n, s) {
            var o, r = t(e);
            t(s).hasClass(this._unselectableClass) || this._isDisabledDatepicker(r[0]) || (o = this._getInst(r[0]), o.selectedDay = o.currentDay = t("a", s).html(), o.selectedMonth = o.currentMonth = i, o.selectedYear = o.currentYear = n, this._selectDate(e, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)))
        },
        _clearDate: function (e) {
            var i = t(e);
            this._selectDate(i, "")
        },
        _selectDate: function (e, i) {
            var n, s = t(e), o = this._getInst(s[0]);
            i = null != i ? i : this._formatDate(o), o.input && o.input.val(i), this._updateAlternate(o), n = this._get(o, "onSelect"), n ? n.apply(o.input ? o.input[0] : null, [i, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.focus(), this._lastInput = null)
        },
        _updateAlternate: function (e) {
            var i, n, s, o = this._get(e, "altField");
            o && (i = this._get(e, "altFormat") || this._get(e, "dateFormat"), n = this._getDate(e), s = this.formatDate(i, n, this._getFormatConfig(e)), t(o).each(function () {
                t(this).val(s)
            }))
        },
        noWeekends: function (t) {
            var e = t.getDay();
            return [e > 0 && 6 > e, ""]
        },
        iso8601Week: function (t) {
            var e, i = new Date(t.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), e = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((e - i) / 864e5) / 7) + 1
        },
        parseDate: function (e, i, n) {
            if (null == e || null == i) throw"Invalid arguments";
            if (i = "object" == typeof i ? i.toString() : i + "", "" === i) return null;
            var s, o, r, a, l = 0, h = (n ? n.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                u = "string" != typeof h ? h : (new Date).getFullYear() % 100 + parseInt(h, 10),
                c = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
                d = (n ? n.dayNames : null) || this._defaults.dayNames,
                f = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
                p = (n ? n.monthNames : null) || this._defaults.monthNames, g = -1, m = -1, v = -1, y = -1, b = !1,
                w = function (t) {
                    var i = s + 1 < e.length && e.charAt(s + 1) === t;
                    return i && s++, i
                }, _ = function (t) {
                    var e = w(t), n = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2,
                        s = "y" === t ? n : 1, o = new RegExp("^\\d{" + s + "," + n + "}"), r = i.substring(l).match(o);
                    if (!r) throw"Missing number at position " + l;
                    return l += r[0].length, parseInt(r[0], 10)
                }, x = function (e, n, s) {
                    var o = -1, r = t.map(w(e) ? s : n, function (t, e) {
                        return [[e, t]]
                    }).sort(function (t, e) {
                        return -(t[1].length - e[1].length)
                    });
                    if (t.each(r, function (t, e) {
                            var n = e[1];
                            return i.substr(l, n.length).toLowerCase() === n.toLowerCase() ? (o = e[0], l += n.length, !1) : void 0
                        }), -1 !== o) return o + 1;
                    throw"Unknown name at position " + l
                }, k = function () {
                    if (i.charAt(l) !== e.charAt(s)) throw"Unexpected literal at position " + l;
                    l++
                };
            for (s = 0; s < e.length; s++) if (b) "'" !== e.charAt(s) || w("'") ? k() : b = !1; else switch (e.charAt(s)) {
                case"d":
                    v = _("d");
                    break;
                case"D":
                    x("D", c, d);
                    break;
                case"o":
                    y = _("o");
                    break;
                case"m":
                    m = _("m");
                    break;
                case"M":
                    m = x("M", f, p);
                    break;
                case"y":
                    g = _("y");
                    break;
                case"@":
                    a = new Date(_("@")), g = a.getFullYear(), m = a.getMonth() + 1, v = a.getDate();
                    break;
                case"!":
                    a = new Date((_("!") - this._ticksTo1970) / 1e4), g = a.getFullYear(),
                        m = a.getMonth() + 1, v = a.getDate();
                    break;
                case"'":
                    w("'") ? k() : b = !0;
                    break;
                default:
                    k()
            }
            if (l < i.length && (r = i.substr(l), !/^\s+/.test(r))) throw"Extra/unparsed characters found in date: " + r;
            if (-1 === g ? g = (new Date).getFullYear() : 100 > g && (g += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (u >= g ? 0 : -100)), y > -1) for (m = 1, v = y; ;) {
                if (o = this._getDaysInMonth(g, m - 1), o >= v) break;
                m++, v -= o
            }
            if (a = this._daylightSavingAdjust(new Date(g, m - 1, v)), a.getFullYear() !== g || a.getMonth() + 1 !== m || a.getDate() !== v) throw"Invalid date";
            return a
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
        formatDate: function (t, e, i) {
            if (!e) return "";
            var n, s = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                o = (i ? i.dayNames : null) || this._defaults.dayNames,
                r = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                a = (i ? i.monthNames : null) || this._defaults.monthNames, l = function (e) {
                    var i = n + 1 < t.length && t.charAt(n + 1) === e;
                    return i && n++, i
                }, h = function (t, e, i) {
                    var n = "" + e;
                    if (l(t)) for (; n.length < i;) n = "0" + n;
                    return n
                }, u = function (t, e, i, n) {
                    return l(t) ? n[e] : i[e]
                }, c = "", d = !1;
            if (e) for (n = 0; n < t.length; n++) if (d) "'" !== t.charAt(n) || l("'") ? c += t.charAt(n) : d = !1; else switch (t.charAt(n)) {
                case"d":
                    c += h("d", e.getDate(), 2);
                    break;
                case"D":
                    c += u("D", e.getDay(), s, o);
                    break;
                case"o":
                    c += h("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate()).getTime() - new Date(e.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                    break;
                case"m":
                    c += h("m", e.getMonth() + 1, 2);
                    break;
                case"M":
                    c += u("M", e.getMonth(), r, a);
                    break;
                case"y":
                    c += l("y") ? e.getFullYear() : (e.getYear() % 100 < 10 ? "0" : "") + e.getYear() % 100;
                    break;
                case"@":
                    c += e.getTime();
                    break;
                case"!":
                    c += 1e4 * e.getTime() + this._ticksTo1970;
                    break;
                case"'":
                    l("'") ? c += "'" : d = !0;
                    break;
                default:
                    c += t.charAt(n)
            }
            return c
        },
        _possibleChars: function (t) {
            var e, i = "", n = !1, s = function (i) {
                var n = e + 1 < t.length && t.charAt(e + 1) === i;
                return n && e++, n
            };
            for (e = 0; e < t.length; e++) if (n) "'" !== t.charAt(e) || s("'") ? i += t.charAt(e) : n = !1; else switch (t.charAt(e)) {
                case"d":
                case"m":
                case"y":
                case"@":
                    i += "0123456789";
                    break;
                case"D":
                case"M":
                    return null;
                case"'":
                    s("'") ? i += "'" : n = !0;
                    break;
                default:
                    i += t.charAt(e)
            }
            return i
        },
        _get: function (t, e) {
            return void 0 !== t.settings[e] ? t.settings[e] : this._defaults[e]
        },
        _setDateFromField: function (t, e) {
            if (t.input.val() !== t.lastVal) {
                var i = this._get(t, "dateFormat"), n = t.lastVal = t.input ? t.input.val() : null,
                    s = this._getDefaultDate(t), o = s, r = this._getFormatConfig(t);
                try {
                    o = this.parseDate(i, n, r) || s
                } catch (a) {
                    n = e ? "" : n
                }
                t.selectedDay = o.getDate(), t.drawMonth = t.selectedMonth = o.getMonth(), t.drawYear = t.selectedYear = o.getFullYear(), t.currentDay = n ? o.getDate() : 0, t.currentMonth = n ? o.getMonth() : 0, t.currentYear = n ? o.getFullYear() : 0, this._adjustInstDate(t)
            }
        },
        _getDefaultDate: function (t) {
            return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
        },
        _determineDate: function (e, i, n) {
            var s = function (t) {
                    var e = new Date;
                    return e.setDate(e.getDate() + t), e
                }, o = function (i) {
                    try {
                        return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), i, t.datepicker._getFormatConfig(e))
                    } catch (n) {
                    }
                    for (var s = (i.toLowerCase().match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, o = s.getFullYear(), r = s.getMonth(), a = s.getDate(), l = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, h = l.exec(i); h;) {
                        switch (h[2] || "d") {
                            case"d":
                            case"D":
                                a += parseInt(h[1], 10);
                                break;
                            case"w":
                            case"W":
                                a += 7 * parseInt(h[1], 10);
                                break;
                            case"m":
                            case"M":
                                r += parseInt(h[1], 10), a = Math.min(a, t.datepicker._getDaysInMonth(o, r));
                                break;
                            case"y":
                            case"Y":
                                o += parseInt(h[1], 10), a = Math.min(a, t.datepicker._getDaysInMonth(o, r))
                        }
                        h = l.exec(i)
                    }
                    return new Date(o, r, a)
                },
                r = null == i || "" === i ? n : "string" == typeof i ? o(i) : "number" == typeof i ? isNaN(i) ? n : s(i) : new Date(i.getTime());
            return r = r && "Invalid Date" === r.toString() ? n : r, r && (r.setHours(0), r.setMinutes(0), r.setSeconds(0), r.setMilliseconds(0)), this._daylightSavingAdjust(r)
        },
        _daylightSavingAdjust: function (t) {
            return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0), t) : null
        },
        _setDate: function (t, e, i) {
            var n = !e, s = t.selectedMonth, o = t.selectedYear,
                r = this._restrictMinMax(t, this._determineDate(t, e, new Date));
            t.selectedDay = t.currentDay = r.getDate(), t.drawMonth = t.selectedMonth = t.currentMonth = r.getMonth(), t.drawYear = t.selectedYear = t.currentYear = r.getFullYear(), s === t.selectedMonth && o === t.selectedYear || i || this._notifyChange(t), this._adjustInstDate(t), t.input && t.input.val(n ? "" : this._formatDate(t))
        },
        _getDate: function (t) {
            var e = !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
            return e
        },
        _attachHandlers: function (e) {
            var i = this._get(e, "stepMonths"), n = "#" + e.id.replace(/\\\\/g, "\\");
            e.dpDiv.find("[data-handler]").map(function () {
                var e = {
                    prev: function () {
                        t.datepicker._adjustDate(n, -i, "M")
                    }, next: function () {
                        t.datepicker._adjustDate(n, +i, "M")
                    }, hide: function () {
                        t.datepicker._hideDatepicker()
                    }, today: function () {
                        t.datepicker._gotoToday(n)
                    }, selectDay: function () {
                        return t.datepicker._selectDay(n, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                    }, selectMonth: function () {
                        return t.datepicker._selectMonthYear(n, this, "M"), !1
                    }, selectYear: function () {
                        return t.datepicker._selectMonthYear(n, this, "Y"), !1
                    }
                };
                t(this).bind(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function (t) {
            var e, i, n, s, o, r, a, l, h, u, c, d, f, p, g, m, v, y, b, w, _, x, k, C, D, S, T, E, M, N, I, H, P, A, F,
                R, z, O, L, B = new Date,
                W = this._daylightSavingAdjust(new Date(B.getFullYear(), B.getMonth(), B.getDate())),
                Y = this._get(t, "isRTL"), U = this._get(t, "showButtonPanel"), j = this._get(t, "hideIfNoPrevNext"),
                V = this._get(t, "navigationAsDateFormat"), $ = this._getNumberOfMonths(t),
                G = this._get(t, "showCurrentAtPos"), q = this._get(t, "stepMonths"), K = 1 !== $[0] || 1 !== $[1],
                X = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)),
                Z = this._getMinMaxDate(t, "min"), Q = this._getMinMaxDate(t, "max"), J = t.drawMonth - G,
                tt = t.drawYear;
            if (0 > J && (J += 12, tt--), Q) for (e = this._daylightSavingAdjust(new Date(Q.getFullYear(), Q.getMonth() - $[0] * $[1] + 1, Q.getDate())), e = Z && Z > e ? Z : e; this._daylightSavingAdjust(new Date(tt, J, 1)) > e;) J--, 0 > J && (J = 11, tt--);
            for (t.drawMonth = J, t.drawYear = tt, i = this._get(t, "prevText"), i = V ? this.formatDate(i, this._daylightSavingAdjust(new Date(tt, J - q, 1)), this._getFormatConfig(t)) : i, n = this._canAdjustMonth(t, -1, tt, J) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : j ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>", s = this._get(t, "nextText"), s = V ? this.formatDate(s, this._daylightSavingAdjust(new Date(tt, J + q, 1)), this._getFormatConfig(t)) : s, o = this._canAdjustMonth(t, 1, tt, J) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + s + "</span></a>" : j ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + s + "</span></a>", r = this._get(t, "currentText"), a = this._get(t, "gotoCurrent") && t.currentDay ? X : W, r = V ? this.formatDate(r, a, this._getFormatConfig(t)) : r, l = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>", h = U ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? l : "") + (this._isInRange(t, a) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + r + "</button>" : "") + (Y ? "" : l) + "</div>" : "", u = parseInt(this._get(t, "firstDay"), 10), u = isNaN(u) ? 0 : u, c = this._get(t, "showWeek"), d = this._get(t, "dayNames"), f = this._get(t, "dayNamesMin"), p = this._get(t, "monthNames"), g = this._get(t, "monthNamesShort"), m = this._get(t, "beforeShowDay"), v = this._get(t, "showOtherMonths"), y = this._get(t, "selectOtherMonths"), b = this._getDefaultDate(t), w = "", x = 0; x < $[0]; x++) {
                for (k = "", this.maxRows = 4, C = 0; C < $[1]; C++) {
                    if (D = this._daylightSavingAdjust(new Date(tt, J, t.selectedDay)), S = " ui-corner-all", T = "", K) {
                        if (T += "<div class='ui-datepicker-group", $[1] > 1) switch (C) {
                            case 0:
                                T += " ui-datepicker-group-first", S = " ui-corner-" + (Y ? "right" : "left");
                                break;
                            case $[1] - 1:
                                T += " ui-datepicker-group-last", S = " ui-corner-" + (Y ? "left" : "right");
                                break;
                            default:
                                T += " ui-datepicker-group-middle", S = ""
                        }
                        T += "'>"
                    }
                    for (T += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + S + "'>" + (/all|left/.test(S) && 0 === x ? Y ? o : n : "") + (/all|right/.test(S) && 0 === x ? Y ? n : o : "") + this._generateMonthYearHeader(t, J, tt, Z, Q, x > 0 || C > 0, p, g) + "</div><table class='ui-datepicker-calendar'><thead><tr>", E = c ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "", _ = 0; 7 > _; _++) M = (_ + u) % 7, E += "<th scope='col'" + ((_ + u + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + d[M] + "'>" + f[M] + "</span></th>";
                    for (T += E + "</tr></thead><tbody>", N = this._getDaysInMonth(tt, J), tt === t.selectedYear && J === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, N)), I = (this._getFirstDayOfMonth(tt, J) - u + 7) % 7, H = Math.ceil((I + N) / 7), P = K && this.maxRows > H ? this.maxRows : H, this.maxRows = P, A = this._daylightSavingAdjust(new Date(tt, J, 1 - I)), F = 0; P > F; F++) {
                        for (T += "<tr>", R = c ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(A) + "</td>" : "", _ = 0; 7 > _; _++) z = m ? m.apply(t.input ? t.input[0] : null, [A]) : [!0, ""], O = A.getMonth() !== J, L = O && !y || !z[0] || Z && Z > A || Q && A > Q, R += "<td class='" + ((_ + u + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (O ? " ui-datepicker-other-month" : "") + (A.getTime() === D.getTime() && J === t.selectedMonth && t._keyEvent || b.getTime() === A.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (L ? " " + this._unselectableClass + " ui-state-disabled" : "") + (O && !v ? "" : " " + z[1] + (A.getTime() === X.getTime() ? " " + this._currentClass : "") + (A.getTime() === W.getTime() ? " ui-datepicker-today" : "")) + "'" + (O && !v || !z[2] ? "" : " title='" + z[2].replace(/'/g, "&#39;") + "'") + (L ? "" : " data-handler='selectDay' data-event='click' data-month='" + A.getMonth() + "' data-year='" + A.getFullYear() + "'") + ">" + (O && !v ? "&#xa0;" : L ? "<span class='ui-state-default'>" + A.getDate() + "</span>" : "<a class='ui-state-default" + (A.getTime() === W.getTime() ? " ui-state-highlight" : "") + (A.getTime() === X.getTime() ? " ui-state-active" : "") + (O ? " ui-priority-secondary" : "") + "' href='#'>" + A.getDate() + "</a>") + "</td>", A.setDate(A.getDate() + 1), A = this._daylightSavingAdjust(A);
                        T += R + "</tr>"
                    }
                    J++, J > 11 && (J = 0, tt++), T += "</tbody></table>" + (K ? "</div>" + ($[0] > 0 && C === $[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), k += T
                }
                w += k
            }
            return w += h, t._keyEvent = !1, w
        },
        _generateMonthYearHeader: function (t, e, i, n, s, o, r, a) {
            var l, h, u, c, d, f, p, g, m = this._get(t, "changeMonth"), v = this._get(t, "changeYear"),
                y = this._get(t, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", w = "";
            if (o || !m) w += "<span class='ui-datepicker-month'>" + r[e] + "</span>"; else {
                for (l = n && n.getFullYear() === i, h = s && s.getFullYear() === i, w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", u = 0; 12 > u; u++) (!l || u >= n.getMonth()) && (!h || u <= s.getMonth()) && (w += "<option value='" + u + "'" + (u === e ? " selected='selected'" : "") + ">" + a[u] + "</option>");
                w += "</select>"
            }
            if (y || (b += w + (!o && m && v ? "" : "&#xa0;")), !t.yearshtml) if (t.yearshtml = "", o || !v) b += "<span class='ui-datepicker-year'>" + i + "</span>"; else {
                for (c = this._get(t, "yearRange").split(":"), d = (new Date).getFullYear(), f = function (t) {
                    var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t, 10);
                    return isNaN(e) ? d : e
                }, p = f(c[0]), g = Math.max(p, f(c[1] || "")), p = n ? Math.max(p, n.getFullYear()) : p, g = s ? Math.min(g, s.getFullYear()) : g, t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; g >= p; p++) t.yearshtml += "<option value='" + p + "'" + (p === i ? " selected='selected'" : "") + ">" + p + "</option>";
                t.yearshtml += "</select>", b += t.yearshtml, t.yearshtml = null
            }
            return b += this._get(t, "yearSuffix"), y && (b += (!o && m && v ? "" : "&#xa0;") + w), b += "</div>"
        },
        _adjustInstDate: function (t, e, i) {
            var n = t.drawYear + ("Y" === i ? e : 0), s = t.drawMonth + ("M" === i ? e : 0),
                o = Math.min(t.selectedDay, this._getDaysInMonth(n, s)) + ("D" === i ? e : 0),
                r = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(n, s, o)));
            t.selectedDay = r.getDate(), t.drawMonth = t.selectedMonth = r.getMonth(), t.drawYear = t.selectedYear = r.getFullYear(), ("M" === i || "Y" === i) && this._notifyChange(t)
        },
        _restrictMinMax: function (t, e) {
            var i = this._getMinMaxDate(t, "min"), n = this._getMinMaxDate(t, "max"), s = i && i > e ? i : e;
            return n && s > n ? n : s
        },
        _notifyChange: function (t) {
            var e = this._get(t, "onChangeMonthYear");
            e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
        },
        _getNumberOfMonths: function (t) {
            var e = this._get(t, "numberOfMonths");
            return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
        },
        _getMinMaxDate: function (t, e) {
            return this._determineDate(t, this._get(t, e + "Date"), null)
        },
        _getDaysInMonth: function (t, e) {
            return 32 - this._daylightSavingAdjust(new Date(t, e, 32)).getDate()
        },
        _getFirstDayOfMonth: function (t, e) {
            return new Date(t, e, 1).getDay()
        },
        _canAdjustMonth: function (t, e, i, n) {
            var s = this._getNumberOfMonths(t),
                o = this._daylightSavingAdjust(new Date(i, n + (0 > e ? e : s[0] * s[1]), 1));
            return 0 > e && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(t, o)
        },
        _isInRange: function (t, e) {
            var i, n, s = this._getMinMaxDate(t, "min"), o = this._getMinMaxDate(t, "max"), r = null, a = null,
                l = this._get(t, "yearRange");
            return l && (i = l.split(":"), n = (new Date).getFullYear(), r = parseInt(i[0], 10), a = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (r += n), i[1].match(/[+\-].*/) && (a += n)), (!s || e.getTime() >= s.getTime()) && (!o || e.getTime() <= o.getTime()) && (!r || e.getFullYear() >= r) && (!a || e.getFullYear() <= a)
        },
        _getFormatConfig: function (t) {
            var e = this._get(t, "shortYearCutoff");
            return e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10), {
                shortYearCutoff: e,
                dayNamesShort: this._get(t, "dayNamesShort"),
                dayNames: this._get(t, "dayNames"),
                monthNamesShort: this._get(t, "monthNamesShort"),
                monthNames: this._get(t, "monthNames")
            }
        },
        _formatDate: function (t, e, i, n) {
            e || (t.currentDay = t.selectedDay, t.currentMonth = t.selectedMonth, t.currentYear = t.selectedYear);
            var s = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(n, i, e)) : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
            return this.formatDate(this._get(t, "dateFormat"), s, this._getFormatConfig(t))
        }
    }), t.fn.datepicker = function (e) {
        if (!this.length) return this;
        t.datepicker.initialized || (t(document).mousedown(t.datepicker._checkExternalClick), t.datepicker.initialized = !0), 0 === t("#" + t.datepicker._mainDivId).length && t("body").append(t.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" == typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) : this.each(function () {
            "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(i)) : t.datepicker._attachDatepicker(this, e)
        }) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i))
    }, t.datepicker = new s, t.datepicker.initialized = !1, t.datepicker.uuid = (new Date).getTime(), t.datepicker.version = "1.11.4";
    t.datepicker;
    t.widget("ui.draggable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function () {
            "original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._setHandleClassName(), this._mouseInit()
        },
        _setOption: function (t, e) {
            this._super(t, e), "handle" === t && (this._removeHandleClassName(), this._setHandleClassName())
        },
        _destroy: function () {
            return (this.helper || this.element).is(".ui-draggable-dragging") ? void(this.destroyOnClear = !0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), void this._mouseDestroy())
        },
        _mouseCapture: function (e) {
            var i = this.options;
            return this._blurActiveElement(e), this.helper || i.disabled || t(e.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(e), this.handle ? (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) : !1)
        },
        _blockFrames: function (e) {
            this.iframeBlocks = this.document.find(e).map(function () {
                var e = t(this);
                return t("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function () {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _blurActiveElement: function (e) {
            var i = this.document[0];
            if (this.handleElement.is(e.target)) try {
                i.activeElement && "body" !== i.activeElement.nodeName.toLowerCase() && t(i.activeElement).blur()
            } catch (n) {
            }
        },
        _mouseStart: function (e) {
            var i = this.options;
            return this.helper = this._createHelper(e), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () {
                return "fixed" === t(this).css("position")
            }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(e), this.originalPosition = this.position = this._generatePosition(e, !1), this.originalPageX = e.pageX, this.originalPageY = e.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", e) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._normalizeRightBottom(), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _refreshOffsets: function (t) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }, this.offset.click = {left: t.pageX - this.offset.left, top: t.pageY - this.offset.top}
        },
        _mouseDrag: function (e, i) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                var n = this._uiHash();
                if (this._trigger("drag", e, n) === !1) return this._mouseUp({}), !1;
                this.position = n.position
            }
            return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1
        },
        _mouseStop: function (e) {
            var i = this, n = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (n = t.ui.ddmanager.drop(this, e)), this.dropped && (n = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !n || "valid" === this.options.revert && n || this.options.revert === !0 || t.isFunction(this.options.revert) && this.options.revert.call(this.element, n) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () {
                i._trigger("stop", e) !== !1 && i._clear()
            }) : this._trigger("stop", e) !== !1 && this._clear(), !1
        },
        _mouseUp: function (e) {
            return this._unblockFrames(), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), this.handleElement.is(e.target) && this.element.focus(), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function () {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function (e) {
            return this.options.handle ? !!t(e.target).closest(this.element.find(this.options.handle)).length : !0
        },
        _setHandleClassName: function () {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function () {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function (e) {
            var i = this.options, n = t.isFunction(i.helper),
                s = n ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return s.parents("body").length || s.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo), n && s[0] === this.element[0] && this._setPositionRelative(), s[0] === this.element[0] || /(fixed|absolute)/.test(s.css("position")) || s.css("position", "absolute"), s
        },
        _setPositionRelative: function () {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function (e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _isRootNode: function (t) {
            return /(html|body)/i.test(t.tagName) || t === this.document[0]
        },
        _getParentOffset: function () {
            var e = this.offsetParent.offset(), i = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== i && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function () {
            if ("relative" !== this.cssPosition) return {top: 0, left: 0};
            var t = this.element.position(), e = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
                left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {width: this.helper.outerWidth(), height: this.helper.outerHeight()}
        },
        _setContainment: function () {
            var e, i, n, s = this.options, o = this.document[0];
            return this.relativeContainer = null, s.containment ? "window" === s.containment ? void(this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === s.containment ? void(this.containment = [0, 0, t(o).width() - this.helperProportions.width - this.margins.left, (t(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : s.containment.constructor === Array ? void(this.containment = s.containment) : ("parent" === s.containment && (s.containment = this.helper[0].parentNode), i = t(s.containment), n = i[0], void(n && (e = /(scroll|auto)/.test(i.css("overflow")), this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(n.scrollWidth, n.offsetWidth) : n.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(n.scrollHeight, n.offsetHeight) : n.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = i))) : void(this.containment = null)
        },
        _convertPositionTo: function (t, e) {
            e || (e = this.position);
            var i = "absolute" === t ? 1 : -1, n = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : n ? 0 : this.offset.scroll.top) * i,
                left: e.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : n ? 0 : this.offset.scroll.left) * i
            }
        },
        _generatePosition: function (t, e) {
            var i, n, s, o, r = this.options, a = this._isRootNode(this.scrollParent[0]), l = t.pageX, h = t.pageY;
            return a && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }), e && (this.containment && (this.relativeContainer ? (n = this.relativeContainer.offset(), i = [this.containment[0] + n.left, this.containment[1] + n.top, this.containment[2] + n.left, this.containment[3] + n.top]) : i = this.containment, t.pageX - this.offset.click.left < i[0] && (l = i[0] + this.offset.click.left), t.pageY - this.offset.click.top < i[1] && (h = i[1] + this.offset.click.top), t.pageX - this.offset.click.left > i[2] && (l = i[2] + this.offset.click.left), t.pageY - this.offset.click.top > i[3] && (h = i[3] + this.offset.click.top)), r.grid && (s = r.grid[1] ? this.originalPageY + Math.round((h - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, h = i ? s - this.offset.click.top >= i[1] || s - this.offset.click.top > i[3] ? s : s - this.offset.click.top >= i[1] ? s - r.grid[1] : s + r.grid[1] : s, o = r.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, l = i ? o - this.offset.click.left >= i[0] || o - this.offset.click.left > i[2] ? o : o - this.offset.click.left >= i[0] ? o - r.grid[0] : o + r.grid[0] : o), "y" === r.axis && (l = this.originalPageX), "x" === r.axis && (h = this.originalPageY)), {
                top: h - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : a ? 0 : this.offset.scroll.top),
                left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : a ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function () {
            this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function () {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")), "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto"))
        },
        _trigger: function (e, i, n) {
            return n = n || this._uiHash(), t.ui.plugin.call(this, e, [i, n, this], !0), /^(drag|start|stop)/.test(e) && (this.positionAbs = this._convertPositionTo("absolute"), n.offset = this.positionAbs), t.Widget.prototype._trigger.call(this, e, i, n)
        },
        plugins: {},
        _uiHash: function () {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function (e, i, n) {
            var s = t.extend({}, i, {item: n.element});
            n.sortables = [], t(n.options.connectToSortable).each(function () {
                var i = t(this).sortable("instance");
                i && !i.options.disabled && (n.sortables.push(i), i.refreshPositions(), i._trigger("activate", e, s))
            })
        }, stop: function (e, i, n) {
            var s = t.extend({}, i, {item: n.element});
            n.cancelHelperRemoval = !1, t.each(n.sortables, function () {
                var t = this;
                t.isOver ? (t.isOver = 0, n.cancelHelperRemoval = !0, t.cancelHelperRemoval = !1, t._storedCSS = {
                    position: t.placeholder.css("position"),
                    top: t.placeholder.css("top"),
                    left: t.placeholder.css("left")
                }, t._mouseStop(e), t.options.helper = t.options._helper) : (t.cancelHelperRemoval = !0, t._trigger("deactivate", e, s))
            })
        }, drag: function (e, i, n) {
            t.each(n.sortables, function () {
                var s = !1, o = this;
                o.positionAbs = n.positionAbs, o.helperProportions = n.helperProportions, o.offset.click = n.offset.click, o._intersectsWith(o.containerCache) && (s = !0, t.each(n.sortables, function () {
                    return this.positionAbs = n.positionAbs, this.helperProportions = n.helperProportions, this.offset.click = n.offset.click, this !== o && this._intersectsWith(this.containerCache) && t.contains(o.element[0], this.element[0]) && (s = !1), s
                })), s ? (o.isOver || (o.isOver = 1, n._parent = i.helper.parent(), o.currentItem = i.helper.appendTo(o.element).data("ui-sortable-item", !0), o.options._helper = o.options.helper, o.options.helper = function () {
                    return i.helper[0]
                }, e.target = o.currentItem[0], o._mouseCapture(e, !0), o._mouseStart(e, !0, !0), o.offset.click.top = n.offset.click.top, o.offset.click.left = n.offset.click.left, o.offset.parent.left -= n.offset.parent.left - o.offset.parent.left, o.offset.parent.top -= n.offset.parent.top - o.offset.parent.top, n._trigger("toSortable", e), n.dropped = o.element, t.each(n.sortables, function () {
                    this.refreshPositions()
                }), n.currentItem = n.element, o.fromOutside = n), o.currentItem && (o._mouseDrag(e), i.position = o.position)) : o.isOver && (o.isOver = 0, o.cancelHelperRemoval = !0, o.options._revert = o.options.revert, o.options.revert = !1, o._trigger("out", e, o._uiHash(o)), o._mouseStop(e, !0), o.options.revert = o.options._revert, o.options.helper = o.options._helper, o.placeholder && o.placeholder.remove(), i.helper.appendTo(n._parent), n._refreshOffsets(e), i.position = n._generatePosition(e, !0), n._trigger("fromSortable", e), n.dropped = !1, t.each(n.sortables, function () {
                    this.refreshPositions()
                }))
            })
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function (e, i, n) {
            var s = t("body"), o = n.options;
            s.css("cursor") && (o._cursor = s.css("cursor")), s.css("cursor", o.cursor)
        }, stop: function (e, i, n) {
            var s = n.options;
            s._cursor && t("body").css("cursor", s._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function (e, i, n) {
            var s = t(i.helper), o = n.options;
            s.css("opacity") && (o._opacity = s.css("opacity")), s.css("opacity", o.opacity)
        }, stop: function (e, i, n) {
            var s = n.options;
            s._opacity && t(i.helper).css("opacity", s._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function (t, e, i) {
            i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)), i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
        }, drag: function (e, i, n) {
            var s = n.options, o = !1, r = n.scrollParentNotHidden[0], a = n.document[0];
            r !== a && "HTML" !== r.tagName ? (s.axis && "x" === s.axis || (n.overflowOffset.top + r.offsetHeight - e.pageY < s.scrollSensitivity ? r.scrollTop = o = r.scrollTop + s.scrollSpeed : e.pageY - n.overflowOffset.top < s.scrollSensitivity && (r.scrollTop = o = r.scrollTop - s.scrollSpeed)), s.axis && "y" === s.axis || (n.overflowOffset.left + r.offsetWidth - e.pageX < s.scrollSensitivity ? r.scrollLeft = o = r.scrollLeft + s.scrollSpeed : e.pageX - n.overflowOffset.left < s.scrollSensitivity && (r.scrollLeft = o = r.scrollLeft - s.scrollSpeed))) : (s.axis && "x" === s.axis || (e.pageY - t(a).scrollTop() < s.scrollSensitivity ? o = t(a).scrollTop(t(a).scrollTop() - s.scrollSpeed) : t(window).height() - (e.pageY - t(a).scrollTop()) < s.scrollSensitivity && (o = t(a).scrollTop(t(a).scrollTop() + s.scrollSpeed))), s.axis && "y" === s.axis || (e.pageX - t(a).scrollLeft() < s.scrollSensitivity ? o = t(a).scrollLeft(t(a).scrollLeft() - s.scrollSpeed) : t(window).width() - (e.pageX - t(a).scrollLeft()) < s.scrollSensitivity && (o = t(a).scrollLeft(t(a).scrollLeft() + s.scrollSpeed)))), o !== !1 && t.ui.ddmanager && !s.dropBehaviour && t.ui.ddmanager.prepareOffsets(n, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function (e, i, n) {
            var s = n.options;
            n.snapElements = [], t(s.snap.constructor !== String ? s.snap.items || ":data(ui-draggable)" : s.snap).each(function () {
                var e = t(this), i = e.offset();
                this !== n.element[0] && n.snapElements.push({
                    item: this,
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    top: i.top,
                    left: i.left
                })
            })
        }, drag: function (e, i, n) {
            var s, o, r, a, l, h, u, c, d, f, p = n.options, g = p.snapTolerance, m = i.offset.left,
                v = m + n.helperProportions.width, y = i.offset.top, b = y + n.helperProportions.height;
            for (d = n.snapElements.length - 1; d >= 0; d--) l = n.snapElements[d].left - n.margins.left, h = l + n.snapElements[d].width, u = n.snapElements[d].top - n.margins.top, c = u + n.snapElements[d].height, l - g > v || m > h + g || u - g > b || y > c + g || !t.contains(n.snapElements[d].item.ownerDocument, n.snapElements[d].item) ? (n.snapElements[d].snapping && n.options.snap.release && n.options.snap.release.call(n.element, e, t.extend(n._uiHash(), {
                snapItem: n.snapElements[d].item
            })), n.snapElements[d].snapping = !1) : ("inner" !== p.snapMode && (s = Math.abs(u - b) <= g, o = Math.abs(c - y) <= g, r = Math.abs(l - v) <= g, a = Math.abs(h - m) <= g, s && (i.position.top = n._convertPositionTo("relative", {
                top: u - n.helperProportions.height,
                left: 0
            }).top), o && (i.position.top = n._convertPositionTo("relative", {
                top: c,
                left: 0
            }).top), r && (i.position.left = n._convertPositionTo("relative", {
                top: 0,
                left: l - n.helperProportions.width
            }).left), a && (i.position.left = n._convertPositionTo("relative", {
                top: 0,
                left: h
            }).left)), f = s || o || r || a, "outer" !== p.snapMode && (s = Math.abs(u - y) <= g, o = Math.abs(c - b) <= g, r = Math.abs(l - m) <= g, a = Math.abs(h - v) <= g, s && (i.position.top = n._convertPositionTo("relative", {
                top: u,
                left: 0
            }).top), o && (i.position.top = n._convertPositionTo("relative", {
                top: c - n.helperProportions.height,
                left: 0
            }).top), r && (i.position.left = n._convertPositionTo("relative", {
                top: 0,
                left: l
            }).left), a && (i.position.left = n._convertPositionTo("relative", {
                top: 0,
                left: h - n.helperProportions.width
            }).left)), !n.snapElements[d].snapping && (s || o || r || a || f) && n.options.snap.snap && n.options.snap.snap.call(n.element, e, t.extend(n._uiHash(), {snapItem: n.snapElements[d].item})), n.snapElements[d].snapping = s || o || r || a || f)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function (e, i, n) {
            var s, o = n.options, r = t.makeArray(t(o.stack)).sort(function (e, i) {
                return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(i).css("zIndex"), 10) || 0)
            });
            r.length && (s = parseInt(t(r[0]).css("zIndex"), 10) || 0, t(r).each(function (e) {
                t(this).css("zIndex", s + e)
            }), this.css("zIndex", s + r.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function (e, i, n) {
            var s = t(i.helper), o = n.options;
            s.css("zIndex") && (o._zIndex = s.css("zIndex")), s.css("zIndex", o.zIndex)
        }, stop: function (e, i, n) {
            var s = n.options;
            s._zIndex && t(i.helper).css("zIndex", s._zIndex)
        }
    });
    t.ui.draggable;
    t.widget("ui.resizable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function (t) {
            return parseInt(t, 10) || 0
        },
        _isNumber: function (t) {
            return !isNaN(parseInt(t, 10))
        },
        _hasScroll: function (e, i) {
            if ("hidden" === t(e).css("overflow")) return !1;
            var n = i && "left" === i ? "scrollLeft" : "scrollTop", s = !1;
            return e[n] > 0 ? !0 : (e[n] = 1, s = e[n] > 0, e[n] = 0, s)
        },
        _create: function () {
            var e, i, n, s, o, r = this, a = this.options;
            if (this.element.addClass("ui-resizable"), t.extend(this, {
                    _aspectRatio: !!a.aspectRatio,
                    aspectRatio: a.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: a.helper || a.ghost || a.animate ? a.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }), this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })), this.originalElement.css({margin: this.originalElement.css("margin")}), this._proportionallyResize()), this.handles = a.handles || (t(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this._handles = t(), this.handles.constructor === String) for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, i = 0; i < e.length; i++) n = t.trim(e[i]), o = "ui-resizable-" + n, s = t("<div class='ui-resizable-handle " + o + "'></div>"), s.css({zIndex: a.zIndex}), "se" === n && s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[n] = ".ui-resizable-" + n, this.element.append(s);
            this._renderAxis = function (e) {
                var i, n, s, o;
                e = e || this.element;
                for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = t(this.handles[i]), this._on(this.handles[i], {mousedown: r._mouseDown})), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (n = t(this.handles[i], this.element), o = /sw|ne|nw|se|n|s/.test(i) ? n.outerHeight() : n.outerWidth(), s = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), e.css(s, o), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i])
            }, this._renderAxis(this.element), this._handles = this._handles.add(this.element.find(".ui-resizable-handle")), this._handles.disableSelection(), this._handles.mouseover(function () {
                r.resizing || (this.className && (s = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = s && s[1] ? s[1] : "se")
            }), a.autoHide && (this._handles.hide(), t(this.element).addClass("ui-resizable-autohide").mouseenter(function () {
                a.disabled || (t(this).removeClass("ui-resizable-autohide"), r._handles.show())
            }).mouseleave(function () {
                a.disabled || r.resizing || (t(this).addClass("ui-resizable-autohide"), r._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function () {
            this._mouseDestroy();
            var e, i = function (e) {
                t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this
        },
        _mouseCapture: function (e) {
            var i, n, s = !1;
            for (i in this.handles) n = t(this.handles[i])[0], (n === e.target || t.contains(n, e.target)) && (s = !0);
            return !this.options.disabled && s
        },
        _mouseStart: function (e) {
            var i, n, s, o = this.options, r = this.element;
            return this.resizing = !0, this._renderProxy(), i = this._num(this.helper.css("left")), n = this._num(this.helper.css("top")), o.containment && (i += t(o.containment).scrollLeft() || 0, n += t(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: i,
                top: n
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {width: r.width(), height: r.height()}, this.originalSize = this._helper ? {
                width: r.outerWidth(),
                height: r.outerHeight()
            } : {width: r.width(), height: r.height()}, this.sizeDiff = {
                width: r.outerWidth() - r.width(),
                height: r.outerHeight() - r.height()
            }, this.originalPosition = {left: i, top: n}, this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            }, this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, s = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === s ? this.axis + "-resize" : s), r.addClass("ui-resizable-resizing"), this._propagate("start", e), !0
        },
        _mouseDrag: function (e) {
            var i, n, s = this.originalMousePosition, o = this.axis, r = e.pageX - s.left || 0,
                a = e.pageY - s.top || 0, l = this._change[o];
            return this._updatePrevProperties(), l ? (i = l.apply(this, [e, r, a]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)), i = this._respectSize(i, e), this._updateCache(i), this._propagate("resize", e), n = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(n) || (this._updatePrevProperties(), this._trigger("resize", e, this.ui()), this._applyChanges()), !1) : !1
        },
        _mouseStop: function (e) {
            this.resizing = !1;
            var i, n, s, o, r, a, l, h = this.options, u = this;
            return this._helper && (i = this._proportionallyResizeElements, n = i.length && /textarea/i.test(i[0].nodeName), s = n && this._hasScroll(i[0], "left") ? 0 : u.sizeDiff.height, o = n ? 0 : u.sizeDiff.width, r = {
                width: u.helper.width() - o,
                height: u.helper.height() - s
            }, a = parseInt(u.element.css("left"), 10) + (u.position.left - u.originalPosition.left) || null, l = parseInt(u.element.css("top"), 10) + (u.position.top - u.originalPosition.top) || null, h.animate || this.element.css(t.extend(r, {
                top: l,
                left: a
            })), u.helper.height(u.size.height), u.helper.width(u.size.width), this._helper && !h.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updatePrevProperties: function () {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            }, this.prevSize = {width: this.size.width, height: this.size.height}
        },
        _applyChanges: function () {
            var t = {};
            return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"), this.helper.css(t), t
        },
        _updateVirtualBoundaries: function (t) {
            var e, i, n, s, o, r = this.options;
            o = {
                minWidth: this._isNumber(r.minWidth) ? r.minWidth : 0,
                maxWidth: this._isNumber(r.maxWidth) ? r.maxWidth : 1 / 0,
                minHeight: this._isNumber(r.minHeight) ? r.minHeight : 0,
                maxHeight: this._isNumber(r.maxHeight) ? r.maxHeight : 1 / 0
            }, (this._aspectRatio || t) && (e = o.minHeight * this.aspectRatio, n = o.minWidth / this.aspectRatio, i = o.maxHeight * this.aspectRatio, s = o.maxWidth / this.aspectRatio, e > o.minWidth && (o.minWidth = e), n > o.minHeight && (o.minHeight = n), i < o.maxWidth && (o.maxWidth = i), s < o.maxHeight && (o.maxHeight = s)), this._vBoundaries = o
        },
        _updateCache: function (t) {
            this.offset = this.helper.offset(), this._isNumber(t.left) && (this.position.left = t.left), this._isNumber(t.top) && (this.position.top = t.top), this._isNumber(t.height) && (this.size.height = t.height), this._isNumber(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function (t) {
            var e = this.position, i = this.size, n = this.axis;
            return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio), "sw" === n && (t.left = e.left + (i.width - t.width), t.top = null), "nw" === n && (t.top = e.top + (i.height - t.height), t.left = e.left + (i.width - t.width)), t
        },
        _respectSize: function (t) {
            var e = this._vBoundaries, i = this.axis, n = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width,
                s = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height,
                o = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width,
                r = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height,
                a = this.originalPosition.left + this.originalSize.width, l = this.position.top + this.size.height,
                h = /sw|nw|w/.test(i), u = /nw|ne|n/.test(i);
            return o && (t.width = e.minWidth), r && (t.height = e.minHeight), n && (t.width = e.maxWidth), s && (t.height = e.maxHeight), o && h && (t.left = a - e.minWidth), n && h && (t.left = a - e.maxWidth), r && u && (t.top = l - e.minHeight), s && u && (t.top = l - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _getPaddingPlusBorderDimensions: function (t) {
            for (var e = 0, i = [], n = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], s = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; 4 > e; e++) i[e] = parseInt(n[e], 10) || 0, i[e] += parseInt(s[e], 10) || 0;
            return {height: i[0] + i[2], width: i[1] + i[3]}
        },
        _proportionallyResize: function () {
            if (this._proportionallyResizeElements.length) for (var t, e = 0, i = this.helper || this.element; e < this._proportionallyResizeElements.length; e++) t = this._proportionallyResizeElements[e], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)), t.css({
                height: i.height() - this.outerDimensions.height || 0,
                width: i.width() - this.outerDimensions.width || 0
            })
        },
        _renderProxy: function () {
            var e = this.element, i = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function (t, e) {
                return {width: this.originalSize.width + e}
            }, w: function (t, e) {
                var i = this.originalSize, n = this.originalPosition;
                return {left: n.left + e, width: i.width - e}
            }, n: function (t, e, i) {
                var n = this.originalSize, s = this.originalPosition;
                return {top: s.top + i, height: n.height - i}
            }, s: function (t, e, i) {
                return {height: this.originalSize.height + i}
            }, se: function (e, i, n) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, n]))
            }, sw: function (e, i, n) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, n]))
            }, ne: function (e, i, n) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, n]))
            }, nw: function (e, i, n) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, n]))
            }
        },
        _propagate: function (e, i) {
            t.ui.plugin.call(this, e, [i, this.ui()]), "resize" !== e && this._trigger(e, i, this.ui())
        },
        plugins: {},
        ui: function () {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function (e) {
            var i = t(this).resizable("instance"), n = i.options, s = i._proportionallyResizeElements,
                o = s.length && /textarea/i.test(s[0].nodeName),
                r = o && i._hasScroll(s[0], "left") ? 0 : i.sizeDiff.height, a = o ? 0 : i.sizeDiff.width,
                l = {width: i.size.width - a, height: i.size.height - r},
                h = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                u = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(t.extend(l, u && h ? {top: u, left: h} : {}), {
                duration: n.animateDuration,
                easing: n.animateEasing,
                step: function () {
                    var n = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    s && s.length && t(s[0]).css({
                        width: n.width,
                        height: n.height
                    }), i._updateCache(n), i._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function () {
            var e, i, n, s, o, r, a, l = t(this).resizable("instance"), h = l.options, u = l.element, c = h.containment,
                d = c instanceof t ? c.get(0) : /parent/.test(c) ? u.parent().get(0) : c;
            d && (l.containerElement = t(d), /document/.test(c) || c === document ? (l.containerOffset = {
                left: 0,
                top: 0
            }, l.containerPosition = {left: 0, top: 0}, l.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (e = t(d), i = [], t(["Top", "Right", "Left", "Bottom"]).each(function (t, n) {
                i[t] = l._num(e.css("padding" + n))
            }), l.containerOffset = e.offset(), l.containerPosition = e.position(), l.containerSize = {
                height: e.innerHeight() - i[3],
                width: e.innerWidth() - i[1]
            }, n = l.containerOffset, s = l.containerSize.height, o = l.containerSize.width, r = l._hasScroll(d, "left") ? d.scrollWidth : o, a = l._hasScroll(d) ? d.scrollHeight : s, l.parentData = {
                element: d,
                left: n.left,
                top: n.top,
                width: r,
                height: a
            }))
        }, resize: function (e) {
            var i, n, s, o, r = t(this).resizable("instance"), a = r.options, l = r.containerOffset, h = r.position,
                u = r._aspectRatio || e.shiftKey, c = {top: 0, left: 0}, d = r.containerElement, f = !0;
            d[0] !== document && /static/.test(d.css("position")) && (c = l), h.left < (r._helper ? l.left : 0) && (r.size.width = r.size.width + (r._helper ? r.position.left - l.left : r.position.left - c.left), u && (r.size.height = r.size.width / r.aspectRatio, f = !1), r.position.left = a.helper ? l.left : 0), h.top < (r._helper ? l.top : 0) && (r.size.height = r.size.height + (r._helper ? r.position.top - l.top : r.position.top), u && (r.size.width = r.size.height * r.aspectRatio, f = !1), r.position.top = r._helper ? l.top : 0), s = r.containerElement.get(0) === r.element.parent().get(0), o = /relative|absolute/.test(r.containerElement.css("position")), s && o ? (r.offset.left = r.parentData.left + r.position.left, r.offset.top = r.parentData.top + r.position.top) : (r.offset.left = r.element.offset().left, r.offset.top = r.element.offset().top), i = Math.abs(r.sizeDiff.width + (r._helper ? r.offset.left - c.left : r.offset.left - l.left)), n = Math.abs(r.sizeDiff.height + (r._helper ? r.offset.top - c.top : r.offset.top - l.top)), i + r.size.width >= r.parentData.width && (r.size.width = r.parentData.width - i, u && (r.size.height = r.size.width / r.aspectRatio, f = !1)), n + r.size.height >= r.parentData.height && (r.size.height = r.parentData.height - n, u && (r.size.width = r.size.height * r.aspectRatio, f = !1)), f || (r.position.left = r.prevPosition.left, r.position.top = r.prevPosition.top, r.size.width = r.prevSize.width, r.size.height = r.prevSize.height)
        }, stop: function () {
            var e = t(this).resizable("instance"), i = e.options, n = e.containerOffset, s = e.containerPosition,
                o = e.containerElement, r = t(e.helper), a = r.offset(), l = r.outerWidth() - e.sizeDiff.width,
                h = r.outerHeight() - e.sizeDiff.height;
            e._helper && !i.animate && /relative/.test(o.css("position")) && t(this).css({
                left: a.left - s.left - n.left,
                width: l,
                height: h
            }), e._helper && !i.animate && /static/.test(o.css("position")) && t(this).css({
                left: a.left - s.left - n.left,
                width: l,
                height: h
            })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function () {
            var e = t(this).resizable("instance"), i = e.options;
            t(i.alsoResize).each(function () {
                var e = t(this);
                e.data("ui-resizable-alsoresize", {
                    width: parseInt(e.width(), 10),
                    height: parseInt(e.height(), 10),
                    left: parseInt(e.css("left"), 10),
                    top: parseInt(e.css("top"), 10)
                })
            })
        }, resize: function (e, i) {
            var n = t(this).resizable("instance"), s = n.options, o = n.originalSize, r = n.originalPosition, a = {
                height: n.size.height - o.height || 0,
                width: n.size.width - o.width || 0,
                top: n.position.top - r.top || 0,
                left: n.position.left - r.left || 0
            };
            t(s.alsoResize).each(function () {
                var e = t(this), n = t(this).data("ui-resizable-alsoresize"), s = {},
                    o = e.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                t.each(o, function (t, e) {
                    var i = (n[e] || 0) + (a[e] || 0);
                    i && i >= 0 && (s[e] = i || null)
                }), e.css(s)
            })
        }, stop: function () {
            t(this).removeData("resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function () {
            var e = t(this).resizable("instance"), i = e.options, n = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: n.height,
                width: n.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""), e.ghost.appendTo(e.helper)
        }, resize: function () {
            var e = t(this).resizable("instance");
            e.ghost && e.ghost.css({position: "relative", height: e.size.height, width: e.size.width})
        }, stop: function () {
            var e = t(this).resizable("instance");
            e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function () {
            var e, i = t(this).resizable("instance"), n = i.options, s = i.size, o = i.originalSize,
                r = i.originalPosition, a = i.axis, l = "number" == typeof n.grid ? [n.grid, n.grid] : n.grid,
                h = l[0] || 1, u = l[1] || 1, c = Math.round((s.width - o.width) / h) * h,
                d = Math.round((s.height - o.height) / u) * u, f = o.width + c, p = o.height + d,
                g = n.maxWidth && n.maxWidth < f, m = n.maxHeight && n.maxHeight < p, v = n.minWidth && n.minWidth > f,
                y = n.minHeight && n.minHeight > p;
            n.grid = l, v && (f += h), y && (p += u), g && (f -= h), m && (p -= u), /^(se|s|e)$/.test(a) ? (i.size.width = f, i.size.height = p) : /^(ne)$/.test(a) ? (i.size.width = f, i.size.height = p, i.position.top = r.top - d) : /^(sw)$/.test(a) ? (i.size.width = f, i.size.height = p, i.position.left = r.left - c) : ((0 >= p - u || 0 >= f - h) && (e = i._getPaddingPlusBorderDimensions(this)), p - u > 0 ? (i.size.height = p, i.position.top = r.top - d) : (p = u - e.height, i.size.height = p, i.position.top = r.top + o.height - p), f - h > 0 ? (i.size.width = f, i.position.left = r.left - c) : (f = h - e.width, i.size.width = f, i.position.left = r.left + o.width - f))
        }
    });
    t.ui.resizable, t.widget("ui.dialog", {
        version: "1.11.4",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "Close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center", at: "center", of: window, collision: "fit", using: function (e) {
                    var i = t(this).css(e).offset().top;
                    0 > i && t(this).css("top", e.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0},
        _create: function () {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            }, this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(), this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus()
        },
        _init: function () {
            this.options.autoOpen && this.open()
        },
        _appendTo: function () {
            var e = this.options.appendTo;
            return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0)
        },
        _destroy: function () {
            var t, e = this.originalPosition;
            this._untrackInstance(), this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), t = e.parent.children().eq(e.index), t.length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
        },
        widget: function () {
            return this.uiDialog
        },
        disable: t.noop,
        enable: t.noop,
        close: function (e) {
            var i, n = this;
            if (this._isOpen && this._trigger("beforeClose", e) !== !1) {
                if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try {
                    i = this.document[0].activeElement, i && "body" !== i.nodeName.toLowerCase() && t(i).blur()
                } catch (s) {
                }
                this._hide(this.uiDialog, this.options.hide, function () {
                    n._trigger("close", e)
                })
            }
        },
        isOpen: function () {
            return this._isOpen
        },
        moveToTop: function () {
            this._moveToTop()
        },
        _moveToTop: function (e, i) {
            var n = !1, s = this.uiDialog.siblings(".ui-front:visible").map(function () {
                return +t(this).css("z-index")
            }).get(), o = Math.max.apply(null, s);
            return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1), n = !0), n && !i && this._trigger("focus", e), n
        },
        open: function () {
            var e = this;
            return this._isOpen ? void(this._moveToTop() && this._focusTabbable()) : (this._isOpen = !0, this.opener = t(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function () {
                e._focusTabbable(), e._trigger("focus")
            }), this._makeFocusTarget(), void this._trigger("open"))
        },
        _focusTabbable: function () {
            var t = this._focusedElement;
            t || (t = this.element.find("[autofocus]")), t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0).focus()
        },
        _keepFocus: function (e) {
            function i() {
                var e = this.document[0].activeElement, i = this.uiDialog[0] === e || t.contains(this.uiDialog[0], e);
                i || this._focusTabbable()
            }

            e.preventDefault(), i.call(this), this._delay(i)
        },
        _createWrapper: function () {
            this.uiDialog = t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                keydown: function (e) {
                    if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE) return e.preventDefault(), void this.close(e);
                    if (e.keyCode === t.ui.keyCode.TAB && !e.isDefaultPrevented()) {
                        var i = this.uiDialog.find(":tabbable"), n = i.filter(":first"), s = i.filter(":last");
                        e.target !== s[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== n[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (this._delay(function () {
                            s.focus()
                        }), e.preventDefault()) : (this._delay(function () {
                            n.focus()
                        }), e.preventDefault())
                    }
                }, mousedown: function (t) {
                    this._moveToTop(t) && this._focusTabbable()
                }
            }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({"aria-describedby": this.element.uniqueId().attr("id")})
        },
        _createTitlebar: function () {
            var e;
            this.uiDialogTitlebar = t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                mousedown: function (e) {
                    t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }), this.uiDialogTitlebarClose = t("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {primary: "ui-icon-closethick"},
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                click: function (t) {
                    t.preventDefault(), this.close(t)
                }
            }), e = t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(e), this.uiDialog.attr({"aria-labelledby": e.attr("id")})
        },
        _title: function (t) {
            this.options.title || t.html("&#160;"), t.text(this.options.title)
        },
        _createButtonPane: function () {
            this.uiDialogButtonPane = t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons()
        },
        _createButtons: function () {
            var e = this, i = this.options.buttons;
            return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(i) || t.isArray(i) && !i.length ? void this.uiDialog.removeClass("ui-dialog-buttons") : (t.each(i, function (i, n) {
                var s, o;
                n = t.isFunction(n) ? {
                    click: n,
                    text: i
                } : n, n = t.extend({type: "button"}, n), s = n.click, n.click = function () {
                    s.apply(e.element[0], arguments)
                }, o = {
                    icons: n.icons,
                    text: n.showText
                }, delete n.icons, delete n.showText, t("<button></button>", n).button(o).appendTo(e.uiButtonSet)
            }), this.uiDialog.addClass("ui-dialog-buttons"), void this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function () {
            function e(t) {
                return {position: t.position, offset: t.offset}
            }

            var i = this, n = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function (n, s) {
                    t(this).addClass("ui-dialog-dragging"), i._blockFrames(), i._trigger("dragStart", n, e(s))
                },
                drag: function (t, n) {
                    i._trigger("drag", t, e(n))
                },
                stop: function (s, o) {
                    var r = o.offset.left - i.document.scrollLeft(), a = o.offset.top - i.document.scrollTop();
                    n.position = {
                        my: "left top",
                        at: "left" + (r >= 0 ? "+" : "") + r + " top" + (a >= 0 ? "+" : "") + a,
                        of: i.window
                    }, t(this).removeClass("ui-dialog-dragging"), i._unblockFrames(), i._trigger("dragStop", s, e(o))
                }
            })
        },
        _makeResizable: function () {
            function e(t) {
                return {
                    originalPosition: t.originalPosition,
                    originalSize: t.originalSize,
                    position: t.position,
                    size: t.size
                }
            }

            var i = this, n = this.options, s = n.resizable, o = this.uiDialog.css("position"),
                r = "string" == typeof s ? s : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: n.maxWidth,
                maxHeight: n.maxHeight,
                minWidth: n.minWidth,
                minHeight: this._minHeight(),
                handles: r,
                start: function (n, s) {
                    t(this).addClass("ui-dialog-resizing"), i._blockFrames(), i._trigger("resizeStart", n, e(s))
                },
                resize: function (t, n) {
                    i._trigger("resize", t, e(n))
                },
                stop: function (s, o) {
                    var r = i.uiDialog.offset(), a = r.left - i.document.scrollLeft(),
                        l = r.top - i.document.scrollTop();
                    n.height = i.uiDialog.height(), n.width = i.uiDialog.width(), n.position = {
                        my: "left top",
                        at: "left" + (a >= 0 ? "+" : "") + a + " top" + (l >= 0 ? "+" : "") + l,
                        of: i.window
                    }, t(this).removeClass("ui-dialog-resizing"), i._unblockFrames(), i._trigger("resizeStop", s, e(o))
                }
            }).css("position", o)
        },
        _trackFocus: function () {
            this._on(this.widget(), {
                focusin: function (e) {
                    this._makeFocusTarget(), this._focusedElement = t(e.target)
                }
            })
        },
        _makeFocusTarget: function () {
            this._untrackInstance(), this._trackingInstances().unshift(this)
        },
        _untrackInstance: function () {
            var e = this._trackingInstances(), i = t.inArray(this, e);
            -1 !== i && e.splice(i, 1)
        },
        _trackingInstances: function () {
            var t = this.document.data("ui-dialog-instances");
            return t || (t = [], this.document.data("ui-dialog-instances", t)), t
        },
        _minHeight: function () {
            var t = this.options;
            return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
        },
        _position: function () {
            var t = this.uiDialog.is(":visible");
            t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide()
        },
        _setOptions: function (e) {
            var i = this, n = !1, s = {};
            t.each(e, function (t, e) {
                i._setOption(t, e), t in i.sizeRelatedOptions && (n = !0), t in i.resizableRelatedOptions && (s[t] = e)
            }), n && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", s)
        },
        _setOption: function (t, e) {
            var i, n, s = this.uiDialog;
            "dialogClass" === t && s.removeClass(this.options.dialogClass).addClass(e), "disabled" !== t && (this._super(t, e), "appendTo" === t && this.uiDialog.appendTo(this._appendTo()), "buttons" === t && this._createButtons(), "closeText" === t && this.uiDialogTitlebarClose.button({label: "" + e}), "draggable" === t && (i = s.is(":data(ui-draggable)"), i && !e && s.draggable("destroy"), !i && e && this._makeDraggable()), "position" === t && this._position(), "resizable" === t && (n = s.is(":data(ui-resizable)"), n && !e && s.resizable("destroy"), n && "string" == typeof e && s.resizable("option", "handles", e), n || e === !1 || this._makeResizable()), "title" === t && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function () {
            var t, e, i, n = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }), n.minWidth > n.width && (n.width = n.minWidth), t = this.uiDialog.css({
                height: "auto",
                width: n.width
            }).outerHeight(), e = Math.max(0, n.minHeight - t), i = "number" == typeof n.maxHeight ? Math.max(0, n.maxHeight - t) : "none", "auto" === n.height ? this.element.css({
                minHeight: e,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, n.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function () {
            this.iframeBlocks = this.document.find("iframe").map(function () {
                var e = t(this);
                return t("<div>").css({
                    position: "absolute",
                    width: e.outerWidth(),
                    height: e.outerHeight()
                }).appendTo(e.parent()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function () {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _allowInteraction: function (e) {
            return t(e.target).closest(".ui-dialog").length ? !0 : !!t(e.target).closest(".ui-datepicker").length
        },
        _createOverlay: function () {
            if (this.options.modal) {
                var e = !0;
                this._delay(function () {
                    e = !1
                }), this.document.data("ui-dialog-overlays") || this._on(this.document, {
                    focusin: function (t) {
                        e || this._allowInteraction(t) || (t.preventDefault(), this._trackingInstances()[0]._focusTabbable())
                    }
                }), this.overlay = t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()), this._on(this.overlay, {mousedown: "_keepFocus"}), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function () {
            if (this.options.modal && this.overlay) {
                var t = this.document.data("ui-dialog-overlays") - 1;
                t ? this.document.data("ui-dialog-overlays", t) : this.document.unbind("focusin").removeData("ui-dialog-overlays"), this.overlay.remove(), this.overlay = null
            }
        }
    });
    t.widget("ui.droppable", {
        version: "1.11.4",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function () {
            var e, i = this.options, n = i.accept;
            this.isover = !1, this.isout = !0, this.accept = t.isFunction(n) ? n : function (t) {
                return t.is(n)
            }, this.proportions = function () {
                return arguments.length ? void(e = arguments[0]) : e ? e : e = {
                    width: this.element[0].offsetWidth, height: this.element[0].offsetHeight
                }
            }, this._addToManager(i.scope), i.addClasses && this.element.addClass("ui-droppable")
        },
        _addToManager: function (e) {
            t.ui.ddmanager.droppables[e] = t.ui.ddmanager.droppables[e] || [], t.ui.ddmanager.droppables[e].push(this)
        },
        _splice: function (t) {
            for (var e = 0; e < t.length; e++) t[e] === this && t.splice(e, 1)
        },
        _destroy: function () {
            var e = t.ui.ddmanager.droppables[this.options.scope];
            this._splice(e), this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function (e, i) {
            if ("accept" === e) this.accept = t.isFunction(i) ? i : function (t) {
                return t.is(i)
            }; else if ("scope" === e) {
                var n = t.ui.ddmanager.droppables[this.options.scope];
                this._splice(n), this._addToManager(i)
            }
            this._super(e, i)
        },
        _activate: function (e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass), i && this._trigger("activate", e, this.ui(i))
        },
        _deactivate: function (e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass), i && this._trigger("deactivate", e, this.ui(i))
        },
        _over: function (e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", e, this.ui(i)))
        },
        _out: function (e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", e, this.ui(i)))
        },
        _drop: function (e, i) {
            var n = i || t.ui.ddmanager.current, s = !1;
            return n && (n.currentItem || n.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () {
                var i = t(this).droppable("instance");
                return i.options.greedy && !i.options.disabled && i.options.scope === n.options.scope && i.accept.call(i.element[0], n.currentItem || n.element) && t.ui.intersect(n, t.extend(i, {offset: i.element.offset()}), i.options.tolerance, e) ? (s = !0, !1) : void 0
            }), s ? !1 : this.accept.call(this.element[0], n.currentItem || n.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", e, this.ui(n)), this.element) : !1) : !1
        },
        ui: function (t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        }
    }), t.ui.intersect = function () {
        function t(t, e, i) {
            return t >= e && e + i > t
        }

        return function (e, i, n, s) {
            if (!i.offset) return !1;
            var o = (e.positionAbs || e.position.absolute).left + e.margins.left,
                r = (e.positionAbs || e.position.absolute).top + e.margins.top, a = o + e.helperProportions.width,
                l = r + e.helperProportions.height, h = i.offset.left, u = i.offset.top, c = h + i.proportions().width,
                d = u + i.proportions().height;
            switch (n) {
                case"fit":
                    return o >= h && c >= a && r >= u && d >= l;
                case"intersect":
                    return h < o + e.helperProportions.width / 2 && a - e.helperProportions.width / 2 < c && u < r + e.helperProportions.height / 2 && l - e.helperProportions.height / 2 < d;
                case"pointer":
                    return t(s.pageY, u, i.proportions().height) && t(s.pageX, h, i.proportions().width);
                case"touch":
                    return (r >= u && d >= r || l >= u && d >= l || u > r && l > d) && (o >= h && c >= o || a >= h && c >= a || h > o && a > c);
                default:
                    return !1
            }
        }
    }(), t.ui.ddmanager = {
        current: null, droppables: {"default": []}, prepareOffsets: function (e, i) {
            var n, s, o = t.ui.ddmanager.droppables[e.options.scope] || [], r = i ? i.type : null,
                a = (e.currentItem || e.element).find(":data(ui-droppable)").addBack();
            t:for (n = 0; n < o.length; n++) if (!(o[n].options.disabled || e && !o[n].accept.call(o[n].element[0], e.currentItem || e.element))) {
                for (s = 0; s < a.length; s++) if (a[s] === o[n].element[0]) {
                    o[n].proportions().height = 0;
                    continue t
                }
                o[n].visible = "none" !== o[n].element.css("display"), o[n].visible && ("mousedown" === r && o[n]._activate.call(o[n], i), o[n].offset = o[n].element.offset(), o[n].proportions({
                    width: o[n].element[0].offsetWidth,
                    height: o[n].element[0].offsetHeight
                }))
            }
        }, drop: function (e, i) {
            var n = !1;
            return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), function () {
                this.options && (!this.options.disabled && this.visible && t.ui.intersect(e, this, this.options.tolerance, i) && (n = this._drop.call(this, i) || n), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)))
            }), n
        }, dragStart: function (e, i) {
            e.element.parentsUntil("body").bind("scroll.droppable", function () {
                e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
            })
        }, drag: function (e, i) {
            e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function () {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var n, s, o, r = t.ui.intersect(e, this, this.options.tolerance, i),
                        a = !r && this.isover ? "isout" : r && !this.isover ? "isover" : null;
                    a && (this.options.greedy && (s = this.options.scope, o = this.element.parents(":data(ui-droppable)").filter(function () {
                        return t(this).droppable("instance").options.scope === s
                    }), o.length && (n = t(o[0]).droppable("instance"), n.greedyChild = "isover" === a)), n && "isover" === a && (n.isover = !1, n.isout = !0, n._out.call(n, i)), this[a] = !0, this["isout" === a ? "isover" : "isout"] = !1, this["isover" === a ? "_over" : "_out"].call(this, i), n && "isout" === a && (n.isout = !1, n.isover = !0, n._over.call(n, i)))
                }
            })
        }, dragStop: function (e, i) {
            e.element.parentsUntil("body").unbind("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
        }
    };
    var y = (t.ui.droppable, "ui-effects-"), b = t;
    t.effects = {effect: {}}, function (t, e) {
        function i(t, e, i) {
            var n = c[e.type] || {};
            return null == t ? i || !e.def ? null : e.def : (t = n.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : n.mod ? (t + n.mod) % n.mod : 0 > t ? 0 : n.max < t ? n.max : t)
        }

        function n(e) {
            var i = h(), n = i._rgba = [];
            return e = e.toLowerCase(), p(l, function (t, s) {
                var o, r = s.re.exec(e), a = r && s.parse(r), l = s.space || "rgba";
                return a ? (o = i[l](a), i[u[l].cache] = o[u[l].cache], n = i._rgba = o._rgba, !1) : void 0
            }), n.length ? ("0,0,0,0" === n.join() && t.extend(n, o.transparent), i) : o[e]
        }

        function s(t, e, i) {
            return i = (i + 1) % 1, 1 > 6 * i ? t + (e - t) * i * 6 : 1 > 2 * i ? e : 2 > 3 * i ? t + (e - t) * (2 / 3 - i) * 6 : t
        }

        var o,
            r = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
            a = /^([\-+])=\s*(\d+\.?\d*)/, l = [{
                re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                parse: function (t) {
                    return [t[1], t[2], t[3], t[4]]
                }
            }, {
                re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                parse: function (t) {
                    return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                }
            }, {
                re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/, parse: function (t) {
                    return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                }
            }, {
                re: /#([a-f0-9])([a-f0-9])([a-f0-9])/, parse: function (t) {
                    return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                }
            }, {
                re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                space: "hsla",
                parse: function (t) {
                    return [t[1], t[2] / 100, t[3] / 100, t[4]]
                }
            }], h = t.Color = function (e, i, n, s) {
                return new t.Color.fn.parse(e, i, n, s)
            }, u = {
                rgba: {
                    props: {
                        red: {idx: 0, type: "byte"},
                        green: {idx: 1, type: "byte"},
                        blue: {idx: 2, type: "byte"}
                    }
                },
                hsla: {
                    props: {
                        hue: {idx: 0, type: "degrees"},
                        saturation: {idx: 1, type: "percent"},
                        lightness: {idx: 2, type: "percent"}
                    }
                }
            }, c = {"byte": {floor: !0, max: 255}, percent: {max: 1}, degrees: {mod: 360, floor: !0}}, d = h.support = {},
            f = t("<p>")[0], p = t.each;
        f.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = f.style.backgroundColor.indexOf("rgba") > -1, p(u, function (t, e) {
            e.cache = "_" + t, e.props.alpha = {idx: 3, type: "percent", def: 1}
        }), h.fn = t.extend(h.prototype, {
            parse: function (s, r, a, l) {
                if (s === e) return this._rgba = [null, null, null, null], this;
                (s.jquery || s.nodeType) && (s = t(s).css(r), r = e);
                var c = this, d = t.type(s), f = this._rgba = [];
                return r !== e && (s = [s, r, a, l], d = "array"), "string" === d ? this.parse(n(s) || o._default) : "array" === d ? (p(u.rgba.props, function (t, e) {
                    f[e.idx] = i(s[e.idx], e)
                }), this) : "object" === d ? (s instanceof h ? p(u, function (t, e) {
                    s[e.cache] && (c[e.cache] = s[e.cache].slice())
                }) : p(u, function (e, n) {
                    var o = n.cache;
                    p(n.props, function (t, e) {
                        if (!c[o] && n.to) {
                            if ("alpha" === t || null == s[t]) return;
                            c[o] = n.to(c._rgba)
                        }
                        c[o][e.idx] = i(s[t], e, !0)
                    }), c[o] && t.inArray(null, c[o].slice(0, 3)) < 0 && (c[o][3] = 1, n.from && (c._rgba = n.from(c[o])))
                }), this) : void 0
            }, is: function (t) {
                var e = h(t), i = !0, n = this;
                return p(u, function (t, s) {
                    var o, r = e[s.cache];
                    return r && (o = n[s.cache] || s.to && s.to(n._rgba) || [], p(s.props, function (t, e) {
                        return null != r[e.idx] ? i = r[e.idx] === o[e.idx] : void 0
                    })), i
                }), i
            }, _space: function () {
                var t = [], e = this;
                return p(u, function (i, n) {
                    e[n.cache] && t.push(i)
                }), t.pop()
            }, transition: function (t, e) {
                var n = h(t), s = n._space(), o = u[s], r = 0 === this.alpha() ? h("transparent") : this,
                    a = r[o.cache] || o.to(r._rgba), l = a.slice();
                return n = n[o.cache], p(o.props, function (t, s) {
                    var o = s.idx, r = a[o], h = n[o], u = c[s.type] || {};
                    null !== h && (null === r ? l[o] = h : (u.mod && (h - r > u.mod / 2 ? r += u.mod : r - h > u.mod / 2 && (r -= u.mod)), l[o] = i((h - r) * e + r, s)))
                }), this[s](l)
            }, blend: function (e) {
                if (1 === this._rgba[3]) return this;
                var i = this._rgba.slice(), n = i.pop(), s = h(e)._rgba;
                return h(t.map(i, function (t, e) {
                    return (1 - n) * s[e] + n * t
                }))
            }, toRgbaString: function () {
                var e = "rgba(", i = t.map(this._rgba, function (t, e) {
                    return null == t ? e > 2 ? 1 : 0 : t
                });
                return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")"
            }, toHslaString: function () {
                var e = "hsla(", i = t.map(this.hsla(), function (t, e) {
                    return null == t && (t = e > 2 ? 1 : 0), e && 3 > e && (t = Math.round(100 * t) + "%"), t
                });
                return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")"
            }, toHexString: function (e) {
                var i = this._rgba.slice(), n = i.pop();
                return e && i.push(~~(255 * n)), "#" + t.map(i, function (t) {
                    return t = (t || 0).toString(16), 1 === t.length ? "0" + t : t
                }).join("")
            }, toString: function () {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }
        }), h.fn.parse.prototype = h.fn, u.hsla.to = function (t) {
            if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
            var e, i, n = t[0] / 255, s = t[1] / 255, o = t[2] / 255, r = t[3], a = Math.max(n, s, o),
                l = Math.min(n, s, o), h = a - l, u = a + l, c = .5 * u;
            return e = l === a ? 0 : n === a ? 60 * (s - o) / h + 360 : s === a ? 60 * (o - n) / h + 120 : 60 * (n - s) / h + 240, i = 0 === h ? 0 : .5 >= c ? h / u : h / (2 - u), [Math.round(e) % 360, i, c, null == r ? 1 : r]
        }, u.hsla.from = function (t) {
            if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
            var e = t[0] / 360, i = t[1], n = t[2], o = t[3], r = .5 >= n ? n * (1 + i) : n + i - n * i, a = 2 * n - r;
            return [Math.round(255 * s(a, r, e + 1 / 3)), Math.round(255 * s(a, r, e)), Math.round(255 * s(a, r, e - 1 / 3)), o]
        }, p(u, function (n, s) {
            var o = s.props, r = s.cache, l = s.to, u = s.from;
            h.fn[n] = function (n) {
                if (l && !this[r] && (this[r] = l(this._rgba)), n === e) return this[r].slice();
                var s, a = t.type(n), c = "array" === a || "object" === a ? n : arguments, d = this[r].slice();
                return p(o, function (t, e) {
                    var n = c["object" === a ? t : e.idx];
                    null == n && (n = d[e.idx]), d[e.idx] = i(n, e)
                }), u ? (s = h(u(d)), s[r] = d, s) : h(d)
            }, p(o, function (e, i) {
                h.fn[e] || (h.fn[e] = function (s) {
                    var o, r = t.type(s), l = "alpha" === e ? this._hsla ? "hsla" : "rgba" : n, h = this[l](),
                        u = h[i.idx];
                    return "undefined" === r ? u : ("function" === r && (s = s.call(this, u), r = t.type(s)), null == s && i.empty ? this : ("string" === r && (o = a.exec(s), o && (s = u + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))), h[i.idx] = s, this[l](h)))
                })
            })
        }), h.hook = function (e) {
            var i = e.split(" ");
            p(i, function (e, i) {
                t.cssHooks[i] = {
                    set: function (e, s) {
                        var o, r, a = "";
                        if ("transparent" !== s && ("string" !== t.type(s) || (o = n(s)))) {
                            if (s = h(o || s), !d.rgba && 1 !== s._rgba[3]) {
                                for (r = "backgroundColor" === i ? e.parentNode : e; ("" === a || "transparent" === a) && r && r.style;) try {
                                    a = t.css(r, "backgroundColor"), r = r.parentNode
                                } catch (l) {
                                }
                                s = s.blend(a && "transparent" !== a ? a : "_default")
                            }
                            s = s.toRgbaString()
                        }
                        try {
                            e.style[i] = s
                        } catch (l) {
                        }
                    }
                }, t.fx.step[i] = function (e) {
                    e.colorInit || (e.start = h(e.elem, i), e.end = h(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos))
                }
            })
        }, h.hook(r), t.cssHooks.borderColor = {
            expand: function (t) {
                var e = {};
                return p(["Top", "Right", "Bottom", "Left"], function (i, n) {
                    e["border" + n + "Color"] = t
                }), e
            }
        }, o = t.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    }(b), function () {
        function e(e) {
            var i, n,
                s = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle,
                o = {};
            if (s && s.length && s[0] && s[s[0]]) for (n = s.length; n--;) i = s[n], "string" == typeof s[i] && (o[t.camelCase(i)] = s[i]); else for (i in s) "string" == typeof s[i] && (o[i] = s[i]);
            return o
        }

        function i(e, i) {
            var n, o, r = {};
            for (n in i) o = i[n], e[n] !== o && (s[n] || (t.fx.step[n] || !isNaN(parseFloat(o))) && (r[n] = o));
            return r
        }

        var n = ["add", "remove", "toggle"], s = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (e, i) {
            t.fx.step[i] = function (t) {
                ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (b.style(t.elem, i, t.end), t.setAttr = !0)
            }
        }), t.fn.addBack || (t.fn.addBack = function (t) {
            return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }), t.effects.animateClass = function (s, o, r, a) {
            var l = t.speed(o, r, a);
            return this.queue(function () {
                var o, r = t(this), a = r.attr("class") || "", h = l.children ? r.find("*").addBack() : r;
                h = h.map(function () {
                    var i = t(this);
                    return {el: i, start: e(this)}
                }), o = function () {
                    t.each(n, function (t, e) {
                        s[e] && r[e + "Class"](s[e])
                    })
                }, o(), h = h.map(function () {
                    return this.end = e(this.el[0]), this.diff = i(this.start, this.end), this
                }), r.attr("class", a), h = h.map(function () {
                    var e = this, i = t.Deferred(), n = t.extend({}, l, {
                        queue: !1, complete: function () {
                            i.resolve(e)
                        }
                    });
                    return this.el.animate(this.diff, n), i.promise()
                }), t.when.apply(t, h.get()).done(function () {
                    o(), t.each(arguments, function () {
                        var e = this.el;
                        t.each(this.diff, function (t) {
                            e.css(t, "")
                        })
                    }), l.complete.call(r[0])
                })
            })
        }, t.fn.extend({
            addClass: function (e) {
                return function (i, n, s, o) {
                    return n ? t.effects.animateClass.call(this, {add: i}, n, s, o) : e.apply(this, arguments)
                }
            }(t.fn.addClass), removeClass: function (e) {
                return function (i, n, s, o) {
                    return arguments.length > 1 ? t.effects.animateClass.call(this, {remove: i}, n, s, o) : e.apply(this, arguments)
                }
            }(t.fn.removeClass), toggleClass: function (e) {
                return function (i, n, s, o, r) {
                    return "boolean" == typeof n || void 0 === n ? s ? t.effects.animateClass.call(this, n ? {add: i} : {remove: i}, s, o, r) : e.apply(this, arguments) : t.effects.animateClass.call(this, {toggle: i}, n, s, o)
                }
            }(t.fn.toggleClass), switchClass: function (e, i, n, s, o) {
                return t.effects.animateClass.call(this, {add: i, remove: e}, n, s, o)
            }
        })
    }(), function () {
        function e(e, i, n, s) {
            return t.isPlainObject(e) && (i = e, e = e.effect), e = {effect: e}, null == i && (i = {}), t.isFunction(i) && (s = i, n = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (s = n, n = i, i = {}), t.isFunction(n) && (s = n, n = null), i && t.extend(e, i), n = n || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof n ? n : n in t.fx.speeds ? t.fx.speeds[n] : t.fx.speeds._default, e.complete = s || i.complete, e
        }

        function i(e) {
            return !e || "number" == typeof e || t.fx.speeds[e] ? !0 : "string" != typeof e || t.effects.effect[e] ? t.isFunction(e) ? !0 : "object" != typeof e || e.effect ? !1 : !0 : !0
        }

        t.extend(t.effects, {
            version: "1.11.4", save: function (t, e) {
                for (var i = 0; i < e.length; i++) null !== e[i] && t.data(y + e[i], t[0].style[e[i]])
            }, restore: function (t, e) {
                var i, n;
                for (n = 0; n < e.length; n++) null !== e[n] && (i = t.data(y + e[n]), void 0 === i && (i = ""), t.css(e[n], i))
            }, setMode: function (t, e) {
                return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
            }, getBaseline: function (t, e) {
                var i, n;
                switch (t[0]) {
                    case"top":
                        i = 0;
                        break;
                    case"middle":
                        i = .5;
                        break;
                    case"bottom":
                        i = 1;
                        break;
                    default:
                        i = t[0] / e.height
                }
                switch (t[1]) {
                    case"left":
                        n = 0;
                        break;
                    case"center":
                        n = .5;
                        break;
                    case"right":
                        n = 1;
                        break;
                    default:
                        n = t[1] / e.width
                }
                return {x: n, y: i}
            }, createWrapper: function (e) {
                if (e.parent().is(".ui-effects-wrapper")) return e.parent();
                var i = {width: e.outerWidth(!0), height: e.outerHeight(!0), "float": e.css("float")},
                    n = t("<div></div>").addClass("ui-effects-wrapper").css({
                        fontSize: "100%",
                        background: "transparent",
                        border: "none",
                        margin: 0,
                        padding: 0
                    }), s = {width: e.width(), height: e.height()}, o = document.activeElement;
                try {
                    o.id
                } catch (r) {
                    o = document.body
                }
                return e.wrap(n), (e[0] === o || t.contains(e[0], o)) && t(o).focus(), n = e.parent(), "static" === e.css("position") ? (n.css({position: "relative"}), e.css({position: "relative"})) : (t.extend(i, {
                    position: e.css("position"),
                    zIndex: e.css("z-index")
                }), t.each(["top", "left", "bottom", "right"], function (t, n) {
                    i[n] = e.css(n), isNaN(parseInt(i[n], 10)) && (i[n] = "auto")
                }), e.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })), e.css(s), n.css(i).show()
            }, removeWrapper: function (e) {
                var i = document.activeElement;
                return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i).focus()), e
            }, setTransition: function (e, i, n, s) {
                return s = s || {}, t.each(i, function (t, i) {
                    var o = e.cssUnit(i);
                    o[0] > 0 && (s[i] = o[0] * n + o[1])
                }), s
            }
        }), t.fn.extend({
            effect: function () {
                function i(e) {
                    function i() {
                        t.isFunction(o) && o.call(s[0]), t.isFunction(e) && e()
                    }

                    var s = t(this), o = n.complete, a = n.mode;
                    (s.is(":hidden") ? "hide" === a : "show" === a) ? (s[a](), i()) : r.call(s[0], n, i)
                }

                var n = e.apply(this, arguments), s = n.mode, o = n.queue, r = t.effects.effect[n.effect];
                return t.fx.off || !r ? s ? this[s](n.duration, n.complete) : this.each(function () {
                    n.complete && n.complete.call(this)
                }) : o === !1 ? this.each(i) : this.queue(o || "fx", i)
            }, show: function (t) {
                return function (n) {
                    if (i(n)) return t.apply(this, arguments);
                    var s = e.apply(this, arguments);
                    return s.mode = "show", this.effect.call(this, s)
                }
            }(t.fn.show), hide: function (t) {
                return function (n) {
                    if (i(n)) return t.apply(this, arguments);
                    var s = e.apply(this, arguments);
                    return s.mode = "hide", this.effect.call(this, s)
                }
            }(t.fn.hide), toggle: function (t) {
                return function (n) {
                    if (i(n) || "boolean" == typeof n) return t.apply(this, arguments);
                    var s = e.apply(this, arguments);
                    return s.mode = "toggle", this.effect.call(this, s)
                }
            }(t.fn.toggle), cssUnit: function (e) {
                var i = this.css(e), n = [];
                return t.each(["em", "px", "%", "pt"], function (t, e) {
                    i.indexOf(e) > 0 && (n = [parseFloat(i), e])
                }), n
            }
        })
    }(), function () {
        var e = {};
        t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (t, i) {
            e[i] = function (e) {
                return Math.pow(e, t + 2)
            }
        }), t.extend(e, {
            Sine: function (t) {
                return 1 - Math.cos(t * Math.PI / 2)
            }, Circ: function (t) {
                return 1 - Math.sqrt(1 - t * t)
            }, Elastic: function (t) {
                return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
            }, Back: function (t) {
                return t * t * (3 * t - 2)
            }, Bounce: function (t) {
                for (var e, i = 4; t < ((e = Math.pow(2, --i)) - 1) / 11;) ;
                return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
            }
        }), t.each(e, function (e, i) {
            t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function (t) {
                return 1 - i(1 - t)
            }, t.easing["easeInOut" + e] = function (t) {
                return .5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2
            }
        })
    }();
    t.effects, t.effects.effect.blind = function (e, i) {
        var n, s, o, r = t(this), a = /up|down|vertical/, l = /up|left|vertical|horizontal/,
            h = ["position", "top", "bottom", "left", "right", "height", "width"],
            u = t.effects.setMode(r, e.mode || "hide"), c = e.direction || "up", d = a.test(c),
            f = d ? "height" : "width", p = d ? "top" : "left", g = l.test(c), m = {}, v = "show" === u;
        r.parent().is(".ui-effects-wrapper") ? t.effects.save(r.parent(), h) : t.effects.save(r, h), r.show(), n = t.effects.createWrapper(r).css({overflow: "hidden"}), s = n[f](), o = parseFloat(n.css(p)) || 0, m[f] = v ? s : 0, g || (r.css(d ? "bottom" : "right", 0).css(d ? "top" : "left", "auto").css({position: "absolute"}), m[p] = v ? o : s + o), v && (n.css(f, 0), g || n.css(p, o + s)), n.animate(m, {
            duration: e.duration,
            easing: e.easing,
            queue: !1,
            complete: function () {
                "hide" === u && r.hide(), t.effects.restore(r, h), t.effects.removeWrapper(r), i()
            }
        })
    }, t.effects.effect.bounce = function (e, i) {
        var n, s, o, r = t(this), a = ["position", "top", "bottom", "left", "right", "height", "width"],
            l = t.effects.setMode(r, e.mode || "effect"), h = "hide" === l, u = "show" === l, c = e.direction || "up",
            d = e.distance, f = e.times || 5, p = 2 * f + (u || h ? 1 : 0), g = e.duration / p, m = e.easing,
            v = "up" === c || "down" === c ? "top" : "left", y = "up" === c || "left" === c, b = r.queue(),
            w = b.length;
        for ((u || h) && a.push("opacity"), t.effects.save(r, a), r.show(), t.effects.createWrapper(r), d || (d = r["top" === v ? "outerHeight" : "outerWidth"]() / 3), u && (o = {opacity: 1}, o[v] = 0, r.css("opacity", 0).css(v, y ? 2 * -d : 2 * d).animate(o, g, m)), h && (d /= Math.pow(2, f - 1)), o = {}, o[v] = 0, n = 0; f > n; n++) s = {}, s[v] = (y ? "-=" : "+=") + d, r.animate(s, g, m).animate(o, g, m), d = h ? 2 * d : d / 2;
        h && (s = {opacity: 0}, s[v] = (y ? "-=" : "+=") + d, r.animate(s, g, m)), r.queue(function () {
            h && r.hide(), t.effects.restore(r, a), t.effects.removeWrapper(r), i()
        }), w > 1 && b.splice.apply(b, [1, 0].concat(b.splice(w, p + 1))), r.dequeue()
    }, t.effects.effect.clip = function (e, i) {
        var n, s, o, r = t(this), a = ["position", "top", "bottom", "left", "right", "height", "width"],
            l = t.effects.setMode(r, e.mode || "hide"), h = "show" === l, u = e.direction || "vertical",
            c = "vertical" === u, d = c ? "height" : "width", f = c ? "top" : "left", p = {};
        t.effects.save(r, a), r.show(), n = t.effects.createWrapper(r).css({overflow: "hidden"}), s = "IMG" === r[0].tagName ? n : r, o = s[d](), h && (s.css(d, 0), s.css(f, o / 2)), p[d] = h ? o : 0, p[f] = h ? 0 : o / 2, s.animate(p, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                h || r.hide(), t.effects.restore(r, a), t.effects.removeWrapper(r), i()
            }
        })
    }, t.effects.effect.drop = function (e, i) {
        var n, s = t(this), o = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
            r = t.effects.setMode(s, e.mode || "hide"), a = "show" === r, l = e.direction || "left",
            h = "up" === l || "down" === l ? "top" : "left", u = "up" === l || "left" === l ? "pos" : "neg",
            c = {opacity: a ? 1 : 0};
        t.effects.save(s, o), s.show(), t.effects.createWrapper(s), n = e.distance || s["top" === h ? "outerHeight" : "outerWidth"](!0) / 2, a && s.css("opacity", 0).css(h, "pos" === u ? -n : n), c[h] = (a ? "pos" === u ? "+=" : "-=" : "pos" === u ? "-=" : "+=") + n, s.animate(c, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                "hide" === r && s.hide(), t.effects.restore(s, o), t.effects.removeWrapper(s), i()
            }
        })
    }, t.effects.effect.explode = function (e, i) {
        function n() {
            b.push(this), b.length === c * d && s()
        }

        function s() {
            f.css({visibility: "visible"}), t(b).remove(), g || f.hide(), i()
        }

        var o, r, a, l, h, u, c = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3, d = c, f = t(this),
            p = t.effects.setMode(f, e.mode || "hide"), g = "show" === p,
            m = f.show().css("visibility", "hidden").offset(), v = Math.ceil(f.outerWidth() / d),
            y = Math.ceil(f.outerHeight() / c), b = [];
        for (o = 0; c > o; o++) for (l = m.top + o * y, u = o - (c - 1) / 2, r = 0; d > r; r++) a = m.left + r * v, h = r - (d - 1) / 2, f.clone().appendTo("body").wrap("<div></div>").css({
            position: "absolute",
            visibility: "visible",
            left: -r * v,
            top: -o * y
        }).parent().addClass("ui-effects-explode").css({
            position: "absolute",
            overflow: "hidden",
            width: v,
            height: y,
            left: a + (g ? h * v : 0),
            top: l + (g ? u * y : 0),
            opacity: g ? 0 : 1
        }).animate({
            left: a + (g ? 0 : h * v),
            top: l + (g ? 0 : u * y),
            opacity: g ? 1 : 0
        }, e.duration || 500, e.easing, n)
    }, t.effects.effect.fade = function (e, i) {
        var n = t(this), s = t.effects.setMode(n, e.mode || "toggle");
        n.animate({opacity: s}, {queue: !1, duration: e.duration, easing: e.easing, complete: i})
    }, t.effects.effect.fold = function (e, i) {
        var n, s, o = t(this), r = ["position", "top", "bottom", "left", "right", "height", "width"],
            a = t.effects.setMode(o, e.mode || "hide"), l = "show" === a, h = "hide" === a, u = e.size || 15,
            c = /([0-9]+)%/.exec(u), d = !!e.horizFirst, f = l !== d, p = f ? ["width", "height"] : ["height", "width"],
            g = e.duration / 2, m = {}, v = {};
        t.effects.save(o, r), o.show(), n = t.effects.createWrapper(o).css({overflow: "hidden"}), s = f ? [n.width(), n.height()] : [n.height(), n.width()], c && (u = parseInt(c[1], 10) / 100 * s[h ? 0 : 1]), l && n.css(d ? {
            height: 0,
            width: u
        } : {
            height: u,
            width: 0
        }), m[p[0]] = l ? s[0] : u, v[p[1]] = l ? s[1] : 0, n.animate(m, g, e.easing).animate(v, g, e.easing, function () {
            h && o.hide(), t.effects.restore(o, r), t.effects.removeWrapper(o), i()
        })
    }, t.effects.effect.highlight = function (e, i) {
        var n = t(this), s = ["backgroundImage", "backgroundColor", "opacity"],
            o = t.effects.setMode(n, e.mode || "show"), r = {backgroundColor: n.css("backgroundColor")};
        "hide" === o && (r.opacity = 0), t.effects.save(n, s), n.show().css({
            backgroundImage: "none",
            backgroundColor: e.color || "#ffff99"
        }).animate(r, {
            queue: !1, duration: e.duration, easing: e.easing, complete: function () {
                "hide" === o && n.hide(), t.effects.restore(n, s), i()
            }
        })
    }, t.effects.effect.size = function (e, i) {
        var n, s, o, r = t(this),
            a = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
            l = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
            h = ["width", "height", "overflow"], u = ["fontSize"],
            c = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            d = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            f = t.effects.setMode(r, e.mode || "effect"), p = e.restore || "effect" !== f, g = e.scale || "both",
            m = e.origin || ["middle", "center"], v = r.css("position"), y = p ? a : l,
            b = {height: 0, width: 0, outerHeight: 0, outerWidth: 0};
        "show" === f && r.show(), n = {
            height: r.height(),
            width: r.width(),
            outerHeight: r.outerHeight(),
            outerWidth: r.outerWidth()
        }, "toggle" === e.mode && "show" === f ? (r.from = e.to || b, r.to = e.from || n) : (r.from = e.from || ("show" === f ? b : n), r.to = e.to || ("hide" === f ? b : n)), o = {
            from: {
                y: r.from.height / n.height,
                x: r.from.width / n.width
            }, to: {y: r.to.height / n.height, x: r.to.width / n.width}
        }, ("box" === g || "both" === g) && (o.from.y !== o.to.y && (y = y.concat(c), r.from = t.effects.setTransition(r, c, o.from.y, r.from), r.to = t.effects.setTransition(r, c, o.to.y, r.to)), o.from.x !== o.to.x && (y = y.concat(d), r.from = t.effects.setTransition(r, d, o.from.x, r.from), r.to = t.effects.setTransition(r, d, o.to.x, r.to))), ("content" === g || "both" === g) && o.from.y !== o.to.y && (y = y.concat(u).concat(h), r.from = t.effects.setTransition(r, u, o.from.y, r.from), r.to = t.effects.setTransition(r, u, o.to.y, r.to)), t.effects.save(r, y), r.show(), t.effects.createWrapper(r), r.css("overflow", "hidden").css(r.from), m && (s = t.effects.getBaseline(m, n), r.from.top = (n.outerHeight - r.outerHeight()) * s.y, r.from.left = (n.outerWidth - r.outerWidth()) * s.x, r.to.top = (n.outerHeight - r.to.outerHeight) * s.y, r.to.left = (n.outerWidth - r.to.outerWidth) * s.x), r.css(r.from), ("content" === g || "both" === g) && (c = c.concat(["marginTop", "marginBottom"]).concat(u), d = d.concat(["marginLeft", "marginRight"]), h = a.concat(c).concat(d), r.find("*[width]").each(function () {
            var i = t(this),
                n = {height: i.height(), width: i.width(), outerHeight: i.outerHeight(), outerWidth: i.outerWidth()};
            p && t.effects.save(i, h), i.from = {
                height: n.height * o.from.y,
                width: n.width * o.from.x,
                outerHeight: n.outerHeight * o.from.y,
                outerWidth: n.outerWidth * o.from.x
            }, i.to = {
                height: n.height * o.to.y,
                width: n.width * o.to.x,
                outerHeight: n.height * o.to.y,
                outerWidth: n.width * o.to.x
            }, o.from.y !== o.to.y && (i.from = t.effects.setTransition(i, c, o.from.y, i.from), i.to = t.effects.setTransition(i, c, o.to.y, i.to)), o.from.x !== o.to.x && (i.from = t.effects.setTransition(i, d, o.from.x, i.from), i.to = t.effects.setTransition(i, d, o.to.x, i.to)), i.css(i.from), i.animate(i.to, e.duration, e.easing, function () {
                p && t.effects.restore(i, h)
            })
        })), r.animate(r.to, {
            queue: !1, duration: e.duration, easing: e.easing, complete: function () {
                0 === r.to.opacity && r.css("opacity", r.from.opacity), "hide" === f && r.hide(), t.effects.restore(r, y), p || ("static" === v ? r.css({
                    position: "relative",
                    top: r.to.top,
                    left: r.to.left
                }) : t.each(["top", "left"], function (t, e) {
                    r.css(e, function (e, i) {
                        var n = parseInt(i, 10), s = t ? r.to.left : r.to.top;
                        return "auto" === i ? s + "px" : n + s + "px"
                    })
                })), t.effects.removeWrapper(r), i()
            }
        })
    }, t.effects.effect.scale = function (e, i) {
        var n = t(this), s = t.extend(!0, {}, e), o = t.effects.setMode(n, e.mode || "effect"),
            r = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "hide" === o ? 0 : 100),
            a = e.direction || "both", l = e.origin,
            h = {height: n.height(), width: n.width(), outerHeight: n.outerHeight(), outerWidth: n.outerWidth()},
            u = {y: "horizontal" !== a ? r / 100 : 1, x: "vertical" !== a ? r / 100 : 1};
        s.effect = "size", s.queue = !1, s.complete = i, "effect" !== o && (s.origin = l || ["middle", "center"], s.restore = !0), s.from = e.from || ("show" === o ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : h), s.to = {
            height: h.height * u.y,
            width: h.width * u.x,
            outerHeight: h.outerHeight * u.y,
            outerWidth: h.outerWidth * u.x
        }, s.fade && ("show" === o && (s.from.opacity = 0, s.to.opacity = 1), "hide" === o && (s.from.opacity = 1, s.to.opacity = 0)), n.effect(s)
    }, t.effects.effect.puff = function (e, i) {
        var n = t(this), s = t.effects.setMode(n, e.mode || "hide"), o = "hide" === s,
            r = parseInt(e.percent, 10) || 150, a = r / 100,
            l = {height: n.height(), width: n.width(), outerHeight: n.outerHeight(), outerWidth: n.outerWidth()};
        t.extend(e, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: s,
            complete: i,
            percent: o ? r : 100,
            from: o ? l : {
                height: l.height * a,
                width: l.width * a,
                outerHeight: l.outerHeight * a,
                outerWidth: l.outerWidth * a
            }
        }), n.effect(e)
    }, t.effects.effect.pulsate = function (e, i) {
        var n, s = t(this), o = t.effects.setMode(s, e.mode || "show"), r = "show" === o, a = "hide" === o,
            l = r || "hide" === o, h = 2 * (e.times || 5) + (l ? 1 : 0), u = e.duration / h, c = 0, d = s.queue(),
            f = d.length;
        for ((r || !s.is(":visible")) && (s.css("opacity", 0).show(), c = 1), n = 1; h > n; n++) s.animate({opacity: c}, u, e.easing), c = 1 - c;
        s.animate({opacity: c}, u, e.easing), s.queue(function () {
            a && s.hide(), i()
        }), f > 1 && d.splice.apply(d, [1, 0].concat(d.splice(f, h + 1))), s.dequeue()
    }, t.effects.effect.shake = function (e, i) {
        var n, s = t(this), o = ["position", "top", "bottom", "left", "right", "height", "width"],
            r = t.effects.setMode(s, e.mode || "effect"), a = e.direction || "left", l = e.distance || 20,
            h = e.times || 3, u = 2 * h + 1, c = Math.round(e.duration / u),
            d = "up" === a || "down" === a ? "top" : "left", f = "up" === a || "left" === a, p = {}, g = {}, m = {},
            v = s.queue(), y = v.length;
        for (t.effects.save(s, o), s.show(), t.effects.createWrapper(s), p[d] = (f ? "-=" : "+=") + l, g[d] = (f ? "+=" : "-=") + 2 * l, m[d] = (f ? "-=" : "+=") + 2 * l, s.animate(p, c, e.easing), n = 1; h > n; n++) s.animate(g, c, e.easing).animate(m, c, e.easing);
        s.animate(g, c, e.easing).animate(p, c / 2, e.easing).queue(function () {
            "hide" === r && s.hide(), t.effects.restore(s, o), t.effects.removeWrapper(s), i()
        }), y > 1 && v.splice.apply(v, [1, 0].concat(v.splice(y, u + 1))), s.dequeue()
    }, t.effects.effect.slide = function (e, i) {
        var n, s = t(this), o = ["position", "top", "bottom", "left", "right", "width", "height"],
            r = t.effects.setMode(s, e.mode || "show"), a = "show" === r, l = e.direction || "left",
            h = "up" === l || "down" === l ? "top" : "left", u = "up" === l || "left" === l, c = {};
        t.effects.save(s, o), s.show(), n = e.distance || s["top" === h ? "outerHeight" : "outerWidth"](!0), t.effects.createWrapper(s).css({overflow: "hidden"}), a && s.css(h, u ? isNaN(n) ? "-" + n : -n : n), c[h] = (a ? u ? "+=" : "-=" : u ? "-=" : "+=") + n, s.animate(c, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function () {
                "hide" === r && s.hide(), t.effects.restore(s, o), t.effects.removeWrapper(s), i()
            }
        })
    }, t.effects.effect.transfer = function (e, i) {
        var n = t(this), s = t(e.to), o = "fixed" === s.css("position"), r = t("body"), a = o ? r.scrollTop() : 0,
            l = o ? r.scrollLeft() : 0, h = s.offset(),
            u = {top: h.top - a, left: h.left - l, height: s.innerHeight(), width: s.innerWidth()}, c = n.offset(),
            d = t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({
                top: c.top - a,
                left: c.left - l,
                height: n.innerHeight(),
                width: n.innerWidth(),
                position: o ? "fixed" : "absolute"
            }).animate(u, e.duration, e.easing, function () {
                d.remove(), i()
            })
    }, t.widget("ui.progressbar", {
        version: "1.11.4",
        options: {max: 100, value: 0, change: null, complete: null},
        min: 0,
        _create: function () {
            this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }), this.valueDiv = t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element), this._refreshValue()
        },
        _destroy: function () {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.valueDiv.remove()
        },
        value: function (t) {
            return void 0 === t ? this.options.value : (this.options.value = this._constrainedValue(t), void this._refreshValue())
        },
        _constrainedValue: function (t) {
            return void 0 === t && (t = this.options.value), this.indeterminate = t === !1, "number" != typeof t && (t = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function (t) {
            var e = t.value;
            delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue()
        },
        _setOption: function (t, e) {
            "max" === t && (e = Math.max(this.min, e)), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!e).attr("aria-disabled", e), this._super(t, e)
        },
        _percentage: function () {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function () {
            var e = this.options.value, i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || e > this.min).toggleClass("ui-corner-right", e === this.options.max).width(i.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
            }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger("change")), e === this.options.max && this._trigger("complete")
        }
    }), t.widget("ui.selectable", t.ui.mouse, {
        version: "1.11.4",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function () {
            var e, i = this;
            this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function () {
                e = t(i.options.filter, i.element[0]), e.addClass("ui-selectee"), e.each(function () {
                    var e = t(this), i = e.offset();
                    t.data(this, "selectable-item", {
                        element: this,
                        $element: e,
                        left: i.left,
                        top: i.top,
                        right: i.left + e.outerWidth(),
                        bottom: i.top + e.outerHeight(),
                        startselected: !1,
                        selected: e.hasClass("ui-selected"),
                        selecting: e.hasClass("ui-selecting"),
                        unselecting: e.hasClass("ui-unselecting")
                    })
                })
            }, this.refresh(), this.selectees = e.addClass("ui-selectee"), this._mouseInit(), this.helper = t("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function () {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
        },
        _mouseStart: function (e) {
            var i = this, n = this.options;
            this.opos = [e.pageX, e.pageY], this.options.disabled || (this.selectees = t(n.filter, this.element[0]), this._trigger("start", e), t(n.appendTo).append(this.helper), this.helper.css({
                left: e.pageX,
                top: e.pageY,
                width: 0,
                height: 0
            }), n.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function () {
                var n = t.data(this, "selectable-item");
                n.startselected = !0, e.metaKey || e.ctrlKey || (n.$element.removeClass("ui-selected"), n.selected = !1, n.$element.addClass("ui-unselecting"), n.unselecting = !0, i._trigger("unselecting", e, {unselecting: n.element}))
            }), t(e.target).parents().addBack().each(function () {
                var n, s = t.data(this, "selectable-item");
                return s ? (n = !e.metaKey && !e.ctrlKey || !s.$element.hasClass("ui-selected"), s.$element.removeClass(n ? "ui-unselecting" : "ui-selected").addClass(n ? "ui-selecting" : "ui-unselecting"), s.unselecting = !n, s.selecting = n, s.selected = n, n ? i._trigger("selecting", e, {selecting: s.element}) : i._trigger("unselecting", e, {unselecting: s.element}), !1) : void 0
            }))
        },
        _mouseDrag: function (e) {
            if (this.dragged = !0, !this.options.disabled) {
                var i, n = this, s = this.options, o = this.opos[0], r = this.opos[1], a = e.pageX, l = e.pageY;
                return o > a && (i = a, a = o, o = i), r > l && (i = l, l = r, r = i), this.helper.css({
                    left: o,
                    top: r,
                    width: a - o,
                    height: l - r
                }), this.selectees.each(function () {
                    var i = t.data(this, "selectable-item"), h = !1;
                    i && i.element !== n.element[0] && ("touch" === s.tolerance ? h = !(i.left > a || i.right < o || i.top > l || i.bottom < r) : "fit" === s.tolerance && (h = i.left > o && i.right < a && i.top > r && i.bottom < l), h ? (i.selected && (i.$element.removeClass("ui-selected"), i.selected = !1), i.unselecting && (i.$element.removeClass("ui-unselecting"), i.unselecting = !1), i.selecting || (i.$element.addClass("ui-selecting"), i.selecting = !0, n._trigger("selecting", e, {selecting: i.element}))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.$element.addClass("ui-selected"), i.selected = !0) : (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.startselected && (i.$element.addClass("ui-unselecting"), i.unselecting = !0), n._trigger("unselecting", e, {unselecting: i.element}))), i.selected && (e.metaKey || e.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"), i.selected = !1, i.$element.addClass("ui-unselecting"), i.unselecting = !0, n._trigger("unselecting", e, {unselecting: i.element})))))
                }), !1
            }
        },
        _mouseStop: function (e) {
            var i = this;
            return this.dragged = !1, t(".ui-unselecting", this.element[0]).each(function () {
                var n = t.data(this, "selectable-item");
                n.$element.removeClass("ui-unselecting"), n.unselecting = !1, n.startselected = !1, i._trigger("unselected", e, {unselected: n.element})
            }), t(".ui-selecting", this.element[0]).each(function () {
                var n = t.data(this, "selectable-item");
                n.$element.removeClass("ui-selecting").addClass("ui-selected"), n.selecting = !1, n.selected = !0, n.startselected = !0, i._trigger("selected", e, {selected: n.element})
            }), this._trigger("stop", e), this.helper.remove(), !1
        }
    }), t.widget("ui.selectmenu", {
        version: "1.11.4",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {button: "ui-icon-triangle-1-s"},
            position: {my: "left top", at: "left bottom", collision: "none"},
            width: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function () {
            var t = this.element.uniqueId().attr("id");
            this.ids = {
                element: t,
                button: t + "-button",
                menu: t + "-menu"
            }, this._drawButton(), this._drawMenu(), this.options.disabled && this.disable()
        },
        _drawButton: function () {
            var e = this;
            this.label = t("label[for='" + this.ids.element + "']").attr("for", this.ids.button), this._on(this.label, {
                click: function (t) {
                    this.button.focus(), t.preventDefault()
                }
            }), this.element.hide(), this.button = t("<span>", {
                "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true"
            }).insertAfter(this.element), t("<span>", {"class": "ui-icon " + this.options.icons.button}).prependTo(this.button), this.buttonText = t("<span>", {"class": "ui-selectmenu-text"}).appendTo(this.button), this._setText(this.buttonText, this.element.find("option:selected").text()), this._resizeButton(), this._on(this.button, this._buttonEvents), this.button.one("focusin", function () {
                e.menuItems || e._refreshMenu()
            }), this._hoverable(this.button), this._focusable(this.button)
        },
        _drawMenu: function () {
            var e = this;
            this.menu = t("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }), this.menuWrap = t("<div>", {"class": "ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()), this.menuInstance = this.menu.menu({
                role: "listbox",
                select: function (t, i) {
                    t.preventDefault(), e._setSelection(), e._select(i.item.data("ui-selectmenu-item"), t)
                },
                focus: function (t, i) {
                    var n = i.item.data("ui-selectmenu-item");
                    null != e.focusIndex && n.index !== e.focusIndex && (e._trigger("focus", t, {item: n}), e.isOpen || e._select(n, t)), e.focusIndex = n.index, e.button.attr("aria-activedescendant", e.menuItems.eq(n.index).attr("id"))
                }
            }).menu("instance"), this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function () {
                return !1
            }, this.menuInstance._isDivider = function () {
                return !1
            }
        },
        refresh: function () {
            this._refreshMenu(), this._setText(this.buttonText, this._getSelectedItem().text()), this.options.width || this._resizeButton()
        },
        _refreshMenu: function () {
            this.menu.empty();
            var t, e = this.element.find("option");
            e.length && (this._parseOptions(e), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"), t = this._getSelectedItem(), this.menuInstance.focus(null, t), this._setAria(t.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function (t) {
            this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", t))
        },
        _position: function () {
            this.menuWrap.position(t.extend({of: this.button}, this.options.position))
        },
        close: function (t) {
            this.isOpen && (this.isOpen = !1, this._toggleAttr(), this.range = null, this._off(this.document), this._trigger("close", t))
        },
        widget: function () {
            return this.button
        },
        menuWidget: function () {
            return this.menu
        },
        _renderMenu: function (e, i) {
            var n = this, s = "";
            t.each(i, function (i, o) {
                o.optgroup !== s && (t("<li>", {
                    "class": "ui-selectmenu-optgroup ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                    text: o.optgroup
                }).appendTo(e), s = o.optgroup), n._renderItemData(e, o)
            })
        },
        _renderItemData: function (t, e) {
            return this._renderItem(t, e).data("ui-selectmenu-item", e)
        },
        _renderItem: function (e, i) {
            var n = t("<li>");
            return i.disabled && n.addClass("ui-state-disabled"), this._setText(n, i.label), n.appendTo(e)
        },
        _setText: function (t, e) {
            e ? t.text(e) : t.html("&#160;")
        },
        _move: function (t, e) {
            var i, n, s = ".ui-menu-item";
            this.isOpen ? i = this.menuItems.eq(this.focusIndex) : (i = this.menuItems.eq(this.element[0].selectedIndex), s += ":not(.ui-state-disabled)"), n = "first" === t || "last" === t ? i["first" === t ? "prevAll" : "nextAll"](s).eq(-1) : i[t + "All"](s).eq(0), n.length && this.menuInstance.focus(e, n)
        },
        _getSelectedItem: function () {
            return this.menuItems.eq(this.element[0].selectedIndex)
        },
        _toggle: function (t) {
            this[this.isOpen ? "close" : "open"](t)
        },
        _setSelection: function () {
            var t;
            this.range && (window.getSelection ? (t = window.getSelection(), t.removeAllRanges(), t.addRange(this.range)) : this.range.select(), this.button.focus())
        },
        _documentClick: {
            mousedown: function (e) {
                this.isOpen && (t(e.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(e))
            }
        },
        _buttonEvents: {
            mousedown: function () {
                var t;
                window.getSelection ? (t = window.getSelection(), t.rangeCount && (this.range = t.getRangeAt(0))) : this.range = document.selection.createRange()
            }, click: function (t) {
                this._setSelection(), this._toggle(t)
            }, keydown: function (e) {
                var i = !0;
                switch (e.keyCode) {
                    case t.ui.keyCode.TAB:
                    case t.ui.keyCode.ESCAPE:
                        this.close(e), i = !1;
                        break;
                    case t.ui.keyCode.ENTER:
                        this.isOpen && this._selectFocusedItem(e);
                        break;
                    case t.ui.keyCode.UP:
                        e.altKey ? this._toggle(e) : this._move("prev", e);
                        break;
                    case t.ui.keyCode.DOWN:
                        e.altKey ? this._toggle(e) : this._move("next", e);
                        break;
                    case t.ui.keyCode.SPACE:
                        this.isOpen ? this._selectFocusedItem(e) : this._toggle(e);
                        break;
                    case t.ui.keyCode.LEFT:
                        this._move("prev", e);
                        break;
                    case t.ui.keyCode.RIGHT:
                        this._move("next", e);
                        break;
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.PAGE_UP:
                        this._move("first", e);
                        break;
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_DOWN:
                        this._move("last", e);
                        break;
                    default:
                        this.menu.trigger(e), i = !1
                }
                i && e.preventDefault()
            }
        },
        _selectFocusedItem: function (t) {
            var e = this.menuItems.eq(this.focusIndex);
            e.hasClass("ui-state-disabled") || this._select(e.data("ui-selectmenu-item"), t)
        },
        _select: function (t, e) {
            var i = this.element[0].selectedIndex;
            this.element[0].selectedIndex = t.index, this._setText(this.buttonText, t.label), this._setAria(t), this._trigger("select", e, {item: t}), t.index !== i && this._trigger("change", e, {item: t}), this.close(e)
        },
        _setAria: function (t) {
            var e = this.menuItems.eq(t.index).attr("id");
            this.button.attr({
                "aria-labelledby": e,
                "aria-activedescendant": e
            }), this.menu.attr("aria-activedescendant", e)
        },
        _setOption: function (t, e) {
            "icons" === t && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button), this._super(t, e), "appendTo" === t && this.menuWrap.appendTo(this._appendTo()), "disabled" === t && (this.menuInstance.option("disabled", e), this.button.toggleClass("ui-state-disabled", e).attr("aria-disabled", e), this.element.prop("disabled", e), e ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0)), "width" === t && this._resizeButton()
        },
        _appendTo: function () {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },
        _toggleAttr: function () {
            this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen), this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen), this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function () {
            var t = this.options.width;
            t || (t = this.element.show().outerWidth(), this.element.hide()), this.button.outerWidth(t)
        },
        _resizeMenu: function () {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function () {
            return {disabled: this.element.prop("disabled")}
        },
        _parseOptions: function (e) {
            var i = [];
            e.each(function (e, n) {
                var s = t(n), o = s.parent("optgroup");
                i.push({
                    element: s,
                    index: e,
                    value: s.val(),
                    label: s.text(),
                    optgroup: o.attr("label") || "",
                    disabled: o.prop("disabled") || s.prop("disabled")
                })
            }), this.items = i
        },
        _destroy: function () {
            this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.label.attr("for", this.ids.element)
        }
    }), t.widget("ui.slider", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function () {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },
        _refresh: function () {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function () {
            var e, i, n = this.options,
                s = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                o = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>", r = [];
            for (i = n.values && n.values.length || 1, s.length > i && (s.slice(i).remove(), s = s.slice(0, i)), e = s.length; i > e; e++) r.push(o);
            this.handles = s.add(t(r.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function (e) {
                t(this).data("ui-slider-handle-index", e)
            })
        },
        _createRange: function () {
            var e = this.options, i = "";
            e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = t("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === e.range || "max" === e.range ? " ui-slider-range-" + e.range : ""))) : (this.range && this.range.remove(), this.range = null)
        },
        _setupEvents: function () {
            this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
        },
        _destroy: function () {
            this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },
        _mouseCapture: function (e) {
            var i, n, s, o, r, a, l, h, u = this, c = this.options;
            return c.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), i = {
                x: e.pageX,
                y: e.pageY
            }, n = this._normValueFromMouse(i), s = this._valueMax() - this._valueMin() + 1, this.handles.each(function (e) {
                var i = Math.abs(n - u.values(e));
                (s > i || s === i && (e === u._lastChangedValue || u.values(e) === c.min)) && (s = i, o = t(this), r = e)
            }), a = this._start(e, r), a === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = r, o.addClass("ui-state-active").focus(), l = o.offset(), h = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = h ? {
                left: 0,
                top: 0
            } : {
                left: e.pageX - l.left - o.width() / 2,
                top: e.pageY - l.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
            }, this.handles.hasClass("ui-state-hover") || this._slide(e, r, n), this._animateOff = !0, !0))
        },
        _mouseStart: function () {
            return !0
        },
        _mouseDrag: function (t) {
            var e = {x: t.pageX, y: t.pageY}, i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i), !1
        },
        _mouseStop: function (t) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function () {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function (t) {
            var e, i, n, s, o;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), n = i / e, n > 1 && (n = 1), 0 > n && (n = 0), "vertical" === this.orientation && (n = 1 - n), s = this._valueMax() - this._valueMin(), o = this._valueMin() + n * s, this._trimAlignValue(o)
        },
        _start: function (t, e) {
            var i = {handle: this.handles[e], value: this.value()};
            return this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("start", t, i)
        },
        _slide: function (t, e, i) {
            var n, s, o;
            this.options.values && this.options.values.length ? (n = this.values(e ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === e && i > n || 1 === e && n > i) && (i = n), i !== this.values(e) && (s = this.values(), s[e] = i, o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i,
                values: s
            }), n = this.values(e ? 0 : 1), o !== !1 && this.values(e, i))) : i !== this.value() && (o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i
            }), o !== !1 && this.value(i))
        },
        _stop: function (t, e) {
            var i = {handle: this.handles[e], value: this.value()};
            this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("stop", t, i)
        },
        _change: function (t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {handle: this.handles[e], value: this.value()};
                this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._lastChangedValue = e, this._trigger("change", t, i)
            }
        },
        value: function (t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), void this._change(null, 0)) : this._value()
        },
        values: function (e, i) {
            var n, s, o;
            if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), void this._change(null, e);
            if (!arguments.length) return this._values();
            if (!t.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(e) : this.value();
            for (n = this.options.values, s = arguments[0], o = 0; o < n.length; o += 1) n[o] = this._trimAlignValue(s[o]), this._change(null, o);
            this._refreshValue()
        },
        _setOption: function (e, i) {
            var n, s = 0;
            switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (s = this.options.values.length), "disabled" === e && this.element.toggleClass("ui-state-disabled", !!i), this._super(e, i), e) {
                case"orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue(), this.handles.css("horizontal" === i ? "bottom" : "left", "");
                    break;
                case"value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case"values":
                    for (this._animateOff = !0, this._refreshValue(), n = 0; s > n; n += 1) this._change(null, n);
                    this._animateOff = !1;
                    break;
                case"step":
                case"min":
                case"max":
                    this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
                    break;
                case"range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _value: function () {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },
        _values: function (t) {
            var e, i, n;
            if (arguments.length) return e = this.options.values[t], e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(), n = 0; n < i.length; n += 1) i[n] = this._trimAlignValue(i[n]);
                return i
            }
            return []
        },
        _trimAlignValue: function (t) {
            if (t <= this._valueMin()) return this._valueMin();
            if (t >= this._valueMax()) return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1, i = (t - this._valueMin()) % e, n = t - i;
            return 2 * Math.abs(i) >= e && (n += i > 0 ? e : -e), parseFloat(n.toFixed(5))
        },
        _calculateNewMax: function () {
            var t = this.options.max, e = this._valueMin(), i = this.options.step,
                n = Math.floor(+(t - e).toFixed(this._precision()) / i) * i;
            t = n + e, this.max = parseFloat(t.toFixed(this._precision()))
        },
        _precision: function () {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function (t) {
            var e = t.toString(), i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _valueMin: function () {
            return this.options.min
        },
        _valueMax: function () {
            return this.max
        },
        _refreshValue: function () {
            var e, i, n, s, o, r = this.options.range, a = this.options, l = this,
                h = this._animateOff ? !1 : a.animate, u = {};
            this.options.values && this.options.values.length ? this.handles.each(function (n) {
                i = (l.values(n) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, u["horizontal" === l.orientation ? "left" : "bottom"] = i + "%", t(this).stop(1, 1)[h ? "animate" : "css"](u, a.animate), l.options.range === !0 && ("horizontal" === l.orientation ? (0 === n && l.range.stop(1, 1)[h ? "animate" : "css"]({left: i + "%"}, a.animate), 1 === n && l.range[h ? "animate" : "css"]({width: i - e + "%"}, {
                    queue: !1,
                    duration: a.animate
                })) : (0 === n && l.range.stop(1, 1)[h ? "animate" : "css"]({bottom: i + "%"}, a.animate), 1 === n && l.range[h ? "animate" : "css"]({height: i - e + "%"}, {
                    queue: !1,
                    duration: a.animate
                }))), e = i
            }) : (n = this.value(), s = this._valueMin(), o = this._valueMax(), i = o !== s ? (n - s) / (o - s) * 100 : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[h ? "animate" : "css"](u, a.animate), "min" === r && "horizontal" === this.orientation && this.range.stop(1, 1)[h ? "animate" : "css"]({width: i + "%"}, a.animate), "max" === r && "horizontal" === this.orientation && this.range[h ? "animate" : "css"]({width: 100 - i + "%"}, {
                queue: !1,
                duration: a.animate
            }), "min" === r && "vertical" === this.orientation && this.range.stop(1, 1)[h ? "animate" : "css"]({height: i + "%"}, a.animate), "max" === r && "vertical" === this.orientation && this.range[h ? "animate" : "css"]({height: 100 - i + "%"}, {
                queue: !1,
                duration: a.animate
            }))
        },
        _handleEvents: {
            keydown: function (e) {
                var i, n, s, o, r = t(e.target).data("ui-slider-handle-index");
                switch (e.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, t(e.target).addClass("ui-state-active"), i = this._start(e, r), i === !1)) return
                }
                switch (o = this.options.step, n = s = this.options.values && this.options.values.length ? this.values(r) : this.value(), e.keyCode) {
                    case t.ui.keyCode.HOME:
                        s = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        s = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        s = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        s = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (n === this._valueMax()) return;
                        s = this._trimAlignValue(n + o);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (n === this._valueMin()) return;
                        s = this._trimAlignValue(n - o)
                }
                this._slide(e, r, s)
            }, keyup: function (e) {
                var i = t(e.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), t(e.target).removeClass("ui-state-active"))
            }
        }
    }), t.widget("ui.sortable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function (t, e, i) {
            return t >= e && e + i > t
        },
        _isFloating: function (t) {
            return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
        },
        _create: function () {
            this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0
        },
        _setOption: function (t, e) {
            this._super(t, e), "handle" === t && this._setHandleClassName()
        },
        _setHandleClassName: function () {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"), t.each(this.items, function () {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
            })
        },
        _destroy: function () {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"), this._mouseDestroy();
            for (var t = this.items.length - 1; t >= 0; t--) this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function (e, i) {
            var n = null, s = !1, o = this;
            return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(e), t(e.target).parents().each(function () {
                return t.data(this, o.widgetName + "-item") === o ? (n = t(this), !1) : void 0
            }), t.data(e.target, o.widgetName + "-item") === o && (n = t(e.target)), n && (!this.options.handle || i || (t(this.options.handle, n).find("*").addBack().each(function () {
                this === e.target && (s = !0)
            }), s)) ? (this.currentItem = n, this._removeCurrentsFromItems(), !0) : !1)
        },
        _mouseStart: function (e, i, n) {
            var s, o, r = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, t.extend(this.offset, {
                    click: {left: e.pageX - this.offset.left, top: e.pageY - this.offset.top},
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, r.cursorAt && this._adjustOffsetFromHelper(r.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), r.containment && this._setContainment(), r.cursor && "auto" !== r.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", r.cursor), this.storedStylesheet = t("<style>*{ cursor: " + r.cursor + " !important; }</style>").appendTo(o)), r.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", r.opacity)), r.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", r.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !n) for (s = this.containers.length - 1; s >= 0; s--) this.containers[s]._trigger("activate", e, this._uiHash(this));
            return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !r.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(e), !0
        },
        _mouseDrag: function (e) {
            var i, n, s, o, r = this.options, a = !1;
            for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < r.scrollSensitivity ? this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop + r.scrollSpeed : e.pageY - this.overflowOffset.top < r.scrollSensitivity && (this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop - r.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < r.scrollSensitivity ? this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft + r.scrollSpeed : e.pageX - this.overflowOffset.left < r.scrollSensitivity && (this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft - r.scrollSpeed)) : (e.pageY - this.document.scrollTop() < r.scrollSensitivity ? a = this.document.scrollTop(this.document.scrollTop() - r.scrollSpeed) : this.window.height() - (e.pageY - this.document.scrollTop()) < r.scrollSensitivity && (a = this.document.scrollTop(this.document.scrollTop() + r.scrollSpeed)), e.pageX - this.document.scrollLeft() < r.scrollSensitivity ? a = this.document.scrollLeft(this.document.scrollLeft() - r.scrollSpeed) : this.window.width() - (e.pageX - this.document.scrollLeft()) < r.scrollSensitivity && (a = this.document.scrollLeft(this.document.scrollLeft() + r.scrollSpeed))), a !== !1 && t.ui.ddmanager && !r.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), i = this.items.length - 1; i >= 0; i--) if (n = this.items[i], s = n.item[0], o = this._intersectsWithPointer(n), o && n.instance === this.currentContainer && s !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== s && !t.contains(this.placeholder[0], s) && ("semi-dynamic" === this.options.type ? !t.contains(this.element[0], s) : !0)) {
                if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(n)) break;
                this._rearrange(e, n), this._trigger("change", e, this._uiHash());
                break
            }
            return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
        },
        _mouseStop: function (e, i) {
            if (e) {
                if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) {
                    var n = this, s = this.placeholder.offset(), o = this.options.axis, r = {};
                    o && "x" !== o || (r.left = s.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (r.top = s.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper).animate(r, parseInt(this.options.revert, 10) || 500, function () {
                        n._clear(e)
                    })
                } else this._clear(e, i);
                return !1
            }
        },
        cancel: function () {
            if (this.dragging) {
                this._mouseUp({target: null}), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }), this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)), this
        },
        serialize: function (e) {
            var i = this._getItemsAsjQuery(e && e.connected), n = [];
            return e = e || {}, t(i).each(function () {
                var i = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
                i && n.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2]))
            }), !n.length && e.key && n.push(e.key + "="), n.join("&")
        },
        toArray: function (e) {
            var i = this._getItemsAsjQuery(e && e.connected), n = [];
            return e = e || {}, i.each(function () {
                n.push(t(e.item || this).attr(e.attribute || "id") || "")
            }), n
        },
        _intersectsWith: function (t) {
            var e = this.positionAbs.left, i = e + this.helperProportions.width, n = this.positionAbs.top,
                s = n + this.helperProportions.height, o = t.left, r = o + t.width, a = t.top, l = a + t.height,
                h = this.offset.click.top, u = this.offset.click.left,
                c = "x" === this.options.axis || n + h > a && l > n + h,
                d = "y" === this.options.axis || e + u > o && r > e + u, f = c && d;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? f : o < e + this.helperProportions.width / 2 && i - this.helperProportions.width / 2 < r && a < n + this.helperProportions.height / 2 && s - this.helperProportions.height / 2 < l
        },
        _intersectsWithPointer: function (t) {
            var e = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height),
                i = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width),
                n = e && i, s = this._getDragVerticalDirection(), o = this._getDragHorizontalDirection();
            return n ? this.floating ? o && "right" === o || "down" === s ? 2 : 1 : s && ("down" === s ? 2 : 1) : !1
        },
        _intersectsWithSides: function (t) {
            var e = this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
                i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
                n = this._getDragVerticalDirection(), s = this._getDragHorizontalDirection();
            return this.floating && s ? "right" === s && i || "left" === s && !i : n && ("down" === n && e || "up" === n && !e)
        },
        _getDragVerticalDirection: function () {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (t > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function () {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (t > 0 ? "right" : "left")
        },
        refresh: function (t) {
            return this._refreshItems(t), this._setHandleClassName(), this.refreshPositions(), this
        },
        _connectWith: function () {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function (e) {
            function i() {
                a.push(this)
            }

            var n, s, o, r, a = [], l = [], h = this._connectWith();
            if (h && e) for (n = h.length - 1; n >= 0; n--) for (o = t(h[n], this.document[0]), s = o.length - 1; s >= 0; s--) r = t.data(o[s], this.widgetFullName), r && r !== this && !r.options.disabled && l.push([t.isFunction(r.options.items) ? r.options.items.call(r.element) : t(r.options.items, r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), r]);
            for (l.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), n = l.length - 1; n >= 0; n--) l[n][0].each(i);
            return t(a)
        },
        _removeCurrentsFromItems: function () {
            var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = t.grep(this.items, function (t) {
                for (var i = 0; i < e.length; i++) if (e[i] === t.item[0]) return !1;
                return !0
            })
        },
        _refreshItems: function (e) {
            this.items = [], this.containers = [this];
            var i, n, s, o, r, a, l, h, u = this.items,
                c = [[t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {item: this.currentItem}) : t(this.options.items, this.element), this]],
                d = this._connectWith();
            if (d && this.ready) for (i = d.length - 1; i >= 0; i--) for (s = t(d[i], this.document[0]), n = s.length - 1; n >= 0; n--) o = t.data(s[n], this.widgetFullName), o && o !== this && !o.options.disabled && (c.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {item: this.currentItem}) : t(o.options.items, o.element), o]), this.containers.push(o));
            for (i = c.length - 1; i >= 0; i--) for (r = c[i][1], a = c[i][0], n = 0, h = a.length; h > n; n++) l = t(a[n]), l.data(this.widgetName + "-item", r), u.push({
                item: l,
                instance: r,
                width: 0,
                height: 0,
                left: 0,
                top: 0
            })
        },
        refreshPositions: function (e) {
            this.floating = this.items.length ? "x" === this.options.axis || this._isFloating(this.items[0].item) : !1, this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, n, s, o;
            for (i = this.items.length - 1; i >= 0; i--) n = this.items[i], n.instance !== this.currentContainer && this.currentContainer && n.item[0] !== this.currentItem[0] || (s = this.options.toleranceElement ? t(this.options.toleranceElement, n.item) : n.item, e || (n.width = s.outerWidth(), n.height = s.outerHeight()), o = s.offset(), n.left = o.left, n.top = o.top);
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this); else for (i = this.containers.length - 1; i >= 0; i--) o = this.containers[i].element.offset(), this.containers[i].containerCache.left = o.left, this.containers[i].containerCache.top = o.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(), this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function (e) {
            e = e || this;
            var i, n = e.options;
            n.placeholder && n.placeholder.constructor !== String || (i = n.placeholder, n.placeholder = {
                element: function () {
                    var n = e.currentItem[0].nodeName.toLowerCase(),
                        s = t("<" + n + ">", e.document[0]).addClass(i || e.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tbody" === n ? e._createTrPlaceholder(e.currentItem.find("tr").eq(0), t("<tr>", e.document[0]).appendTo(s)) : "tr" === n ? e._createTrPlaceholder(e.currentItem, s) : "img" === n && s.attr("src", e.currentItem.attr("src")), i || s.css("visibility", "hidden"), s
                }, update: function (t, s) {
                    (!i || n.forcePlaceholderSize) && (s.height() || s.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), s.width() || s.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10)))
                }
            }), e.placeholder = t(n.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), n.placeholder.update(e, e.placeholder)
        },
        _createTrPlaceholder: function (e, i) {
            var n = this;
            e.children().each(function () {
                t("<td>&#160;</td>", n.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(i)
            })
        },
        _contactContainers: function (e) {
            var i, n, s, o, r, a, l, h, u, c, d = null, f = null;
            for (i = this.containers.length - 1; i >= 0; i--) if (!t.contains(this.currentItem[0], this.containers[i].element[0])) if (this._intersectsWith(this.containers[i].containerCache)) {
                if (d && t.contains(this.containers[i].element[0], d.element[0])) continue;
                d = this.containers[i], f = i
            } else this.containers[i].containerCache.over && (this.containers[i]._trigger("out", e, this._uiHash(this)), this.containers[i].containerCache.over = 0);
            if (d) if (1 === this.containers.length) this.containers[f].containerCache.over || (this.containers[f]._trigger("over", e, this._uiHash(this)), this.containers[f].containerCache.over = 1); else {
                for (s = 1e4, o = null, u = d.floating || this._isFloating(this.currentItem), r = u ? "left" : "top", a = u ? "width" : "height", c = u ? "clientX" : "clientY", n = this.items.length - 1; n >= 0; n--) t.contains(this.containers[f].element[0], this.items[n].item[0]) && this.items[n].item[0] !== this.currentItem[0] && (l = this.items[n].item.offset()[r], h = !1, e[c] - l > this.items[n][a] / 2 && (h = !0), Math.abs(e[c] - l) < s && (s = Math.abs(e[c] - l), o = this.items[n], this.direction = h ? "up" : "down"));
                if (!o && !this.options.dropOnEmpty) return;
                if (this.currentContainer === this.containers[f]) return void(this.currentContainer.containerCache.over || (this.containers[f]._trigger("over", e, this._uiHash()), this.currentContainer.containerCache.over = 1));
                o ? this._rearrange(e, o, null, !0) : this._rearrange(e, null, this.containers[f].element, !0), this._trigger("change", e, this._uiHash()), this.containers[f]._trigger("change", e, this._uiHash(this)), this.currentContainer = this.containers[f], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[f]._trigger("over", e, this._uiHash(this)), this.containers[f].containerCache.over = 1
            }
        },
        _createHelper: function (e) {
            var i = this.options,
                n = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            return n.parents("body").length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(n[0]), n[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }), (!n[0].style.width || i.forceHelperSize) && n.width(this.currentItem.width()), (!n[0].style.height || i.forceHelperSize) && n.height(this.currentItem.height()), n
        },
        _adjustOffsetFromHelper: function (e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function () {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function () {
            if ("relative" === this.cssPosition) {
                var t = this.currentItem.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {top: 0, left: 0}
        },
        _cacheMargins: function () {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function () {
            this.helperProportions = {width: this.helper.outerWidth(), height: this.helper.outerHeight()}
        },
        _setContainment: function () {
            var e, i, n, s = this.options;
            "parent" === s.containment && (s.containment = this.helper[0].parentNode), ("document" === s.containment || "window" === s.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === s.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === s.containment ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(s.containment) || (e = t(s.containment)[0], i = t(s.containment).offset(), n = "hidden" !== t(e).css("overflow"), this.containment = [i.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (n ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (n ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function (e, i) {
            i || (i = this.position);
            var n = "absolute" === e ? 1 : -1,
                s = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                o = /(html|body)/i.test(s[0].tagName);
            return {
                top: i.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : s.scrollTop()) * n,
                left: i.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : s.scrollLeft()) * n
            }
        },
        _generatePosition: function (e) {
            var i, n, s = this.options, o = e.pageX, r = e.pageY,
                a = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                l = /(html|body)/i.test(a[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (r = this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (r = this.containment[3] + this.offset.click.top)), s.grid && (i = this.originalPageY + Math.round((r - this.originalPageY) / s.grid[1]) * s.grid[1], r = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - s.grid[1] : i + s.grid[1] : i, n = this.originalPageX + Math.round((o - this.originalPageX) / s.grid[0]) * s.grid[0], o = this.containment ? n - this.offset.click.left >= this.containment[0] && n - this.offset.click.left <= this.containment[2] ? n : n - this.offset.click.left >= this.containment[0] ? n - s.grid[0] : n + s.grid[0] : n)), {
                top: r - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : l ? 0 : a.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : l ? 0 : a.scrollLeft())
            }
        },
        _rearrange: function (t, e, i, n) {
            i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
            var s = this.counter;
            this._delay(function () {
                s === this.counter && this.refreshPositions(!n)
            })
        },
        _clear: function (t, e) {
            function i(t, e, i) {
                return function (n) {
                    i._trigger(t, n, e._uiHash(e))
                }
            }

            this.reverting = !1;
            var n, s = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (n in this._storedCSS) ("auto" === this._storedCSS[n] || "static" === this._storedCSS[n]) && (this._storedCSS[n] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            for (this.fromOutside && !e && s.push(function (t) {
                this._trigger("receive", t, this._uiHash(this.fromOutside))
            }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || s.push(function (t) {
                this._trigger("update", t, this._uiHash())
            }), this !== this.currentContainer && (e || (s.push(function (t) {
                this._trigger("remove", t, this._uiHash())
            }), s.push(function (t) {
                return function (e) {
                    t._trigger("receive", e, this._uiHash(this))
                }
            }.call(this, this.currentContainer)), s.push(function (t) {
                return function (e) {
                    t._trigger("update", e, this._uiHash(this))
                }
            }.call(this, this.currentContainer)))), n = this.containers.length - 1; n >= 0; n--) e || s.push(i("deactivate", this, this.containers[n])), this.containers[n].containerCache.over && (s.push(i("out", this, this.containers[n])), this.containers[n].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !e) {
                for (n = 0; n < s.length; n++) s[n].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1, !this.cancelHelperRemoval
        },
        _trigger: function () {
            t.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function (e) {
            var i = e || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || t([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: e ? e.element : null
            }
        }
    }), t.widget("ui.spinner", {
        version: "1.11.4",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {down: "ui-icon-triangle-1-s", up: "ui-icon-triangle-1-n"},
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function () {
            this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                beforeunload: function () {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function () {
            var e = {}, i = this.element;
            return t.each(["min", "max", "step"], function (t, n) {
                var s = i.attr(n);
                void 0 !== s && s.length && (e[n] = s)
            }), e
        },
        _events: {
            keydown: function (t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            }, keyup: "_stop", focus: function () {
                this.previous = this.element.val()
            }, blur: function (t) {
                return this.cancelBlur ? void delete this.cancelBlur : (this._stop(), this._refresh(), void(this.previous !== this.element.val() && this._trigger("change", t)))
            }, mousewheel: function (t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t)) return !1;
                    this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function () {
                        this.spinning && this._stop(t)
                    }, 100), t.preventDefault()
                }
            }, "mousedown .ui-spinner-button": function (e) {
                function i() {
                    var t = this.element[0] === this.document[0].activeElement;
                    t || (this.element.focus(), this.previous = n, this._delay(function () {
                        this.previous = n
                    }))
                }

                var n;
                n = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), e.preventDefault(), i.call(this), this.cancelBlur = !0, this._delay(function () {
                    delete this.cancelBlur, i.call(this)
                }), this._start(e) !== !1 && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            }, "mouseup .ui-spinner-button": "_stop", "mouseenter .ui-spinner-button": function (e) {
                return t(e.currentTarget).hasClass("ui-state-active") ? this._start(e) === !1 ? !1 : void this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e) : void 0
            }, "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function () {
            var t = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"), this.buttons = t.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * t.height()) && t.height() > 0 && t.height(t.height()), this.options.disabled && this.disable()
        },
        _keydown: function (e) {
            var i = this.options, n = t.ui.keyCode;
            switch (e.keyCode) {
                case n.UP:
                    return this._repeat(null, 1, e), !0;
                case n.DOWN:
                    return this._repeat(null, -1, e), !0;
                case n.PAGE_UP:
                    return this._repeat(null, i.page, e), !0;
                case n.PAGE_DOWN:
                    return this._repeat(null, -i.page, e), !0
            }
            return !1
        },
        _uiSpinnerHtml: function () {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function () {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;</span></a>"
        },
        _start: function (t) {
            return this.spinning || this._trigger("start", t) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1
        },
        _repeat: function (t, e, i) {
            t = t || 500, clearTimeout(this.timer), this.timer = this._delay(function () {
                this._repeat(40, e, i)
            }, t), this._spin(e * this.options.step, i)
        },
        _spin: function (t, e) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1), i = this._adjustValue(i + t * this._increment(this.counter)), this.spinning && this._trigger("spin", e, {value: i}) === !1 || (this._value(i), this.counter++)
        },
        _increment: function (e) {
            var i = this.options.incremental;
            return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
        },
        _precision: function () {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function (t) {
            var e = t.toString(), i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _adjustValue: function (t) {
            var e, i, n = this.options;
            return e = null !== n.min ? n.min : 0, i = t - e, i = Math.round(i / n.step) * n.step, t = e + i, t = parseFloat(t.toFixed(this._precision())), null !== n.max && t > n.max ? n.max : null !== n.min && t < n.min ? n.min : t
        },
        _stop: function (t) {
            this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", t))
        },
        _setOption: function (t, e) {
            if ("culture" === t || "numberFormat" === t) {
                var i = this._parse(this.element.val());
                return this.options[t] = e, void this.element.val(this._format(i))
            }
            ("max" === t || "min" === t || "step" === t) && "string" == typeof e && (e = this._parse(e)), "icons" === t && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)), this._super(t, e), "disabled" === t && (this.widget().toggleClass("ui-state-disabled", !!e), this.element.prop("disabled", !!e), this.buttons.button(e ? "disable" : "enable"))
        },
        _setOptions: l(function (t) {
            this._super(t)
        }),
        _parse: function (t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t), "" === t || isNaN(t) ? null : t
        },
        _format: function (t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
        },
        _refresh: function () {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function () {
            var t = this.value();
            return null === t ? !1 : t === this._adjustValue(t)
        },
        _value: function (t, e) {
            var i;
            "" !== t && (i = this._parse(t), null !== i && (e || (i = this._adjustValue(i)), t = this._format(i))), this.element.val(t), this._refresh()
        },
        _destroy: function () {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element)
        },
        stepUp: l(function (t) {
            this._stepUp(t)
        }),
        _stepUp: function (t) {
            this._start() && (this._spin((t || 1) * this.options.step), this._stop())
        },
        stepDown: l(function (t) {
            this._stepDown(t)
        }),
        _stepDown: function (t) {
            this._start() && (this._spin((t || 1) * -this.options.step), this._stop())
        },
        pageUp: l(function (t) {
            this._stepUp((t || 1) * this.options.page)
        }),
        pageDown: l(function (t) {
            this._stepDown((t || 1) * this.options.page)
        }),
        value: function (t) {
            return arguments.length ? void l(this._value).call(this, t) : this._parse(this.element.val())
        },
        widget: function () {
            return this.uiSpinner
        }
    }), t.widget("ui.tabs", {
        version: "1.11.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: function () {
            var t = /#.*$/;
            return function (e) {
                var i, n;
                e = e.cloneNode(!1), i = e.href.replace(t, ""), n = location.href.replace(t, "");
                try {
                    i = decodeURIComponent(i)
                } catch (s) {
                }
                try {
                    n = decodeURIComponent(n)
                } catch (s) {
                }
                return e.hash.length > 1 && i === n
            }
        }(),
        _create: function () {
            var e = this, i = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function (t) {
                return e.tabs.index(t)
            }))).sort()), this.options.active !== !1 && this.anchors.length ? this.active = this._findActive(i.active) : this.active = t(), this._refresh(), this.active.length && this.load(i.active)
        },
        _initialActive: function () {
            var e = this.options.active, i = this.options.collapsible, n = location.hash.substring(1);
            return null === e && (n && this.tabs.each(function (i, s) {
                return t(s).attr("aria-controls") === n ? (e = i, !1) : void 0
            }), null === e && (e = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === e || -1 === e) && (e = this.tabs.length ? 0 : !1)), e !== !1 && (e = this.tabs.index(this.tabs.eq(e)), -1 === e && (e = i ? !1 : 0)), !i && e === !1 && this.anchors.length && (e = 0), e
        },
        _getCreateEventData: function () {
            return {tab: this.active, panel: this.active.length ? this._getPanelForTab(this.active) : t()}
        },
        _tabKeydown: function (e) {
            var i = t(this.document[0].activeElement).closest("li"), n = this.tabs.index(i), s = !0;
            if (!this._handlePageNav(e)) {
                switch (e.keyCode) {
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                        n++;
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.LEFT:
                        s = !1, n--;
                        break;
                    case t.ui.keyCode.END:
                        n = this.anchors.length - 1;
                        break;
                    case t.ui.keyCode.HOME:
                        n = 0;
                        break;
                    case t.ui.keyCode.SPACE:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(n);
                    case t.ui.keyCode.ENTER:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(n === this.options.active ? !1 : n);
                    default:
                        return
                }
                e.preventDefault(), clearTimeout(this.activating), n = this._focusNextTab(n, s), e.ctrlKey || e.metaKey || (i.attr("aria-selected", "false"), this.tabs.eq(n).attr("aria-selected", "true"), this.activating = this._delay(function () {
                    this.option("active", n)
                }, this.delay))
            }
        },
        _panelKeydown: function (e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.focus())
        },
        _handlePageNav: function (e) {
            return e.altKey && e.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : e.altKey && e.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0
        },
        _findNextTab: function (e, i) {
            function n() {
                return e > s && (e = 0), 0 > e && (e = s), e
            }

            for (var s = this.tabs.length - 1; -1 !== t.inArray(n(), this.options.disabled);) e = i ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function (t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t).focus(), t
        },
        _setOption: function (t, e) {
            return "active" === t ? void this._activate(e) : "disabled" === t ? void this._setupDisabled(e) : (this._super(t, e), "collapsible" === t && (this.element.toggleClass("ui-tabs-collapsible", e), e || this.options.active !== !1 || this._activate(0)), "event" === t && this._setupEvents(e), void("heightStyle" === t && this._setupHeightStyle(e)))
        },
        _sanitizeSelector: function (t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function () {
            var e = this.options, i = this.tablist.children(":has(a[href])");
            e.disabled = t.map(i.filter(".ui-state-disabled"), function (t) {
                return i.index(t)
            }), this._processTabs(), e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },
        _refresh: function () {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden": "true"}), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }), this._getPanelForTab(this.active).show().attr({"aria-hidden": "false"})) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function () {
            var e = this, i = this.tabs, n = this.anchors, s = this.panels;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function (e) {
                t(this).is(".ui-state-disabled") && e.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () {
                t(this).closest("li").is(".ui-state-disabled") && this.blur()
            }), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }), this.anchors = this.tabs.map(function () {
                return t("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }), this.panels = t(), this.anchors.each(function (i, n) {
                var s, o, r, a = t(n).uniqueId().attr("id"), l = t(n).closest("li"), h = l.attr("aria-controls");
                e._isLocal(n) ? (s = n.hash, r = s.substring(1), o = e.element.find(e._sanitizeSelector(s))) : (r = l.attr("aria-controls") || t({}).uniqueId()[0].id, s = "#" + r, o = e.element.find(s), o.length || (o = e._createPanel(r), o.insertAfter(e.panels[i - 1] || e.tablist)), o.attr("aria-live", "polite")), o.length && (e.panels = e.panels.add(o)), h && l.data("ui-tabs-aria-controls", h), l.attr({
                    "aria-controls": r,
                    "aria-labelledby": a
                }), o.attr("aria-labelledby", a)
            }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"), i && (this._off(i.not(this.tabs)), this._off(n.not(this.anchors)), this._off(s.not(this.panels)))
        },
        _getList: function () {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function (e) {
            return t("<div>").attr("id", e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function (e) {
            t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1);
            for (var i, n = 0; i = this.tabs[n]; n++) e === !0 || -1 !== t.inArray(n, e) ? t(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = e
        },
        _setupEvents: function (e) {
            var i = {};
            e && t.each(e.split(" "), function (t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, {
                click: function (t) {
                    t.preventDefault()
                }
            }), this._on(this.anchors, i), this._on(this.tabs, {keydown: "_tabKeydown"}), this._on(this.panels, {keydown: "_panelKeydown"}), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function (e) {
            var i, n = this.element.parent();
            "fill" === e ? (i = n.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () {
                var e = t(this), n = e.css("position");
                "absolute" !== n && "fixed" !== n && (i -= e.outerHeight(!0))
            }), this.element.children().not(this.panels).each(function () {
                i -= t(this).outerHeight(!0)
            }), this.panels.each(function () {
                t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function () {
                i = Math.max(i, t(this).height("").height())
            }).height(i))
        },
        _eventHandler: function (e) {
            var i = this.options, n = this.active, s = t(e.currentTarget), o = s.closest("li"), r = o[0] === n[0],
                a = r && i.collapsible, l = a ? t() : this._getPanelForTab(o),
                h = n.length ? this._getPanelForTab(n) : t(),
                u = {oldTab: n, oldPanel: h, newTab: a ? t() : o, newPanel: l};
            e.preventDefault(), o.hasClass("ui-state-disabled") || o.hasClass("ui-tabs-loading") || this.running || r && !i.collapsible || this._trigger("beforeActivate", e, u) === !1 || (i.active = a ? !1 : this.tabs.index(o), this.active = r ? t() : o, this.xhr && this.xhr.abort(), h.length || l.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), l.length && this.load(this.tabs.index(o), e), this._toggle(e, u))
        },
        _toggle: function (e, i) {
            function n() {
                o.running = !1, o._trigger("activate", e, i)
            }

            function s() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), r.length && o.options.show ? o._show(r, o.options.show, n) : (r.show(), n())
            }

            var o = this, r = i.newPanel, a = i.oldPanel;
            this.running = !0, a.length && this.options.hide ? this._hide(a, this.options.hide, function () {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), s()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), a.hide(), s()), a.attr("aria-hidden", "true"), i.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }), r.length && a.length ? i.oldTab.attr("tabIndex", -1) : r.length && this.tabs.filter(function () {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), r.attr("aria-hidden", "false"), i.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function (e) {
            var i, n = this._findActive(e);
            n[0] !== this.active[0] && (n.length || (n = this.active), i = n.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function (e) {
            return e === !1 ? t() : this.tabs.eq(e)
        },
        _getIndex: function (t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))), t
        },
        _destroy: function () {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tablist.unbind(this.eventNamespace), this.tabs.add(this.panels).each(function () {
                t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }), this.tabs.each(function () {
                var e = t(this), i = e.data("ui-tabs-aria-controls");
                i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls");
            }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function (e) {
            var i = this.options.disabled;
            i !== !1 && (void 0 === e ? i = !1 : (e = this._getIndex(e), i = t.isArray(i) ? t.map(i, function (t) {
                return t !== e ? t : null
            }) : t.map(this.tabs, function (t, i) {
                return i !== e ? i : null
            })), this._setupDisabled(i))
        },
        disable: function (e) {
            var i = this.options.disabled;
            if (i !== !0) {
                if (void 0 === e) i = !0; else {
                    if (e = this._getIndex(e), -1 !== t.inArray(e, i)) return;
                    i = t.isArray(i) ? t.merge([e], i).sort() : [e]
                }
                this._setupDisabled(i)
            }
        },
        load: function (e, i) {
            e = this._getIndex(e);
            var n = this, s = this.tabs.eq(e), o = s.find(".ui-tabs-anchor"), r = this._getPanelForTab(s),
                a = {tab: s, panel: r}, l = function (t, e) {
                    "abort" === e && n.panels.stop(!1, !0), s.removeClass("ui-tabs-loading"), r.removeAttr("aria-busy"), t === n.xhr && delete n.xhr
                };
            this._isLocal(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, i, a)), this.xhr && "canceled" !== this.xhr.statusText && (s.addClass("ui-tabs-loading"), r.attr("aria-busy", "true"), this.xhr.done(function (t, e, s) {
                setTimeout(function () {
                    r.html(t), n._trigger("load", i, a), l(s, e)
                }, 1)
            }).fail(function (t, e) {
                setTimeout(function () {
                    l(t, e)
                }, 1)
            })))
        },
        _ajaxSettings: function (e, i, n) {
            var s = this;
            return {
                url: e.attr("href"), beforeSend: function (e, o) {
                    return s._trigger("beforeLoad", i, t.extend({jqXHR: e, ajaxSettings: o}, n))
                }
            }
        },
        _getPanelForTab: function (e) {
            var i = t(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    }), t.widget("ui.tooltip", {
        version: "1.11.4", options: {
            content: function () {
                var e = t(this).attr("title") || "";
                return t("<a>").text(e).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {my: "left top+15", at: "left bottom", collision: "flipfit flip"},
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        }, _addDescribedBy: function (e, i) {
            var n = (e.attr("aria-describedby") || "").split(/\s+/);
            n.push(i), e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(n.join(" ")))
        }, _removeDescribedBy: function (e) {
            var i = e.data("ui-tooltip-id"), n = (e.attr("aria-describedby") || "").split(/\s+/), s = t.inArray(i, n);
            -1 !== s && n.splice(s, 1), e.removeData("ui-tooltip-id"), n = t.trim(n.join(" ")), n ? e.attr("aria-describedby", n) : e.removeAttr("aria-describedby")
        }, _create: function () {
            this._on({
                mouseover: "open",
                focusin: "open"
            }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable(), this.liveRegion = t("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
        }, _setOption: function (e, i) {
            var n = this;
            return "disabled" === e ? (this[i ? "_disable" : "_enable"](), void(this.options[e] = i)) : (this._super(e, i), void("content" === e && t.each(this.tooltips, function (t, e) {
                n._updateContent(e.element)
            })))
        }, _disable: function () {
            var e = this;
            t.each(this.tooltips, function (i, n) {
                var s = t.Event("blur");
                s.target = s.currentTarget = n.element[0], e.close(s, !0)
            }), this.element.find(this.options.items).addBack().each(function () {
                var e = t(this);
                e.is("[title]") && e.data("ui-tooltip-title", e.attr("title")).removeAttr("title")
            })
        }, _enable: function () {
            this.element.find(this.options.items).addBack().each(function () {
                var e = t(this);
                e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"))
            })
        }, open: function (e) {
            var i = this, n = t(e ? e.target : this.element).closest(this.options.items);
            n.length && !n.data("ui-tooltip-id") && (n.attr("title") && n.data("ui-tooltip-title", n.attr("title")), n.data("ui-tooltip-open", !0), e && "mouseover" === e.type && n.parents().each(function () {
                var e, n = t(this);
                n.data("ui-tooltip-open") && (e = t.Event("blur"), e.target = e.currentTarget = this, i.close(e, !0)), n.attr("title") && (n.uniqueId(), i.parents[this.id] = {
                    element: this,
                    title: n.attr("title")
                }, n.attr("title", ""))
            }), this._registerCloseHandlers(e, n), this._updateContent(n, e))
        }, _updateContent: function (t, e) {
            var i, n = this.options.content, s = this, o = e ? e.type : null;
            return "string" == typeof n ? this._open(e, t, n) : (i = n.call(t[0], function (i) {
                s._delay(function () {
                    t.data("ui-tooltip-open") && (e && (e.type = o), this._open(e, t, i))
                })
            }), void(i && this._open(e, t, i)))
        }, _open: function (e, i, n) {
            function s(t) {
                h.of = t, r.is(":hidden") || r.position(h)
            }

            var o, r, a, l, h = t.extend({}, this.options.position);
            if (n) {
                if (o = this._find(i)) return void o.tooltip.find(".ui-tooltip-content").html(n);
                i.is("[title]") && (e && "mouseover" === e.type ? i.attr("title", "") : i.removeAttr("title")), o = this._tooltip(i), r = o.tooltip, this._addDescribedBy(i, r.attr("id")), r.find(".ui-tooltip-content").html(n), this.liveRegion.children().hide(), n.clone ? (l = n.clone(), l.removeAttr("id").find("[id]").removeAttr("id")) : l = n, t("<div>").html(l).appendTo(this.liveRegion), this.options.track && e && /^mouse/.test(e.type) ? (this._on(this.document, {mousemove: s}), s(e)) : r.position(t.extend({of: i}, this.options.position)), r.hide(), this._show(r, this.options.show), this.options.show && this.options.show.delay && (a = this.delayedShow = setInterval(function () {
                    r.is(":visible") && (s(h.of), clearInterval(a))
                }, t.fx.interval)), this._trigger("open", e, {tooltip: r})
            }
        }, _registerCloseHandlers: function (e, i) {
            var n = {
                keyup: function (e) {
                    if (e.keyCode === t.ui.keyCode.ESCAPE) {
                        var n = t.Event(e);
                        n.currentTarget = i[0], this.close(n, !0)
                    }
                }
            };
            i[0] !== this.element[0] && (n.remove = function () {
                this._removeTooltip(this._find(i).tooltip)
            }), e && "mouseover" !== e.type || (n.mouseleave = "close"), e && "focusin" !== e.type || (n.focusout = "close"), this._on(!0, i, n)
        }, close: function (e) {
            var i, n = this, s = t(e ? e.currentTarget : this.element), o = this._find(s);
            return o ? (i = o.tooltip, void(o.closing || (clearInterval(this.delayedShow), s.data("ui-tooltip-title") && !s.attr("title") && s.attr("title", s.data("ui-tooltip-title")), this._removeDescribedBy(s), o.hiding = !0, i.stop(!0), this._hide(i, this.options.hide, function () {
                n._removeTooltip(t(this))
            }), s.removeData("ui-tooltip-open"), this._off(s, "mouseleave focusout keyup"), s[0] !== this.element[0] && this._off(s, "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, function (e, i) {
                t(i.element).attr("title", i.title), delete n.parents[e]
            }), o.closing = !0, this._trigger("close", e, {tooltip: i}), o.hiding || (o.closing = !1)))) : void s.removeData("ui-tooltip-open")
        }, _tooltip: function (e) {
            var i = t("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || "")),
                n = i.uniqueId().attr("id");
            return t("<div>").addClass("ui-tooltip-content").appendTo(i), i.appendTo(this.document[0].body), this.tooltips[n] = {
                element: e,
                tooltip: i
            }
        }, _find: function (t) {
            var e = t.data("ui-tooltip-id");
            return e ? this.tooltips[e] : null
        }, _removeTooltip: function (t) {
            t.remove(), delete this.tooltips[t.attr("id")]
        }, _destroy: function () {
            var e = this;
            t.each(this.tooltips, function (i, n) {
                var s = t.Event("blur"), o = n.element;
                s.target = s.currentTarget = o[0], e.close(s, !0), t("#" + i).remove(), o.data("ui-tooltip-title") && (o.attr("title") || o.attr("title", o.data("ui-tooltip-title")), o.removeData("ui-tooltip-title"))
            }), this.liveRegion.remove()
        }
    })
}), function (t, e, i, n) {
    "use strict";

    function s(e, i) {
        e || (i = i ? ": " + i : "", t.error("Fancytree assertion failed" + i))
    }

    function o(t, i) {
        var n, s, o = e.console ? e.console[t] : null;
        if (o) try {
            o.apply(e.console, i)
        } catch (r) {
            for (s = "", n = 0; n < i.length; n++) s += i[n];
            o(s)
        }
    }

    function r(t) {
        return !(!t.tree || t.statusNodeType === n)
    }

    function a(e, i, n, s) {
        var o, r, a, l = t.map(t.trim(e).split("."), function (t) {
            return parseInt(t, 10)
        }), h = t.map(Array.prototype.slice.call(arguments, 1), function (t) {
            return parseInt(t, 10)
        });
        for (o = 0; o < h.length; o++) if (r = l[o] || 0, a = h[o] || 0, r !== a) return r > a;
        return !0
    }

    function l(t, e, i, n, s) {
        var o = function () {
            var i = e[t], o = n[t], r = e.ext[s], a = function () {
                return i.apply(e, arguments)
            };
            return function () {
                var t = e._local, i = e._super;
                try {
                    return e._local = r, e._super = a, o.apply(e, arguments)
                } finally {
                    e._local = t, e._super = i
                }
            }
        }();
        return o
    }

    function h(e, i, n, s) {
        for (var o in n) "function" == typeof n[o] ? "function" == typeof e[o] ? e[o] = l(o, e, i, n, s) : "_" === o.charAt(0) ? e.ext[s][o] = l(o, e, i, n, s) : t.error("Could not override tree." + o + ". Use prefix '_' to create tree." + s + "._" + o) : "options" !== o && (e.ext[s][o] = n[o])
    }

    function u(e, i) {
        return e === n ? t.Deferred(function () {
            this.resolve()
        }).promise() : t.Deferred(function () {
            this.resolveWith(e, i)
        }).promise()
    }

    function c(e, i) {
        return e === n ? t.Deferred(function () {
            this.reject()
        }).promise() : t.Deferred(function () {
            this.rejectWith(e, i)
        }).promise()
    }

    function d(t, e) {
        return function () {
            t.resolveWith(e)
        }
    }

    function f(e) {
        var i = t.extend({}, e.data()), n = i.json;
        return delete i.fancytree, n && (delete i.json, i = t.extend(i, n)), i
    }

    function p(t) {
        return t = t.toLowerCase(), function (e) {
            return e.title.toLowerCase().indexOf(t) >= 0
        }
    }

    function g(t) {
        var e = new RegExp("^" + t, "i");
        return function (t) {
            return e.test(t.title)
        }
    }

    function m(e, i) {
        var n, o, r, a;
        for (this.parent = e, this.tree = e.tree, this.ul = null, this.li = null, this.statusNodeType = null, this._isLoading = !1, this._error = null, this.data = {}, n = 0, o = k.length; o > n; n++) r = k[n], this[r] = i[r];
        i.data && t.extend(this.data, i.data);
        for (r in i) C[r] || t.isFunction(i[r]) || D[r] || (this.data[r] = i[r]);
        null == this.key ? this.tree.options.defaultKey ? (this.key = this.tree.options.defaultKey(this), s(this.key, "defaultKey() must return a unique key")) : this.key = "_" + b._nextNodeKey++ : this.key = "" + this.key, i.active && (s(null === this.tree.activeNode, "only one active node allowed"), this.tree.activeNode = this), i.selected && (this.tree.lastSelectedNode = this), this.children = null, a = i.children, a && a.length && this._setChildren(a), this.tree._callHook("treeRegisterNode", this.tree, !0, this)
    }

    function v(e) {
        this.widget = e, this.$div = e.element, this.options = e.options, this.options && t.isFunction(this.options.lazyload) && (t.isFunction(this.options.lazyLoad) || (this.options.lazyLoad = function () {
            b.warn("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."), e.options.lazyload.apply(this, arguments)
        })), this.options && t.isFunction(this.options.loaderror) && t.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."), this.ext = {}, this.data = f(this.$div), this._id = t.ui.fancytree._nextId++, this._ns = ".fancytree-" + this._id, this.activeNode = null, this.focusNode = null, this._hasFocus = null, this.lastSelectedNode = null, this.systemFocusElement = null, this.lastQuicksearchTerm = "", this.lastQuicksearchTime = 0, this.statusClassPropName = "span", this.ariaPropName = "li", this.nodeContainerAttrName = "li", this.$div.find(">ul.fancytree-container").remove();
        var i, n = {tree: this};
        this.rootNode = new m(n, {
            title: "root",
            key: "root_" + this._id,
            children: null,
            expanded: !0
        }), this.rootNode.parent = null, i = t("<ul>", {"class": "ui-fancytree fancytree-container"}).appendTo(this.$div), this.$container = i, this.rootNode.ul = i[0], null == this.options.debugLevel && (this.options.debugLevel = b.debugLevel), this.$container.attr("tabindex", this.options.tabbable ? "0" : "-1"), this.options.aria && this.$container.attr("role", "tree").attr("aria-multiselectable", !0)
    }

    if (t.ui && t.ui.fancytree) return void t.ui.fancytree.warn("Fancytree: ignored duplicate include");
    s(t.ui, "Fancytree requires jQuery UI (http://jqueryui.com)");
    var y, b = null, w = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#x2F;"},
        _ = "active expanded focus folder hideCheckbox lazy selected unselectable".split(" "), x = {},
        k = "expanded extraClasses folder hideCheckbox key lazy refKey selected title tooltip unselectable".split(" "),
        C = {}, D = {active: !0, children: !0, data: !0, focus: !0};
    for (y = 0; y < _.length; y++) x[_[y]] = !0;
    for (y = 0; y < k.length; y++) C[k[y]] = !0;
    m.prototype = {
        _findDirectChild: function (t) {
            var e, i, n = this.children;
            if (n) if ("string" == typeof t) {
                for (e = 0, i = n.length; i > e; e++) if (n[e].key === t) return n[e]
            } else {
                if ("number" == typeof t) return this.children[t];
                if (t.parent === this) return t
            }
            return null
        }, _setChildren: function (t) {
            s(t && (!this.children || 0 === this.children.length), "only init supported"), this.children = [];
            for (var e = 0, i = t.length; i > e; e++) this.children.push(new m(this, t[e]))
        }, addChildren: function (e, i) {
            var n, o, r, a = null, l = [];
            for (t.isPlainObject(e) && (e = [e]), this.children || (this.children = []), n = 0, o = e.length; o > n; n++) l.push(new m(this, e[n]));
            return a = l[0], null == i ? this.children = this.children.concat(l) : (i = this._findDirectChild(i), r = t.inArray(i, this.children), s(r >= 0, "insertBefore must be an existing child"), this.children.splice.apply(this.children, [r, 0].concat(l))), (!this.parent || this.parent.ul || this.tr) && this.render(), 3 === this.tree.options.selectMode && this.fixSelection3FromEndNodes(), a
        }, addNode: function (t, e) {
            switch ((e === n || "over" === e) && (e = "child"), e) {
                case"after":
                    return this.getParent().addChildren(t, this.getNextSibling());
                case"before":
                    return this.getParent().addChildren(t, this);
                case"firstChild":
                    var i = this.children ? this.children[0] : null;
                    return this.addChildren(t, i);
                case"child":
                case"over":
                    return this.addChildren(t)
            }
            s(!1, "Invalid mode: " + e)
        }, appendSibling: function (t) {
            return this.addNode(t, "after")
        }, applyPatch: function (e) {
            if (null === e) return this.remove(), u(this);
            var i, n, s, o = {children: !0, expanded: !0, parent: !0};
            for (i in e) s = e[i], o[i] || t.isFunction(s) || (C[i] ? this[i] = s : this.data[i] = s);
            return e.hasOwnProperty("children") && (this.removeChildren(), e.children && this._setChildren(e.children)), this.isVisible() && (this.renderTitle(), this.renderStatus()), n = e.hasOwnProperty("expanded") ? this.setExpanded(e.expanded) : u(this)
        }, collapseSiblings: function () {
            return this.tree._callHook("nodeCollapseSiblings", this)
        }, copyTo: function (t, e, i) {
            return t.addNode(this.toDict(!0, i), e)
        }, countChildren: function (t) {
            var e, i, n, s = this.children;
            if (!s) return 0;
            if (n = s.length, t !== !1) for (e = 0, i = n; i > e; e++) n += s[e].countChildren();
            return n
        }, debug: function (t) {
            this.tree.options.debugLevel >= 2 && (Array.prototype.unshift.call(arguments, this.toString()), o("log", arguments))
        }, discard: function () {
            return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."), this.resetLazy()
        }, findAll: function (e) {
            e = t.isFunction(e) ? e : p(e);
            var i = [];
            return this.visit(function (t) {
                e(t) && i.push(t)
            }), i
        }, findFirst: function (e) {
            e = t.isFunction(e) ? e : p(e);
            var i = null;
            return this.visit(function (t) {
                return e(t) ? (i = t, !1) : void 0
            }), i
        }, _changeSelectStatusAttrs: function (t) {
            var e = !1;
            switch (t) {
                case!1:
                    e = this.selected || this.partsel, this.selected = !1, this.partsel = !1;
                    break;
                case!0:
                    e = !this.selected || !this.partsel, this.selected = !0, this.partsel = !0;
                    break;
                case n:
                    e = this.selected || !this.partsel, this.selected = !1, this.partsel = !0;
                    break;
                default:
                    s(!1, "invalid state: " + t)
            }
            return e && this.renderStatus(), e
        }, fixSelection3AfterClick: function () {
            var t = this.isSelected();
            this.visit(function (e) {
                e._changeSelectStatusAttrs(t)
            }), this.fixSelection3FromEndNodes()
        }, fixSelection3FromEndNodes: function () {
            function t(e) {
                var i, s, o, r, a, l, h, u = e.children;
                if (u && u.length) {
                    for (l = !0, h = !1, i = 0, s = u.length; s > i; i++) o = u[i], r = t(o), r !== !1 && (h = !0), r !== !0 && (l = !1);
                    a = l ? !0 : h ? n : !1
                } else a = !!e.selected;
                return e._changeSelectStatusAttrs(a), a
            }

            s(3 === this.tree.options.selectMode, "expected selectMode 3"), t(this), this.visitParents(function (t) {
                var e, i, s, o, r = t.children, a = !0, l = !1;
                for (e = 0, i = r.length; i > e; e++) s = r[e], (s.selected || s.partsel) && (l = !0), s.unselectable || s.selected || (a = !1);
                o = a ? !0 : l ? n : !1, t._changeSelectStatusAttrs(o)
            })
        }, fromDict: function (e) {
            for (var i in e) C[i] ? this[i] = e[i] : "data" === i ? t.extend(this.data, e.data) : t.isFunction(e[i]) || D[i] || (this.data[i] = e[i]);
            e.children && (this.removeChildren(), this.addChildren(e.children)), this.renderTitle()
        }, getChildren: function () {
            return this.hasChildren() === n ? n : this.children
        }, getFirstChild: function () {
            return this.children ? this.children[0] : null
        }, getIndex: function () {
            return t.inArray(this, this.parent.children)
        }, getIndexHier: function (e) {
            e = e || ".";
            var i = [];
            return t.each(this.getParentList(!1, !0), function (t, e) {
                i.push(e.getIndex() + 1)
            }), i.join(e)
        }, getKeyPath: function (t) {
            var e = [], i = this.tree.options.keyPathSeparator;
            return this.visitParents(function (t) {
                t.parent && e.unshift(t.key)
            }, !t), i + e.join(i)
        }, getLastChild: function () {
            return this.children ? this.children[this.children.length - 1] : null
        }, getLevel: function () {
            for (var t = 0, e = this.parent; e;) t++, e = e.parent;
            return t
        }, getNextSibling: function () {
            if (this.parent) {
                var t, e, i = this.parent.children;
                for (t = 0, e = i.length - 1; e > t; t++) if (i[t] === this) return i[t + 1]
            }
            return null
        }, getParent: function () {
            return this.parent
        }, getParentList: function (t, e) {
            for (var i = [], n = e ? this : this.parent; n;) (t || n.parent) && i.unshift(n), n = n.parent;
            return i
        }, getPrevSibling: function () {
            if (this.parent) {
                var t, e, i = this.parent.children;
                for (t = 1, e = i.length; e > t; t++) if (i[t] === this) return i[t - 1]
            }
            return null
        }, hasChildren: function () {
            return this.lazy ? null == this.children ? n : 0 === this.children.length ? !1 : 1 === this.children.length && this.children[0].isStatusNode() ? n : !0 : !(!this.children || !this.children.length)
        }, hasFocus: function () {
            return this.tree.hasFocus() && this.tree.focusNode === this
        }, info: function (t) {
            this.tree.options.debugLevel >= 1 && (Array.prototype.unshift.call(arguments, this.toString()), o("info", arguments))
        }, isActive: function () {
            return this.tree.activeNode === this
        }, isChildOf: function (t) {
            return this.parent && this.parent === t
        }, isDescendantOf: function (t) {
            if (!t || t.tree !== this.tree) return !1;
            for (var e = this.parent; e;) {
                if (e === t) return !0;
                e = e.parent
            }
            return !1
        }, isExpanded: function () {
            return !!this.expanded
        }, isFirstSibling: function () {
            var t = this.parent;
            return !t || t.children[0] === this
        }, isFolder: function () {
            return !!this.folder
        }, isLastSibling: function () {
            var t = this.parent;
            return !t || t.children[t.children.length - 1] === this
        }, isLazy: function () {
            return !!this.lazy
        }, isLoaded: function () {
            return !this.lazy || this.hasChildren() !== n
        }, isLoading: function () {
            return !!this._isLoading
        }, isRoot: function () {
            return this.isRootNode()
        }, isRootNode: function () {
            return this.tree.rootNode === this
        }, isSelected: function () {
            return !!this.selected
        }, isStatusNode: function () {
            return !!this.statusNodeType
        }, isTopLevel: function () {
            return this.tree.rootNode === this.parent
        }, isUndefined: function () {
            return this.hasChildren() === n
        }, isVisible: function () {
            var t, e, i = this.getParentList(!1, !1);
            for (t = 0, e = i.length; e > t; t++) if (!i[t].expanded) return !1;
            return !0
        }, lazyLoad: function (t) {
            return this.warn("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."), this.load(t)
        }, load: function (t) {
            var e, i, n = this;
            return s(this.isLazy(), "load() requires a lazy node"), t || this.isUndefined() ? (this.isLoaded() && this.resetLazy(), i = this.tree._triggerNodeEvent("lazyLoad", this), i === !1 ? u(this) : (s("boolean" != typeof i, "lazyLoad event must return source in data.result"), e = this.tree._callHook("nodeLoadChildren", this, i), this.expanded && e.always(function () {
                n.render()
            }), e)) : u(this)
        }, makeVisible: function (e) {
            var i, n = this, s = [], o = new t.Deferred, r = this.getParentList(!1, !1), a = r.length,
                l = !(e && e.noAnimation === !0), h = !(e && e.scrollIntoView === !1);
            for (i = a - 1; i >= 0; i--) s.push(r[i].setExpanded(!0, e));
            return t.when.apply(t, s).done(function () {
                h ? n.scrollIntoView(l).done(function () {
                    o.resolve()
                }) : o.resolve()
            }), o.promise()
        }, moveTo: function (e, i, o) {
            (i === n || "over" === i) && (i = "child");
            var r, a = this.parent, l = "child" === i ? e : e.parent;
            if (this !== e) {
                if (!this.parent) throw"Cannot move system root";
                if (l.isDescendantOf(this)) throw"Cannot move a node to its own descendant";
                if (1 === this.parent.children.length) {
                    if (this.parent === l) return;
                    this.parent.children = this.parent.lazy ? [] : null, this.parent.expanded = !1
                } else r = t.inArray(this, this.parent.children), s(r >= 0), this.parent.children.splice(r, 1);
                if (this.parent = l, l.hasChildren()) switch (i) {
                    case"child":
                        l.children.push(this);
                        break;
                    case"before":
                        r = t.inArray(e, l.children), s(r >= 0), l.children.splice(r, 0, this);
                        break;
                    case"after":
                        r = t.inArray(e, l.children), s(r >= 0), l.children.splice(r + 1, 0, this);
                        break;
                    default:
                        throw"Invalid mode " + i
                } else l.children = [this];
                o && e.visit(o, !0), this.tree !== e.tree && (this.warn("Cross-tree moveTo is experimantal!"), this.visit(function (t) {
                    t.tree = e.tree
                }, !0)), a.isDescendantOf(l) || a.render(), l.isDescendantOf(a) || l === a || l.render()
            }
        }, navigate: function (e, i) {
            function n(n) {
                if (n) {
                    try {
                        n.makeVisible()
                    } catch (s) {
                    }
                    return t(n.span).is(":visible") ? i === !1 ? n.setFocus() : n.setActive() : (n.debug("Navigate: skipping hidden node"), void n.navigate(e, i))
                }
            }

            var s, o, r = !0, a = t.ui.keyCode, l = null;
            switch (e) {
                case a.BACKSPACE:
                    this.parent && this.parent.parent && n(this.parent);
                    break;
                case a.LEFT:
                    this.expanded ? (this.setExpanded(!1), n(this)) : this.parent && this.parent.parent && n(this.parent);
                    break;
                case a.RIGHT:
                    this.expanded || !this.children && !this.lazy ? this.children && this.children.length && n(this.children[0]) : (this.setExpanded(), n(this));
                    break;
                case a.UP:
                    for (l = this.getPrevSibling(); l && !t(l.span).is(":visible");) l = l.getPrevSibling();
                    for (; l && l.expanded && l.children && l.children.length;) l = l.children[l.children.length - 1];
                    !l && this.parent && this.parent.parent && (l = this.parent), n(l);
                    break;
                case a.DOWN:
                    if (this.expanded && this.children && this.children.length) l = this.children[0]; else for (o = this.getParentList(!1, !0), s = o.length - 1; s >= 0; s--) {
                        for (l = o[s].getNextSibling(); l && !t(l.span).is(":visible");) l = l.getNextSibling();
                        if (l) break
                    }
                    n(l);
                    break;
                default:
                    r = !1
            }
        }, remove: function () {
            return this.parent.removeChild(this)
        }, removeChild: function (t) {
            return this.tree._callHook("nodeRemoveChild", this, t)
        }, removeChildren: function () {
            return this.tree._callHook("nodeRemoveChildren", this)
        }, render: function (t, e) {
            return this.tree._callHook("nodeRender", this, t, e)
        }, renderTitle: function () {
            return this.tree._callHook("nodeRenderTitle", this)
        }, renderStatus: function () {
            return this.tree._callHook("nodeRenderStatus", this)
        }, resetLazy: function () {
            this.removeChildren(), this.expanded = !1, this.lazy = !0, this.children = n, this.renderStatus()
        }, scheduleAction: function (t, e) {
            this.tree.timer && clearTimeout(this.tree.timer), this.tree.timer = null;
            var i = this;
            switch (t) {
                case"cancel":
                    break;
                case"expand":
                    this.tree.timer = setTimeout(function () {
                        i.tree.debug("setTimeout: trigger expand"), i.setExpanded(!0)
                    }, e);
                    break;
                case"activate":
                    this.tree.timer = setTimeout(function () {
                        i.tree.debug("setTimeout: trigger activate"), i.setActive(!0)
                    }, e);
                    break;
                default:
                    throw"Invalid mode " + t
            }
        }, scrollIntoView: function (o, a) {
            a !== n && r(a) && (this.warn("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead."), a = {topNode: a});
            var l, h, u, c, d = t.extend({
                    effects: o === !0 ? {duration: 200, queue: !1} : o,
                    scrollOfs: this.tree.options.scrollOfs,
                    scrollParent: this.tree.options.scrollParent || this.tree.$container,
                    topNode: null
                }, a), f = new t.Deferred, p = this, g = t(this.span).height(), m = t(d.scrollParent),
                v = d.scrollOfs.top || 0, y = d.scrollOfs.bottom || 0, b = m.height(), w = m.scrollTop(), _ = m,
                x = m[0] === e, k = d.topNode || null, C = null;
            return s(t(this.span).is(":visible"), "scrollIntoView node is invisible"), x ? (h = t(this.span).offset().top, l = k && k.span ? t(k.span).offset().top : 0, _ = t("html,body")) : (s(m[0] !== i && m[0] !== i.body, "scrollParent should be an simple element or `window`, not document or body."), c = m.offset().top, h = t(this.span).offset().top - c + w, l = k ? t(k.span).offset().top - c + w : 0, u = Math.max(0, m.innerHeight() - m[0].clientHeight), b -= u), w + v > h ? C = h - v : h + g > w + b - y && (C = h + g - b + y, k && (s(k.isRoot() || t(k.span).is(":visible"), "topNode must be visible"), C > l && (C = l - v))), null !== C ? d.effects ? (d.effects.complete = function () {
                f.resolveWith(p)
            }, _.stop(!0).animate({scrollTop: C}, d.effects)) : (_[0].scrollTop = C, f.resolveWith(this)) : f.resolveWith(this), f.promise()
        }, setActive: function (t, e) {
            return this.tree._callHook("nodeSetActive", this, t, e)
        }, setExpanded: function (t, e) {
            return this.tree._callHook("nodeSetExpanded", this, t, e)
        }, setFocus: function (t) {
            return this.tree._callHook("nodeSetFocus", this, t)
        }, setSelected: function (t) {
            return this.tree._callHook("nodeSetSelected", this, t)
        }, setStatus: function (t, e, i) {
            return this.tree._callHook("nodeSetStatus", this, t, e, i)
        }, setTitle: function (t) {
            this.title = t, this.renderTitle()
        }, sortChildren: function (t, e) {
            var i, n, s = this.children;
            if (s) {
                if (t = t || function (t, e) {
                        var i = t.title.toLowerCase(), n = e.title.toLowerCase();
                        return i === n ? 0 : i > n ? 1 : -1
                    }, s.sort(t), e) for (i = 0, n = s.length; n > i; i++) s[i].children && s[i].sortChildren(t, "$norender$");
                "$norender$" !== e && this.render()
            }
        }, toDict: function (e, i) {
            var n, s, o, r = {}, a = this;
            if (t.each(k, function (t, e) {
                    (a[e] || a[e] === !1) && (r[e] = a[e])
                }), t.isEmptyObject(this.data) || (r.data = t.extend({}, this.data), t.isEmptyObject(r.data) && delete r.data), i && i(r), e && this.hasChildren()) for (r.children = [], n = 0, s = this.children.length; s > n; n++) o = this.children[n], o.isStatusNode() || r.children.push(o.toDict(!0, i));
            return r
        }, toggleExpanded: function () {
            return this.tree._callHook("nodeToggleExpanded", this)
        }, toggleSelected: function () {
            return this.tree._callHook("nodeToggleSelected", this)
        }, toString: function () {
            return "<FancytreeNode(#" + this.key + ", '" + this.title + "')>"
        }, visit: function (t, e) {
            var i, n, s = !0, o = this.children;
            if (e === !0 && (s = t(this), s === !1 || "skip" === s)) return s;
            if (o) for (i = 0, n = o.length; n > i && (s = o[i].visit(t, !0), s !== !1); i++) ;
            return s
        }, visitAndLoad: function (e, i, n) {
            var s, o, r, a = this;
            return e && i === !0 && (o = e(a), o === !1 || "skip" === o) ? n ? o : u() : a.children || a.lazy ? (s = new t.Deferred, r = [], a.load().done(function () {
                for (var i = 0, n = a.children.length; n > i; i++) {
                    if (o = a.children[i].visitAndLoad(e, !0, !0), o === !1) {
                        s.reject();
                        break
                    }
                    "skip" !== o && r.push(o)
                }
                t.when.apply(this, r).then(function () {
                    s.resolve()
                })
            }), s.promise()) : u()
        }, visitParents: function (t, e) {
            if (e && t(this) === !1) return !1;
            for (var i = this.parent; i;) {
                if (t(i) === !1) return !1;
                i = i.parent
            }
            return !0
        }, warn: function (t) {
            Array.prototype.unshift.call(arguments, this.toString()), o("warn", arguments)
        }
    }, v.prototype = {
        _makeHookContext: function (e, i, s) {
            var o, r;
            return e.node !== n ? (i && e.originalEvent !== i && t.error("invalid args"), o = e) : e.tree ? (r = e.tree, o = {
                node: e,
                tree: r,
                widget: r.widget,
                options: r.widget.options,
                originalEvent: i
            }) : e.widget ? o = {
                node: null,
                tree: e,
                widget: e.widget,
                options: e.widget.options,
                originalEvent: i
            } : t.error("invalid args"), s && t.extend(o, s), o
        }, _callHook: function (e, i, n) {
            var s = this._makeHookContext(i), o = this[e], r = Array.prototype.slice.call(arguments, 2);
            return t.isFunction(o) || t.error("_callHook('" + e + "') is not a function"), r.unshift(s), o.apply(this, r)
        }, _requireExtension: function (e, i, n, o) {
            n = !!n;
            var r = this._local.name, a = this.options.extensions, l = t.inArray(e, a) < t.inArray(r, a),
                h = i && null == this.ext[e], u = !h && null != n && n !== l;
            return s(r && r !== e), h || u ? (o || (h || i ? (o = "'" + r + "' extension requires '" + e + "'", u && (o += " to be registered " + (n ? "before" : "after") + " itself")) : o = "If used together, `" + e + "` must be registered " + (n ? "before" : "after") + " `" + r + "`"), t.error(o), !1) : !0
        }, activateKey: function (t) {
            var e = this.getNodeByKey(t);
            return e ? e.setActive() : this.activeNode && this.activeNode.setActive(!1), e
        }, applyPatch: function (e) {
            var i, n, o, r, a, l, h = e.length, u = [];
            for (n = 0; h > n; n++) o = e[n], s(2 === o.length, "patchList must be an array of length-2-arrays"), r = o[0], a = o[1], l = null === r ? this.rootNode : this.getNodeByKey(r), l ? (i = new t.Deferred, u.push(i), l.applyPatch(a).always(d(i, l))) : this.warn("could not find node with key '" + r + "'");
            return t.when.apply(t, u).promise()
        }, count: function () {
            return this.rootNode.countChildren()
        }, debug: function (t) {
            this.options.debugLevel >= 2 && (Array.prototype.unshift.call(arguments, this.toString()), o("log", arguments))
        }, findNextNode: function (e, i, n) {
            var s = null, o = i.parent.children, r = null, a = function (t, e, i) {
                var n, s, o = t.children, r = o.length, l = o[e];
                if (l && i(l) === !1) return !1;
                if (l && l.children && l.expanded && a(l, 0, i) === !1) return !1;
                for (n = e + 1; r > n; n++) if (a(t, n, i) === !1) return !1;
                return s = t.parent, s ? a(s, s.children.indexOf(t) + 1, i) : a(t, 0, i)
            };
            return e = "string" == typeof e ? g(e) : e, i = i || this.getFirstChild(), a(i.parent, o.indexOf(i), function (n) {
                return n === s ? !1 : (s = s || n, t(n.span).is(":visible") ? e(n) && (r = n, r !== i) ? !1 : void 0 : void n.debug("quicksearch: skipping hidden node"))
            }), r
        }, generateFormElements: function (e, i) {
            var n, s = e !== !1 ? "ft_" + this._id + "[]" : e, o = i !== !1 ? "ft_" + this._id + "_active" : i,
                r = "fancytree_result_" + this._id, a = t("#" + r);
            a.length ? a.empty() : a = t("<div>", {id: r}).hide().insertAfter(this.$container), s && (n = this.getSelectedNodes(3 === this.options.selectMode), t.each(n, function (e, i) {
                a.append(t("<input>", {type: "checkbox", name: s, value: i.key, checked: !0}))
            })), o && this.activeNode && a.append(t("<input>", {
                type: "radio",
                name: o,
                value: this.activeNode.key,
                checked: !0
            }))
        }, getActiveNode: function () {
            return this.activeNode
        }, getFirstChild: function () {
            return this.rootNode.getFirstChild()
        }, getFocusNode: function (t) {
            return this.focusNode
        }, getNodeByKey: function (t, e) {
            var n, s;
            return !e && (n = i.getElementById(this.options.idPrefix + t)) ? n.ftnode ? n.ftnode : null : (e = e || this.rootNode, s = null, e.visit(function (e) {
                return e.key === t ? (s = e, !1) : void 0
            }, !0), s)
        }, getRootNode: function () {
            return this.rootNode
        }, getSelectedNodes: function (t) {
            var e = [];
            return this.rootNode.visit(function (i) {
                return i.selected && (e.push(i), t === !0) ? "skip" : void 0
            }), e
        }, hasFocus: function () {
            return !!this._hasFocus
        }, info: function (t) {
            this.options.debugLevel >= 1 && (Array.prototype.unshift.call(arguments, this.toString()), o("info", arguments))
        }, loadKeyPath: function (e, i, s) {
            function o(t, e, n) {
                i.call(v, e, "loading"), e.load().done(function () {
                    v.loadKeyPath.call(v, c[t], i, e).always(d(n, v))
                }).fail(function (s) {
                    v.warn("loadKeyPath: error loading: " + t + " (parent: " + p + ")"), i.call(v, e, "error"), n.reject()
                })
            }

            var r, a, l, h, u, c, f, p, g, m = this.options.keyPathSeparator, v = this;
            for (t.isArray(e) || (e = [e]), c = {}, l = 0; l < e.length; l++) for (p = s || this.rootNode, h = e[l], h.charAt(0) === m && (h = h.substr(1)), g = h.split(m); g.length;) {
                if (u = g.shift(), f = p._findDirectChild(u), !f) {
                    this.warn("loadKeyPath: key not found: " + u + " (parent: " + p + ")"), i.call(this, u, "error");
                    break
                }
                if (0 === g.length) {
                    i.call(this, f, "ok");
                    break
                }
                if (f.lazy && f.hasChildren() === n) {
                    i.call(this, f, "loaded"), c[u] ? c[u].push(g.join(m)) : c[u] = [g.join(m)];
                    break
                }
                i.call(this, f, "loaded"), p = f
            }
            r = [];
            for (u in c) f = p._findDirectChild(u), a = new t.Deferred, r.push(a), o(u, f, a);
            return t.when.apply(t, r).promise()
        }, reactivate: function (t) {
            var e = this.activeNode;
            e && (this.activeNode = null, e.setActive(), t && e.setFocus())
        }, reload: function (t) {
            return this._callHook("treeClear", this), this._callHook("treeLoad", this, t)
        }, render: function (t, e) {
            return this.rootNode.render(t, e)
        }, setFocus: function (t) {
            return this._callHook("treeSetFocus", this, t)
        }, toDict: function (t, e) {
            var i = this.rootNode.toDict(!0, e);
            return t ? i : i.children
        }, toString: function () {
            return "<Fancytree(#" + this._id + ")>"
        }, _triggerNodeEvent: function (t, e, i, s) {
            var o = this._makeHookContext(e, i, s), r = this.widget._trigger(t, i, o);
            return r !== !1 && o.result !== n ? o.result : r
        }, _triggerTreeEvent: function (t, e, i) {
            var s = this._makeHookContext(this, e, i), o = this.widget._trigger(t, e, s);
            return o !== !1 && s.result !== n ? s.result : o
        }, visit: function (t) {
            return this.rootNode.visit(t, !1)
        }, warn: function (t) {
            Array.prototype.unshift.call(arguments, this.toString()), o("warn", arguments)
        }
    }, t.extend(v.prototype, {
        nodeClick: function (t) {
            var e, i, n = t.targetType, s = t.node;
            if ("expander" === n) this._callHook("nodeToggleExpanded", t); else if ("checkbox" === n) this._callHook("nodeToggleSelected", t), t.options.focusOnSelect && this._callHook("nodeSetFocus", t, !0); else {
                if (i = !1, e = !0, s.folder) switch (t.options.clickFolderMode) {
                    case 2:
                        i = !0, e = !1;
                        break;
                    case 3:
                        e = !0, i = !0
                }
                e && (this.nodeSetFocus(t), this._callHook("nodeSetActive", t, !0)), i && this._callHook("nodeToggleExpanded", t)
            }
        }, nodeCollapseSiblings: function (t, e) {
            var i, n, s, o = t.node;
            if (o.parent) for (i = o.parent.children, n = 0, s = i.length; s > n; n++) i[n] !== o && i[n].expanded && this._callHook("nodeSetExpanded", i[n], !1, e)
        }, nodeDblclick: function (t) {
            "title" === t.targetType && 4 === t.options.clickFolderMode && this._callHook("nodeToggleExpanded", t), "title" === t.targetType && t.originalEvent.preventDefault()
        }, nodeKeydown: function (e) {
            var i, n, s, o = e.originalEvent, r = e.node, a = e.tree, l = e.options, h = o.which,
                u = String.fromCharCode(h), c = !(o.altKey || o.ctrlKey || o.metaKey || o.shiftKey), d = t(o.target),
                f = !0, p = !(o.ctrlKey || !l.autoActivate), g = t.ui.keyCode;
            if (r || (this.getFirstChild().setFocus(), r = e.node = this.focusNode, r.debug("Keydown force focus on first node")), l.quicksearch && c && /\w/.test(u) && !d.is(":input:enabled")) return n = (new Date).getTime(), n - a.lastQuicksearchTime > 500 && (a.lastQuicksearchTerm = ""), a.lastQuicksearchTime = n, a.lastQuicksearchTerm += u, i = a.findNextNode(a.lastQuicksearchTerm, a.getActiveNode()), i && i.setActive(), void o.preventDefault();
            switch (h) {
                case g.NUMPAD_ADD:
                case 187:
                    a.nodeSetExpanded(e, !0);
                    break;
                case g.NUMPAD_SUBTRACT:
                case 189:
                    a.nodeSetExpanded(e, !1);
                    break;
                case g.SPACE:
                    l.checkbox ? a.nodeToggleSelected(e) : a.nodeSetActive(e, !0);
                    break;
                case g.ENTER:
                    a.nodeSetActive(e, !0);
                    break;
                case g.BACKSPACE:
                case g.LEFT:
                case g.RIGHT:
                case g.UP:
                case g.DOWN:
                    s = r.navigate(o.which, p);
                    break;
                default:
                    f = !1
            }
            f && o.preventDefault()
        }, nodeLoadChildren: function (e, i) {
            var n, o, r, a = e.tree, l = e.node;
            return t.isFunction(i) && (i = i()), i.url && (n = t.extend({}, e.options.ajax, i), n.debugDelay ? (o = n.debugDelay, t.isArray(o) && (o = o[0] + Math.random() * (o[1] - o[0])), l.debug("nodeLoadChildren waiting debug delay " + Math.round(o) + "ms"), n.debugDelay = !1, r = t.Deferred(function (e) {
                setTimeout(function () {
                    t.ajax(n).done(function () {
                        e.resolveWith(this, arguments);
                    }).fail(function () {
                        e.rejectWith(this, arguments)
                    })
                }, o)
            })) : r = t.ajax(n), i = new t.Deferred, r.done(function (n, s, o) {
                var r, h;
                if ("string" == typeof n && t.error("Ajax request returned a string (did you get the JSON dataType wrong?)."), e.options.postProcess) {
                    if (h = a._triggerNodeEvent("postProcess", e, e.originalEvent, {
                            response: n,
                            error: null,
                            dataType: this.dataType
                        }), h.error) return r = t.isPlainObject(h.error) ? h.error : {message: h.error}, r = a._makeHookContext(l, null, r), void i.rejectWith(this, [r]);
                    n = t.isArray(h) ? h : n
                } else n && n.hasOwnProperty("d") && e.options.enableAspx && (n = "string" == typeof n.d ? t.parseJSON(n.d) : n.d);
                i.resolveWith(this, [n])
            }).fail(function (t, e, n) {
                var s = a._makeHookContext(l, null, {
                    error: t,
                    args: Array.prototype.slice.call(arguments),
                    message: n,
                    details: t.status + ": " + n
                });
                i.rejectWith(this, [s])
            })), t.isFunction(i.promise) && (s(!l.isLoading()), a.nodeSetStatus(e, "loading"), i.done(function (t) {
                a.nodeSetStatus(e, "ok")
            }).fail(function (t) {
                var i;
                i = t.node && t.error && t.message ? t : a._makeHookContext(l, null, {
                    error: t,
                    args: Array.prototype.slice.call(arguments),
                    message: t ? t.message || t.toString() : ""
                }), a._triggerNodeEvent("loadError", i, null) !== !1 && a.nodeSetStatus(e, "error", i.message, i.details)
            })), t.when(i).done(function (e) {
                var i;
                t.isPlainObject(e) && (s(t.isArray(e.children), "source must contain (or be) an array of children"), s(l.isRoot(), "source may only be an object for root nodes"), i = e, e = e.children, delete i.children, t.extend(a.data, i)), s(t.isArray(e), "expected array of children"), l._setChildren(e), a._triggerNodeEvent("loadChildren", l)
            })
        }, nodeLoadKeyPath: function (t, e) {
        }, nodeRemoveChild: function (e, i) {
            var n, o = e.node, r = e.options, a = t.extend({}, e, {node: i}), l = o.children;
            return 1 === l.length ? (s(i === l[0]), this.nodeRemoveChildren(e)) : (this.activeNode && (i === this.activeNode || this.activeNode.isDescendantOf(i)) && this.activeNode.setActive(!1), this.focusNode && (i === this.focusNode || this.focusNode.isDescendantOf(i)) && (this.focusNode = null), this.nodeRemoveMarkup(a), this.nodeRemoveChildren(a), n = t.inArray(i, l), s(n >= 0), i.visit(function (t) {
                t.parent = null
            }, !0), this._callHook("treeRegisterNode", this, !1, i), r.removeNode && r.removeNode.call(e.tree, {type: "removeNode"}, a), void l.splice(n, 1))
        }, nodeRemoveChildMarkup: function (e) {
            var i = e.node;
            i.ul && (i.isRoot() ? t(i.ul).empty() : (t(i.ul).remove(), i.ul = null), i.visit(function (t) {
                t.li = t.ul = null
            }))
        }, nodeRemoveChildren: function (e) {
            var i, n = e.tree, s = e.node, o = s.children, r = e.options;
            o && (this.activeNode && this.activeNode.isDescendantOf(s) && this.activeNode.setActive(!1), this.focusNode && this.focusNode.isDescendantOf(s) && (this.focusNode = null), this.nodeRemoveChildMarkup(e), i = t.extend({}, e), s.visit(function (t) {
                t.parent = null, n._callHook("treeRegisterNode", n, !1, t), r.removeNode && (i.node = t, r.removeNode.call(e.tree, {type: "removeNode"}, i))
            }), s.lazy ? s.children = [] : s.children = null, this.nodeRenderStatus(e))
        }, nodeRemoveMarkup: function (e) {
            var i = e.node;
            i.li && (t(i.li).remove(), i.li = null), this.nodeRemoveChildMarkup(e)
        }, nodeRender: function (e, n, o, r, a) {
            var l, h, u, c, d, f, p, g = e.node, m = e.tree, v = e.options, y = v.aria, b = !1, w = g.parent, _ = !w,
                x = g.children;
            if (_ || w.ul) {
                if (s(_ || w.ul, "parent UL must exist"), _ || (g.li && (n || g.li.parentNode !== g.parent.ul) && (g.li.parentNode !== g.parent.ul && this.warn("unlink " + g + " (must be child of " + g.parent + ")"), this.nodeRemoveMarkup(e)), g.li ? this.nodeRenderStatus(e) : (b = !0, g.li = i.createElement("li"), g.li.ftnode = g, g.key && v.generateIds && (g.li.id = v.idPrefix + g.key), g.span = i.createElement("span"), g.span.className = "fancytree-node", y && t(g.span).attr("aria-labelledby", "ftal_" + g.key), g.li.appendChild(g.span), this.nodeRenderTitle(e), v.createNode && v.createNode.call(m, {type: "createNode"}, e)), v.renderNode && v.renderNode.call(m, {type: "renderNode"}, e)), x) {
                    if (_ || g.expanded || o === !0) {
                        for (g.ul || (g.ul = i.createElement("ul"), (r === !0 && !a || !g.expanded) && (g.ul.style.display = "none"), y && t(g.ul).attr("role", "group"), g.li ? g.li.appendChild(g.ul) : g.tree.$div.append(g.ul)), c = 0, d = x.length; d > c; c++) p = t.extend({}, e, {node: x[c]}), this.nodeRender(p, n, o, !1, !0);
                        for (l = g.ul.firstChild; l;) u = l.ftnode, u && u.parent !== g ? (g.debug("_fixParent: remove missing " + u, l), f = l.nextSibling, l.parentNode.removeChild(l), l = f) : l = l.nextSibling;
                        for (l = g.ul.firstChild, c = 0, d = x.length - 1; d > c; c++) h = x[c], u = l.ftnode, h !== u ? g.ul.insertBefore(h.li, u.li) : l = l.nextSibling
                    }
                } else g.ul && (this.warn("remove child markup for " + g), this.nodeRemoveChildMarkup(e));
                _ || b && w.ul.appendChild(g.li)
            }
        }, nodeRenderTitle: function (t, e) {
            var i, s, o, r, a, l, h = t.node, u = t.tree, c = t.options, d = c.aria, f = h.getLevel(), p = [],
                g = h.data.icon;
            e !== n && (h.title = e), h.span && (f < c.minExpandLevel ? (h.lazy || (h.expanded = !0), f > 1 && (d ? p.push("<span role='button' class='fancytree-expander fancytree-expander-fixed'></span>") : p.push("<span class='fancytree-expander fancytree-expander-fixed''></span>"))) : d ? p.push("<span role='button' class='fancytree-expander'></span>") : p.push("<span class='fancytree-expander'></span>"), c.checkbox && h.hideCheckbox !== !0 && !h.isStatusNode() && (d ? p.push("<span role='checkbox' class='fancytree-checkbox'></span>") : p.push("<span class='fancytree-checkbox'></span>")), r = d ? " role='img'" : "", (g === !0 || g !== !1 && c.icons !== !1) && (g && "string" == typeof g ? (g = "/" === g.charAt(0) ? g : (c.imagePath || "") + g, p.push("<img src='" + g + "' class='fancytree-icon' alt='' />")) : (s = c.iconClass && c.iconClass.call(u, h, t) || h.data.iconclass || null, s ? p.push("<span " + r + " class='fancytree-custom-icon " + s + "'></span>") : p.push("<span " + r + " class='fancytree-icon'></span>"))), o = "", c.renderTitle && (o = c.renderTitle.call(u, {type: "renderTitle"}, t) || ""), o || (l = h.tooltip ? " title='" + b.escapeHtml(h.tooltip) + "'" : "", i = d ? " id='ftal_" + h.key + "'" : "", r = d ? " role='treeitem'" : "", a = c.titlesTabbable ? " tabindex='0'" : "", o = "<span " + r + " class='fancytree-title'" + i + l + a + ">" + h.title + "</span>"), p.push(o), h.span.innerHTML = p.join(""), this.nodeRenderStatus(t))
        }, nodeRenderStatus: function (e) {
            var i = e.node, n = e.tree, s = e.options, o = i.hasChildren(), r = i.isLastSibling(), a = s.aria,
                l = t(i.span).find(".fancytree-title"), h = s._classNames, u = [], c = i[n.statusClassPropName];
            c && (u.push(h.node), n.activeNode === i && u.push(h.active), n.focusNode === i ? (u.push(h.focused), a && l.attr("aria-activedescendant", !0)) : a && l.removeAttr("aria-activedescendant"), i.expanded ? (u.push(h.expanded), a && l.attr("aria-expanded", !0)) : a && l.removeAttr("aria-expanded"), i.folder && u.push(h.folder), o !== !1 && u.push(h.hasChildren), r && u.push(h.lastsib), i.lazy && null == i.children && u.push(h.lazy), i.partsel && u.push(h.partsel), i.unselectable && u.push(h.unselectable), i._isLoading && u.push(h.loading), i._error && u.push(h.error), i.selected ? (u.push(h.selected), a && l.attr("aria-selected", !0)) : a && l.attr("aria-selected", !1), i.extraClasses && u.push(i.extraClasses), o === !1 ? u.push(h.combinedExpanderPrefix + "n" + (r ? "l" : "")) : u.push(h.combinedExpanderPrefix + (i.expanded ? "e" : "c") + (i.lazy && null == i.children ? "d" : "") + (r ? "l" : "")), u.push(h.combinedIconPrefix + (i.expanded ? "e" : "c") + (i.folder ? "f" : "")), c.className = u.join(" "), i.li && (i.li.className = r ? h.lastsib : ""))
        }, nodeSetActive: function (e, i, n) {
            n = n || {};
            var o, r = e.node, a = e.tree, l = e.options, h = n.noEvents === !0, d = r === a.activeNode;
            return i = i !== !1, d === i ? u(r) : i && !h && this._triggerNodeEvent("beforeActivate", r, e.originalEvent) === !1 ? c(r, ["rejected"]) : void(i ? (a.activeNode && (s(a.activeNode !== r, "node was active (inconsistency)"), o = t.extend({}, e, {node: a.activeNode}), a.nodeSetActive(o, !1), s(null === a.activeNode, "deactivate was out of sync?")), l.activeVisible && r.makeVisible({scrollIntoView: !1}), a.activeNode = r, a.nodeRenderStatus(e), a.nodeSetFocus(e), h || a._triggerNodeEvent("activate", r, e.originalEvent)) : (s(a.activeNode === r, "node was not active (inconsistency)"), a.activeNode = null, this.nodeRenderStatus(e), h || e.tree._triggerNodeEvent("deactivate", r, e.originalEvent)))
        }, nodeSetExpanded: function (e, i, s) {
            s = s || {};
            var o, r, a, l, h, d, f = e.node, p = e.tree, g = e.options, m = s.noAnimation === !0,
                v = s.noEvents === !0;
            if (i = i !== !1, f.expanded && i || !f.expanded && !i) return u(f);
            if (i && !f.lazy && !f.hasChildren()) return u(f);
            if (!i && f.getLevel() < g.minExpandLevel) return c(f, ["locked"]);
            if (!v && this._triggerNodeEvent("beforeExpand", f, e.originalEvent) === !1) return c(f, ["rejected"]);
            if (m || f.isVisible() || (m = s.noAnimation = !0), r = new t.Deferred, i && !f.expanded && g.autoCollapse) {
                h = f.getParentList(!1, !0), d = g.autoCollapse;
                try {
                    for (g.autoCollapse = !1, a = 0, l = h.length; l > a; a++) this._callHook("nodeCollapseSiblings", h[a], s)
                } finally {
                    g.autoCollapse = d
                }
            }
            return r.done(function () {
                i && g.autoScroll && !m ? f.getLastChild().scrollIntoView(!0, {topNode: f}).always(function () {
                    v || e.tree._triggerNodeEvent(i ? "expand" : "collapse", e)
                }) : v || e.tree._triggerNodeEvent(i ? "expand" : "collapse", e)
            }), o = function (n) {
                var s, o, r, a;
                if (f.expanded = i, p._callHook("nodeRender", e, !1, !1, !0), f.ul) if (r = "none" !== f.ul.style.display, a = !!f.expanded, r === a) f.warn("nodeSetExpanded: UL.style.display already set"); else {
                    if (g.fx && !m) return s = g.fx.duration || 200, o = g.fx.easing, void t(f.ul).animate(g.fx, s, o, function () {
                        n()
                    });
                    f.ul.style.display = f.expanded || !parent ? "" : "none"
                }
                n()
            }, i && f.lazy && f.hasChildren() === n ? f.load().done(function () {
                r.notifyWith && r.notifyWith(f, ["loaded"]), o(function () {
                    r.resolveWith(f)
                })
            }).fail(function (t) {
                o(function () {
                    r.rejectWith(f, ["load failed (" + t + ")"])
                })
            }) : o(function () {
                r.resolveWith(f)
            }), r.promise()
        }, nodeSetFocus: function (e, i) {
            var n, s = e.tree, o = e.node;
            if (i = i !== !1, s.focusNode) {
                if (s.focusNode === o && i) return;
                n = t.extend({}, e, {node: s.focusNode}), s.focusNode = null, this._triggerNodeEvent("blur", n), this._callHook("nodeRenderStatus", n)
            }
            i && (this.hasFocus() || (o.debug("nodeSetFocus: forcing container focus"), this._callHook("treeSetFocus", e, !0, !0)), o.makeVisible({scrollIntoView: !1}), s.focusNode = o, this._triggerNodeEvent("focus", e), e.options.autoScroll && o.scrollIntoView(), this._callHook("nodeRenderStatus", e))
        }, nodeSetSelected: function (t, e) {
            var i = t.node, n = t.tree, s = t.options;
            if (e = e !== !1, i.debug("nodeSetSelected(" + e + ")", t), !i.unselectable) {
                if (i.selected && e || !i.selected && !e) return !!i.selected;
                if (this._triggerNodeEvent("beforeSelect", i, t.originalEvent) === !1) return !!i.selected;
                e && 1 === s.selectMode ? n.lastSelectedNode && n.lastSelectedNode.setSelected(!1) : 3 === s.selectMode && (i.selected = e, i.fixSelection3AfterClick()), i.selected = e, this.nodeRenderStatus(t), n.lastSelectedNode = e ? i : null, n._triggerNodeEvent("select", t)
            }
        }, nodeSetStatus: function (e, i, n, s) {
            function o() {
                var t = a.children ? a.children[0] : null;
                if (t && t.isStatusNode()) {
                    try {
                        a.ul && (a.ul.removeChild(t.li), t.li = null)
                    } catch (e) {
                    }
                    1 === a.children.length ? a.children = [] : a.children.shift()
                }
            }

            function r(e, i) {
                var n = a.children ? a.children[0] : null;
                return n && n.isStatusNode() ? (t.extend(n, e), l._callHook("nodeRenderTitle", n)) : (e.key = "_statusNode", a._setChildren([e]), a.children[0].statusNodeType = i, l.render()), a.children[0]
            }

            var a = e.node, l = e.tree;
            switch (i) {
                case"ok":
                    o(), a._isLoading = !1, a._error = null, a.renderStatus();
                    break;
                case"loading":
                    a.parent || r({
                        title: l.options.strings.loading + (n ? " (" + n + ") " : ""),
                        tooltip: s,
                        extraClasses: "fancytree-statusnode-wait"
                    }, i), a._isLoading = !0, a._error = null, a.renderStatus();
                    break;
                case"error":
                    r({
                        title: l.options.strings.loadError + (n ? " (" + n + ") " : ""),
                        tooltip: s,
                        extraClasses: "fancytree-statusnode-error"
                    }, i), a._isLoading = !1, a._error = {message: n, details: s}, a.renderStatus();
                    break;
                default:
                    t.error("invalid node status " + i)
            }
        }, nodeToggleExpanded: function (t) {
            return this.nodeSetExpanded(t, !t.node.expanded)
        }, nodeToggleSelected: function (t) {
            return this.nodeSetSelected(t, !t.node.selected)
        }, treeClear: function (t) {
            var e = t.tree;
            e.activeNode = null, e.focusNode = null, e.$div.find(">ul.fancytree-container").empty(), e.rootNode.children = null
        }, treeCreate: function (t) {
        }, treeDestroy: function (t) {
        }, treeInit: function (t) {
            this.treeLoad(t)
        }, treeLoad: function (e, i) {
            var n, s, o, r = e.tree, a = e.widget.element, l = t.extend({}, e, {node: this.rootNode});
            if (r.rootNode.children && this.treeClear(e), i = i || this.options.source) "string" == typeof i && t.error("Not implemented"); else switch (n = a.data("type") || "html") {
                case"html":
                    s = a.find(">ul:first"), s.addClass("ui-fancytree-source ui-helper-hidden"), i = t.ui.fancytree.parseHtml(s), this.data = t.extend(this.data, f(s));
                    break;
                case"json":
                    i = t.parseJSON(a.text()), i.children && (i.title && (r.title = i.title), i = i.children);
                    break;
                default:
                    t.error("Invalid data-type: " + n)
            }
            return o = this.nodeLoadChildren(l, i).done(function () {
                r.render(), 3 === e.options.selectMode && r.rootNode.fixSelection3FromEndNodes(), r._triggerTreeEvent("init", null, {status: !0})
            }).fail(function () {
                r.render(), r._triggerTreeEvent("init", null, {status: !1})
            })
        }, treeRegisterNode: function (t, e, i) {
        }, treeSetFocus: function (t, e, i) {
            e = e !== !1, e !== this.hasFocus() && (this._hasFocus = e, this.$container.toggleClass("fancytree-treefocus", e), this._triggerTreeEvent(e ? "focusTree" : "blurTree"))
        }
    }), t.widget("ui.fancytree", {
        options: {
            activeVisible: !0,
            ajax: {type: "GET", cache: !1, dataType: "json"},
            aria: !1,
            autoActivate: !0,
            autoCollapse: !1,
            autoScroll: !1,
            checkbox: !1,
            clickFolderMode: 4,
            debugLevel: null,
            disabled: !1,
            enableAspx: !0,
            extensions: [],
            fx: {height: "toggle", duration: 200},
            generateIds: !1,
            icons: !0,
            idPrefix: "ft_",
            focusOnSelect: !1,
            keyboard: !0,
            keyPathSeparator: "/",
            minExpandLevel: 1,
            quicksearch: !1,
            scrollOfs: {top: 0, bottom: 0},
            scrollParent: null,
            selectMode: 2,
            strings: {loading: "Loading&#8230;", loadError: "Load error!"},
            tabbable: !0,
            titlesTabbable: !1,
            _classNames: {
                node: "fancytree-node",
                folder: "fancytree-folder",
                combinedExpanderPrefix: "fancytree-exp-",
                combinedIconPrefix: "fancytree-ico-",
                hasChildren: "fancytree-has-children",
                active: "fancytree-active",
                selected: "fancytree-selected",
                expanded: "fancytree-expanded",
                lazy: "fancytree-lazy",
                focused: "fancytree-focused",
                partsel: "fancytree-partsel",
                unselectable: "fancytree-unselectable",
                lastsib: "fancytree-lastsib",
                loading: "fancytree-loading",
                error: "fancytree-error"
            },
            lazyLoad: null,
            postProcess: null
        }, _create: function () {
            this.tree = new v(this), this.$source = this.source || "json" === this.element.data("type") ? this.element : this.element.find(">ul:first");
            var e, i, o, r = this.options.extensions, a = this.tree;
            for (o = 0; o < r.length; o++) i = r[o], e = t.ui.fancytree._extensions[i], e || t.error("Could not apply extension '" + i + "' (it is not registered, did you forget to include it?)"), this.tree.options[i] = t.extend(!0, {}, e.options, this.tree.options[i]), s(this.tree.ext[i] === n, "Extension name must not exist as Fancytree.ext attribute: '" + i + "'"), this.tree.ext[i] = {}, h(this.tree, a, e, i), a = e;
            this.tree._callHook("treeCreate", this.tree)
        }, _init: function () {
            this.tree._callHook("treeInit", this.tree), this._bind()
        }, _setOption: function (e, i) {
            var n = !0, s = !1;
            switch (e) {
                case"aria":
                case"checkbox":
                case"icons":
                case"minExpandLevel":
                case"tabbable":
                    this.tree._callHook("treeCreate", this.tree), s = !0;
                    break;
                case"source":
                    n = !1, this.tree._callHook("treeLoad", this.tree, i)
            }
            this.tree.debug("set option " + e + "=" + i + " <" + typeof i + ">"), n && t.Widget.prototype._setOption.apply(this, arguments), s && this.tree.render(!0, !1)
        }, destroy: function () {
            this._unbind(), this.tree._callHook("treeDestroy", this.tree), this.tree.$div.find(">ul.fancytree-container").remove(), this.$source && this.$source.removeClass("ui-helper-hidden"), t.Widget.prototype.destroy.call(this)
        }, _unbind: function () {
            var e = this.tree._ns;
            this.element.unbind(e), this.tree.$container.unbind(e), t(i).unbind(e)
        }, _bind: function () {
            var t = this, e = this.options, i = this.tree, n = i._ns;
            this._unbind(), i.$container.on("focusin" + n + " focusout" + n, function (t) {
                var e = b.getNode(t), n = "focusin" === t.type;
                e ? i._callHook("nodeSetFocus", e, n) : i._callHook("treeSetFocus", i, n)
            }).on("selectstart" + n, "span.fancytree-title", function (t) {
                t.preventDefault()
            }).on("keydown" + n, function (t) {
                if (e.disabled || e.keyboard === !1) return !0;
                var n, s = i.focusNode, o = i._makeHookContext(s || i, t), r = i.phase;
                try {
                    return i.phase = "userEvent", n = s ? i._triggerNodeEvent("keydown", s, t) : i._triggerTreeEvent("keydown", t), "preventNav" === n ? n = !0 : n !== !1 && (n = i._callHook("nodeKeydown", o)), n
                } finally {
                    i.phase = r
                }
            }).on("click" + n + " dblclick" + n, function (i) {
                if (e.disabled) return !0;
                var n, s = b.getEventTarget(i), o = s.node, r = t.tree, a = r.phase;
                if (!o) return !0;
                n = r._makeHookContext(o, i);
                try {
                    switch (r.phase = "userEvent", i.type) {
                        case"click":
                            return n.targetType = s.type, r._triggerNodeEvent("click", n, i) === !1 ? !1 : r._callHook("nodeClick", n);
                        case"dblclick":
                            return n.targetType = s.type, r._triggerNodeEvent("dblclick", n, i) === !1 ? !1 : r._callHook("nodeDblclick", n)
                    }
                } finally {
                    r.phase = a
                }
            })
        }, getActiveNode: function () {
            return this.tree.activeNode
        }, getNodeByKey: function (t) {
            return this.tree.getNodeByKey(t)
        }, getRootNode: function () {
            return this.tree.rootNode
        }, getTree: function () {
            return this.tree
        }
    }), b = t.ui.fancytree, t.extend(t.ui.fancytree, {
        version: "2.6.0",
        buildType: "production",
        debugLevel: 1,
        _nextId: 1,
        _nextNodeKey: 1,
        _extensions: {},
        _FancytreeClass: v,
        _FancytreeNodeClass: m,
        jquerySupports: {positionMyOfs: a(t.ui.version, 1, 9)},
        assert: function (t, e) {
            return s(t, e)
        },
        debounce: function (t, e, i, n) {
            var s;
            return 3 === arguments.length && "boolean" != typeof i && (n = i, i = !1), function () {
                var o = arguments;
                n = n || this, i && !s && e.apply(n, o), clearTimeout(s), s = setTimeout(function () {
                    i || e.apply(n, o), s = null
                }, t)
            }
        },
        debug: function (e) {
            t.ui.fancytree.debugLevel >= 2 && o("log", arguments)
        },
        error: function (t) {
            o("error", arguments)
        },
        escapeHtml: function (t) {
            return ("" + t).replace(/[&<>"'\/]/g, function (t) {
                return w[t]
            })
        },
        unescapeHtml: function (t) {
            var e = i.createElement("div");
            return e.innerHTML = t, 0 === e.childNodes.length ? "" : e.childNodes[0].nodeValue
        },
        getEventTargetType: function (t) {
            return this.getEventTarget(t).type
        },
        getEventTarget: function (e) {
            var i = e && e.target ? e.target.className : "", s = {node: this.getNode(e.target), type: n};
            return /\bfancytree-title\b/.test(i) ? s.type = "title" : /\bfancytree-expander\b/.test(i) ? s.type = s.node.hasChildren() === !1 ? "prefix" : "expander" : /\bfancytree-checkbox\b/.test(i) || /\bfancytree-radio\b/.test(i) ? s.type = "checkbox" : /\bfancytree-icon\b/.test(i) ? s.type = "icon" : /\bfancytree-node\b/.test(i) ? s.type = "title" : e && e.target && t(e.target).closest(".fancytree-title").length && (s.type = "title"), s
        },
        getNode: function (t) {
            if (t instanceof m) return t;
            for (t.selector !== n ? t = t[0] : t.originalEvent !== n && (t = t.target); t;) {
                if (t.ftnode) return t.ftnode;
                t = t.parentNode
            }
            return null
        },
        info: function (e) {
            t.ui.fancytree.debugLevel >= 1 && o("info", arguments)
        },
        parseHtml: function (e) {
            var i, s, o, r, a, l, h, u, c = e.find(">li"), d = [];
            return c.each(function () {
                var c, p = t(this), g = p.find(">span:first", this), m = g.length ? null : p.find(">a:first"),
                    v = {tooltip: null, data: {}};
                for (g.length ? v.title = g.html() : m && m.length ? (v.title = m.html(), v.data.href = m.attr("href"), v.data.target = m.attr("target"), v.tooltip = m.attr("title")) : (v.title = p.html(), r = v.title.search(/<ul/i), r >= 0 && (v.title = v.title.substring(0, r))), v.title = t.trim(v.title), s = 0, o = _.length; o > s; s++) v[_[s]] = n;
                for (h = this.className.split(" "), i = [], s = 0, o = h.length; o > s; s++) u = h[s], x[u] ? v[u] = !0 : i.push(u);
                if (v.extraClasses = i.join(" "), a = p.attr("title"), a && (v.tooltip = a), a = p.attr("id"), a && (v.key = a), c = f(p), c && !t.isEmptyObject(c)) {
                    for (s = 0, o = k.length; o > s; s++) a = k[s], l = c[a], null != l && (delete c[a], v[a] = l);
                    t.extend(v.data, c)
                }
                e = p.find(">ul:first"), e.length ? v.children = t.ui.fancytree.parseHtml(e) : v.children = v.lazy ? n : null, d.push(v)
            }), d
        },
        registerExtension: function (e) {
            s(null != e.name, "extensions must have a `name` property."), s(null != e.version, "extensions must have a `version` property."), t.ui.fancytree._extensions[e.name] = e
        },
        warn: function (t) {
            o("warn", arguments)
        }
    })
}(jQuery, window, document), function (t, e) {
    "use strict";
    t.ui.fancytree._FancytreeClass.prototype.countSelected = function (t) {
        var e = this;
        e.options;
        return e.getSelectedNodes(t).length
    }, t.ui.fancytree._FancytreeNodeClass.prototype.toUpper = function () {
        var t = this;
        return t.setTitle(t.title.toUpperCase())
    }, t.ui.fancytree.prototype.widgetMethod1 = function (t) {
        this.tree;
        return t
    }, t.ui.fancytree.registerExtension({
        name: "childcounter",
        version: "1.0.0",
        options: {deep: !0, hideZeros: !0, hideExpanded: !1},
        foo: 42,
        _appendCounter: function (t) {
        },
        treeInit: function (t) {
            t.options, t.options.childcounter;
            this._super(t), this.$container.addClass("fancytree-ext-childcounter")
        },
        treeDestroy: function (t) {
            this._super(t)
        },
        nodeRenderTitle: function (e, i) {
            var n = e.node, s = e.options.childcounter,
                o = null == n.data.childCounter ? n.countChildren(s.deep) : +n.data.childCounter;
            this._super(e, i), !o && s.hideZeros || n.isExpanded() && s.hideExpanded || t("span.fancytree-icon", n.span).append(t("<span class='fancytree-childcounter'/>").text(o))
        },
        nodeSetExpanded: function (t, e, i) {
            var n = t.tree;
            t.node;
            return this._super(t, e, i).always(function () {
                n.nodeRenderTitle(t)
            })
        }
    })
}(jQuery), function (t, e, i, n) {
    "use strict";

    function s(e, i) {
        e || (i = i ? ": " + i : "", t.error("Assertion failed" + i))
    }

    function o(t, e) {
        var i;
        for (i = t.length - 1; i >= 0; i--) if (t[i] === e) return t.splice(i, 1), !0;
        return !1
    }

    function r(t, e, i) {
        for (var n, s, o = 3 & t.length, r = t.length - o, a = i, l = 3432918353, h = 461845907, u = 0; r > u;) s = 255 & t.charCodeAt(u) | (255 & t.charCodeAt(++u)) << 8 | (255 & t.charCodeAt(++u)) << 16 | (255 & t.charCodeAt(++u)) << 24, ++u, s = (65535 & s) * l + (((s >>> 16) * l & 65535) << 16) & 4294967295, s = s << 15 | s >>> 17, s = (65535 & s) * h + (((s >>> 16) * h & 65535) << 16) & 4294967295, a ^= s, a = a << 13 | a >>> 19, n = 5 * (65535 & a) + ((5 * (a >>> 16) & 65535) << 16) & 4294967295, a = (65535 & n) + 27492 + (((n >>> 16) + 58964 & 65535) << 16);
        switch (s = 0, o) {
            case 3:
                s ^= (255 & t.charCodeAt(u + 2)) << 16;
            case 2:
                s ^= (255 & t.charCodeAt(u + 1)) << 8;
            case 1:
                s ^= 255 & t.charCodeAt(u), s = (65535 & s) * l + (((s >>> 16) * l & 65535) << 16) & 4294967295, s = s << 15 | s >>> 17, s = (65535 & s) * h + (((s >>> 16) * h & 65535) << 16) & 4294967295, a ^= s
        }
        return a ^= t.length, a ^= a >>> 16, a = 2246822507 * (65535 & a) + ((2246822507 * (a >>> 16) & 65535) << 16) & 4294967295, a ^= a >>> 13, a = 3266489909 * (65535 & a) + ((3266489909 * (a >>> 16) & 65535) << 16) & 4294967295, a ^= a >>> 16, e ? ("0000000" + (a >>> 0).toString(16)).substr(-8) : a >>> 0
    }

    function a(e) {
        var i, n = t.map(e.getParentList(!1, !0), function (t) {
            return t.refKey || t.key
        });
        return n = n.join("/"), i = "id_" + r(n, !0)
    }

    t.ui.fancytree._FancytreeNodeClass.prototype.getCloneList = function (e) {
        var i, n = this.tree, s = n.refMap[this.refKey] || null, o = n.keyMap;
        return s && (i = this.key, e ? s = t.map(s, function (t) {
            return o[t]
        }) : (s = t.map(s, function (t) {
            return t === i ? null : o[t]
        }), s.length < 1 && (s = null))), s
    }, t.ui.fancytree._FancytreeNodeClass.prototype.isClone = function () {
        var t = this.refKey || null, e = t && this.tree.refMap[t] || null;
        return !!(e && e.length > 1)
    }, t.ui.fancytree._FancytreeNodeClass.prototype.reRegister = function (e, i) {
        e = null == e ? null : "" + e, i = null == i ? null : "" + i;
        var n = this.tree, s = this.key, o = this.refKey, r = n.keyMap, a = n.refMap, l = a[o] || null, h = !1;
        return null != e && e !== this.key && (r[e] && t.error("[ext-clones] reRegister(" + e + "): already exists: " + this), delete r[s], r[e] = this, l && (a[o] = t.map(l, function (t) {
            return t === s ? e : t
        })), this.key = e, h = !0), null != i && i !== this.refKey && (l && (1 === l.length ? delete a[o] : a[o] = t.map(l, function (t) {
            return t === s ? null : t
        })), a[i] ? a[i].append(e) : a[i] = [this.key], this.refKey = i, h = !0), h
    }, t.ui.fancytree._FancytreeClass.prototype.getNodesByRef = function (e, i) {
        var n = this.keyMap, s = this.refMap[e] || null;
        return s && (s = i ? t.map(s, function (t) {
            var e = n[t];
            return e.isDescendantOf(i) ? e : null
        }) : t.map(s, function (t) {
            return n[t]
        }), s.length < 1 && (s = null)), s
    }, t.ui.fancytree._FancytreeClass.prototype.changeRefKey = function (t, e) {
        var i, n, s = this.keyMap, o = this.refMap[t] || null;
        if (o) {
            for (i = 0; i < o.length; i++) n = s[o[i]], n.refKey = e;
            delete this.refMap[t], this.refMap[e] = o
        }
    }, t.ui.fancytree.registerExtension({
        name: "clones",
        version: "0.0.3",
        options: {highlightActiveClones: !0, highlightClones: !1},
        treeCreate: function (t) {
            this._super(t), t.tree.refMap = {}, t.tree.keyMap = {}
        },
        treeInit: function (t) {
            this.$container.addClass("fancytree-ext-clones"), s(null == t.options.defaultKey), t.options.defaultKey = function (t) {
                return a(t)
            }, this._super(t)
        },
        treeClear: function (t) {
            return t.tree.refMap = {}, t.tree.keyMap = {}, this._super(t)
        },
        treeRegisterNode: function (e, i, n) {
            var r, a, l = e.tree, h = l.keyMap, u = l.refMap, c = n.key,
                d = n && null != n.refKey ? "" + n.refKey : null;
            return "_statusNode" === c ? this._super(e, i, n) : (i ? (null != h[n.key] && t.error("clones.treeRegisterNode: node.key already exists: " + n), h[c] = n, d && (r = u[d], r ? (r.push(c), 2 === r.length && e.options.clones.highlightClones && h[r[0]].renderStatus()) : u[d] = [c])) : (null == h[c] && t.error("clones.treeRegisterNode: node.key not registered: " + n.key), delete h[c], d && (r = u[d], r && (a = r.length, 1 >= a ? (s(1 === a), s(r[0] === c), delete u[d]) : (o(r, c), 2 === a && e.options.clones.highlightClones && h[r[0]].renderStatus())))), this._super(e, i, n))
        },
        nodeRenderStatus: function (e) {
            var i, n, s = e.node;
            return n = this._super(e), e.options.clones.highlightClones && (i = t(s[e.tree.statusClassPropName]), i.length && s.isClone() && i.addClass("fancytree-clone")), n
        },
        nodeSetActive: function (e, i) {
            var n, s = e.tree.statusClassPropName, o = e.node;
            return n = this._super(e, i), e.options.clones.highlightActiveClones && o.isClone() && t.each(o.getCloneList(!0), function (e, n) {
                t(n[s]).toggleClass("fancytree-active-clone", i !== !1)
            }), n
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";

    function s(t) {
        return 0 === t ? "" : t > 0 ? "+" + t : "" + t
    }

    function o(e) {
        var i = e.options.dnd || null;
        i && r(), i && i.dragStart && e.widget.element.draggable(t.extend({
            addClasses: !1,
            appendTo: e.$container,
            containment: !1,
            delay: 0,
            distance: 4,
            revert: !1,
            scroll: !0,
            scrollSpeed: 7,
            scrollSensitivity: 10,
            connectToFancytree: !0,
            helper: function (e) {
                var i, n = t.ui.fancytree.getNode(e.target), s = t(n.span);
                return n ? (i = t("<div class='fancytree-drag-helper'><span class='fancytree-drag-helper-img' /></div>").css({
                    zIndex: 3,
                    position: "relative"
                }).append(s.find("span.fancytree-title").clone()), i.data("ftSourceNode", n), i) : "<div>ERROR?: helper requested but sourceNode not found</div>"
            },
            start: function (t, e) {
                var i = e.helper.data("ftSourceNode");
                return !!i
            }
        }, e.options.dnd.draggable)), i && i.dragDrop && e.widget.element.droppable(t.extend({
            addClasses: !1,
            tolerance: "intersect",
            greedy: !1
        }, e.options.dnd.droppable))
    }

    function r() {
        a || (t.ui.plugin.add("draggable", "connectToFancytree", {
            start: function (e, i) {
                var n = t(this).data("ui-draggable") || t(this).data("draggable"),
                    s = i.helper.data("ftSourceNode") || null;
                return s ? (n.offset.click.top = -2, n.offset.click.left = 16, s.tree.ext.dnd._onDragEvent("start", s, null, e, i, n)) : void 0
            }, drag: function (e, i) {
                var n, s, o = t(this).data("ui-draggable") || t(this).data("draggable"),
                    r = i.helper.data("ftSourceNode") || null, a = i.helper.data("ftTargetNode") || null,
                    l = t.ui.fancytree.getNode(e.target);
                return e.target && !l && (n = t(e.target).closest("div.fancytree-drag-helper,#fancytree-drop-marker").length > 0) ? (s = r || a || t.ui.fancytree, void s.debug("Drag event over helper: ignored.")) : (i.helper.data("ftTargetNode", l), a && a !== l && a.tree.ext.dnd._onDragEvent("leave", a, r, e, i, o), void(l && l.tree.options.dnd.dragDrop && (l === a ? l.tree.ext.dnd._onDragEvent("over", l, r, e, i, o) : l.tree.ext.dnd._onDragEvent("enter", l, r, e, i, o))))
            }, stop: function (e, i) {
                var n, s = t(this).data("ui-draggable") || t(this).data("draggable"),
                    o = i.helper.data("ftSourceNode") || null, r = i.helper.data("ftTargetNode") || null, a = e.type,
                    l = "mouseup" === a && 1 === e.which;
                l || (n = o || r || t.ui.fancytree, n.debug("Drag was cancelled")), r && (l && r.tree.ext.dnd._onDragEvent("drop", r, o, e, i, s), r.tree.ext.dnd._onDragEvent("leave", r, o, e, i, s)), o && o.tree.ext.dnd._onDragEvent("stop", o, null, e, i, s)
            }
        }), a = !0)
    }

    var a = !1;
    t.ui.fancytree.registerExtension({
        name: "dnd",
        version: "0.1.0",
        options: {
            autoExpandMS: 1e3,
            draggable: null,
            droppable: null,
            focusOnClick: !1,
            preventVoidMoves: !0,
            preventRecursiveMoves: !0,
            dragStart: null,
            dragStop: null,
            dragEnter: null,
            dragOver: null,
            dragDrop: null,
            dragLeave: null
        },
        treeInit: function (e) {
            var i = e.tree;
            this._super(e), i.options.dnd.dragStart && i.$container.on("mousedown", function (n) {
                if (!i.hasFocus() && e.options.dnd.focusOnClick) {
                    var s = t.ui.fancytree.getNode(n);
                    s.debug("Re-enable focus that was prevented by jQuery UI draggable."), setTimeout(function () {
                        t(n.target).closest(":tabbable").focus()
                    }, 10)
                }
            }), o(i)
        },
        nodeKeydown: function (e) {
            var i = e.originalEvent;
            return i.which === t.ui.keyCode.ESCAPE && this._local._cancelDrag(), this._super(e)
        },
        nodeClick: function (t) {
            return this._super(t)
        },
        _setDndStatus: function (e, i, n, o, r) {
            var a, l = 0, h = "center", u = this._local, c = e ? t(e.span) : null, d = t(i.span);
            if (u.$dropMarker || (u.$dropMarker = t("<div id='fancytree-drop-marker'></div>").hide().css({"z-index": 1e3}).prependTo(t(this.$div).parent())), "after" === o || "before" === o || "over" === o) {
                switch (o) {
                    case"before":
                        u.$dropMarker.removeClass("fancytree-drop-after fancytree-drop-over").addClass("fancytree-drop-before"), h = "top";
                        break;
                    case"after":
                        u.$dropMarker.removeClass("fancytree-drop-before fancytree-drop-over").addClass("fancytree-drop-after"), h = "bottom";
                        break;
                    default:
                        u.$dropMarker.removeClass("fancytree-drop-after fancytree-drop-before").addClass("fancytree-drop-over"), d.addClass("fancytree-drop-target"), l = 8
                }
                a = t.ui.fancytree.jquerySupports.positionMyOfs ? {
                    my: "left" + s(l) + " center",
                    at: "left " + h,
                    of: d
                } : {my: "left center", at: "left " + h, of: d, offset: "" + l + " 0"}, u.$dropMarker.show().position(a)
            } else d.removeClass("fancytree-drop-target"), u.$dropMarker.hide();
            "after" === o ? d.addClass("fancytree-drop-after") : d.removeClass("fancytree-drop-after"), "before" === o ? d.addClass("fancytree-drop-before") : d.removeClass("fancytree-drop-before"), r === !0 ? (c && c.addClass("fancytree-drop-accept"), d.addClass("fancytree-drop-accept"), n.addClass("fancytree-drop-accept")) : (c && c.removeClass("fancytree-drop-accept"), d.removeClass("fancytree-drop-accept"), n.removeClass("fancytree-drop-accept")), r === !1 ? (c && c.addClass("fancytree-drop-reject"), d.addClass("fancytree-drop-reject"), n.addClass("fancytree-drop-reject")) : (c && c.removeClass("fancytree-drop-reject"), d.removeClass("fancytree-drop-reject"), n.removeClass("fancytree-drop-reject"))
        },
        _onDragEvent: function (e, i, s, o, r, a) {
            "over" !== e && this.debug("tree.ext.dnd._onDragEvent(%s, %o, %o) - %o", e, i, s, this);
            var l, h, u, c, d, f, p = this.options, g = p.dnd,
                m = this._makeHookContext(i, o, {otherNode: s, ui: r, draggable: a}), v = null, y = t(i.span);
            switch (e) {
                case"start":
                    i.isStatusNode() ? v = !1 : g.dragStart && (v = g.dragStart(i, m)), v === !1 ? (this.debug("tree.dragStart() cancelled"), r.helper.trigger("mouseup").hide()) : y.addClass("fancytree-drag-source");
                    break;
                case"enter":
                    f = g.preventRecursiveMoves && i.isDescendantOf(s) ? !1 : g.dragEnter ? g.dragEnter(i, m) : null, v = f ? t.isArray(f) ? {
                        over: t.inArray("over", f) >= 0,
                        before: t.inArray("before", f) >= 0,
                        after: t.inArray("after", f) >= 0
                    } : {
                        over: f === !0 || "over" === f,
                        before: f === !0 || "before" === f,
                        after: f === !0 || "after" === f
                    } : !1, r.helper.data("enterResponse", v), this.debug("helper.enterResponse: %o", v);
                    break;
                case"over":
                    c = r.helper.data("enterResponse"), d = null, c === !1 || ("string" == typeof c ? d = c : (l = y.offset(), h = {
                        x: o.pageX - l.left,
                        y: o.pageY - l.top
                    }, u = {
                        x: h.x / y.width(),
                        y: h.y / y.height()
                    }, c.after && u.y > .75 ? d = "after" : !c.over && c.after && u.y > .5 ? d = "after" : c.before && u.y <= .25 ? d = "before" : !c.over && c.before && u.y <= .5 ? d = "before" : c.over && (d = "over"), g.preventVoidMoves && (i === s ? (this.debug("    drop over source node prevented"), d = null) : "before" === d && s && i === s.getNextSibling() ? (this.debug("    drop after source node prevented"), d = null) : "after" === d && s && i === s.getPrevSibling() ? (this.debug("    drop before source node prevented"), d = null) : "over" === d && s && s.parent === i && s.isLastSibling() && (this.debug("    drop last child over own parent prevented"), d = null)), r.helper.data("hitMode", d))), "over" === d && g.autoExpandMS && i.hasChildren() !== !1 && !i.expanded && i.scheduleAction("expand", g.autoExpandMS), d && g.dragOver && (m.hitMode = d, v = g.dragOver(i, m)), this._local._setDndStatus(s, i, r.helper, d, v !== !1 && null !== d);
                    break;
                case"drop":
                    d = r.helper.data("hitMode"), d && g.dragDrop && (m.hitMode = d, g.dragDrop(i, m));
                    break;
                case"leave":
                    i.scheduleAction("cancel"), r.helper.data("enterResponse", null), r.helper.data("hitMode", null), this._local._setDndStatus(s, i, r.helper, "out", n), g.dragLeave && g.dragLeave(i, m);
                    break;
                case"stop":
                    y.removeClass("fancytree-drag-source"), g.dragStop && g.dragStop(i, m);
                    break;
                default:
                    t.error("Unsupported drag event: " + e)
            }
            return v
        },
        _cancelDrag: function () {
            var e = t.ui.ddmanager.current;
            e && e.cancel()
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";
    var s = /Mac/.test(navigator.platform), o = t.ui.fancytree.escapeHtml, r = t.ui.fancytree.unescapeHtml;
    t.ui.fancytree._FancytreeNodeClass.prototype.editStart = function () {
        var e, n = this, s = this.tree, o = s.ext.edit, a = s.options.edit, l = t(".fancytree-title", n.span), h = {
            node: n,
            tree: s,
            options: s.options,
            isNew: t(n.span).hasClass("fancytree-edit-new"),
            orgTitle: n.title,
            input: null,
            dirty: !1
        };
        return a.beforeEdit.call(n, {type: "beforeEdit"}, h) === !1 ? !1 : (t.ui.fancytree.assert(!o.currentNode, "recursive edit"), o.currentNode = this, o.eventData = h, s.widget._unbind(), t(i).on("mousedown.fancytree-edit", function (e) {
            t(e.target).hasClass("fancytree-edit-input") || n.editEnd(!0, e)
        }), e = t("<input />", {
            "class": "fancytree-edit-input",
            type: "text",
            value: r(h.orgTitle)
        }), o.eventData.input = e, null != a.adjustWidthOfs && e.width(l.width() + a.adjustWidthOfs), null != a.inputCss && e.css(a.inputCss), l.html(e), e.focus().change(function (t) {
            e.addClass("fancytree-edit-dirty")
        }).keydown(function (e) {
            switch (e.which) {
                case t.ui.keyCode.ESCAPE:
                    n.editEnd(!1, e);
                    break;
                case t.ui.keyCode.ENTER:
                    return n.editEnd(!0, e), !1
            }
            e.stopPropagation()
        }).blur(function (t) {
            return n.editEnd(!0, t)
        }), void a.edit.call(n, {type: "edit"}, h))
    }, t.ui.fancytree._FancytreeNodeClass.prototype.editEnd = function (e, n) {
        var s, r = this, a = this.tree, l = a.ext.edit, h = l.eventData, u = a.options.edit,
            c = t(".fancytree-title", r.span), d = c.find("input.fancytree-edit-input");
        return u.trim && d.val(t.trim(d.val())), s = d.val(), h.dirty = s !== r.title, e === !1 ? h.save = !1 : h.isNew ? h.save = "" !== s : h.save = h.dirty && "" !== s, u.beforeClose.call(r, {type: "beforeClose"}, h) === !1 ? !1 : h.save && u.save.call(r, {type: "save"}, h) === !1 ? !1 : (d.removeClass("fancytree-edit-dirty").unbind(), t(i).off(".fancytree-edit"), h.save ? (r.setTitle(o(s)), r.setFocus()) : h.isNew ? (r.remove(), r = h.node = null, l.relatedNode.setFocus()) : (r.renderTitle(), r.setFocus()), l.eventData = null, l.currentNode = null, l.relatedNode = null, a.widget._bind(), t(a.$container).focus(), h.input = null, u.close.call(r, {type: "close"}, h), !0)
    }, t.ui.fancytree._FancytreeNodeClass.prototype.editCreateNode = function (e, i) {
        var n, s = this;
        return e = e || "child", null == i ? i = {title: ""} : "string" == typeof i ? i = {title: i} : t.ui.fancytree.assert(t.isPlainObject(i)), "child" !== e || this.isExpanded() || this.hasChildren() === !1 ? (n = this.addNode(i, e), n.makeVisible(), t(n.span).addClass("fancytree-edit-new"), this.tree.ext.edit.relatedNode = this, void n.editStart()) : void this.setExpanded().done(function () {
            s.editCreateNode(e, i)
        })
    }, t.ui.fancytree._FancytreeClass.prototype.isEditing = function () {
        return this.ext.edit.currentNode
    }, t.ui.fancytree._FancytreeNodeClass.prototype.isEditing = function () {
        return this.tree.ext.edit.currentNode === this
    }, t.ui.fancytree.registerExtension({
        name: "edit",
        version: "0.2.0",
        options: {
            adjustWidthOfs: 4,
            allowEmpty: !1,
            inputCss: {minWidth: "3em"},
            triggerCancel: ["esc", "tab", "click"],
            triggerStart: ["f2", "shift+click", "mac+enter"],
            trim: !0,
            beforeClose: t.noop,
            beforeEdit: t.noop,
            close: t.noop,
            edit: t.noop,
            save: t.noop
        },
        currentNode: null,
        treeInit: function (t) {
            this._super(t), this.$container.addClass("fancytree-ext-edit")
        },
        nodeClick: function (e) {
            return t.inArray("shift+click", e.options.edit.triggerStart) >= 0 && e.originalEvent.shiftKey ? (e.node.editStart(), !1) : this._super(e)
        },
        nodeDblclick: function (e) {
            return t.inArray("dblclick", e.options.edit.triggerStart) >= 0 ? (e.node.editStart(), !1) : this._super(e)
        },
        nodeKeydown: function (e) {
            switch (e.originalEvent.which) {
                case 113:
                    if (t.inArray("f2", e.options.edit.triggerStart) >= 0) return e.node.editStart(), !1;
                    break;
                case t.ui.keyCode.ENTER:
                    if (t.inArray("mac+enter", e.options.edit.triggerStart) >= 0 && s) return e.node.editStart(), !1
            }
            return this._super(e)
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";

    function s(t) {
        return (t + "").replace(/([.?*+\^\$\[\]\\(){}|-])/g, "\\$1")
    }

    t.ui.fancytree._FancytreeClass.prototype._applyFilterImpl = function (t, e, i) {
        var n, o, r = 0, a = "hide" === this.options.filter.mode;
        return i = !!i && !e, "string" == typeof t && (n = s(t), o = new RegExp(".*" + n + ".*", "i"), t = function (t) {
            return !!o.exec(t.title)
        }), this.enableFilter = !0, this.lastFilterArgs = arguments, this.$div.addClass("fancytree-ext-filter"), a ? this.$div.addClass("fancytree-ext-filter-hide") : this.$div.addClass("fancytree-ext-filter-dimm"), this.visit(function (t) {
            delete t.match, delete t.subMatch
        }), this.visit(function (n) {
            return i && null != n.children || !t(n) || (r++, n.match = !0, n.visitParents(function (t) {
                t.subMatch = !0
            }), !e) ? void 0 : (n.visit(function (t) {
                t.match = !0
            }), "skip")
        }), this.render(), r
    }, t.ui.fancytree._FancytreeClass.prototype.filterNodes = function (t, e) {
        return this._applyFilterImpl(t, !1, e)
    }, t.ui.fancytree._FancytreeClass.prototype.applyFilter = function (t) {
        return this.warn("Fancytree.applyFilter() is deprecated since 2014-05-10. Use .filterNodes() instead."), this.filterNodes.apply(this, arguments)
    }, t.ui.fancytree._FancytreeClass.prototype.filterBranches = function (t) {
        return this._applyFilterImpl(t, !0, null)
    }, t.ui.fancytree._FancytreeClass.prototype.clearFilter = function () {
        this.visit(function (t) {
            delete t.match, delete t.subMatch
        }), this.enableFilter = !1, this.lastFilterArgs = null, this.$div.removeClass("fancytree-ext-filter fancytree-ext-filter-dimm fancytree-ext-filter-hide"), this.render()
    }, t.ui.fancytree.registerExtension({
        name: "filter",
        version: "0.3.0",
        options: {autoApply: !0, mode: "dimm"},
        treeInit: function (t) {
            this._super(t)
        },
        nodeLoadChildren: function (t, e) {
            return this._super(t, e).done(function () {
                t.tree.enableFilter && t.tree.lastFilterArgs && t.options.filter.autoApply && t.tree._applyFilterImpl.apply(t.tree, t.tree.lastFilterArgs)
            })
        },
        nodeRenderStatus: function (e) {
            var i, n = e.node, s = e.tree, o = t(n[s.statusClassPropName]);
            return i = this._super(e), o.length && s.enableFilter ? (o.toggleClass("fancytree-match", !!n.match).toggleClass("fancytree-submatch", !!n.subMatch).toggleClass("fancytree-hide", !(n.match || n.subMatch)), i) : i
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";

    function s(t, e) {
        return t.map[e]
    }

    t.ui.fancytree.registerExtension({
        name: "glyph",
        version: "0.2.0",
        options: {
            map: {
                checkbox: "icon-check-empty",
                checkboxSelected: "icon-check",
                checkboxUnknown: "icon-check icon-muted",
                error: "icon-exclamation-sign",
                expanderClosed: "icon-caret-right",
                expanderLazy: "icon-angle-right",
                expanderOpen: "icon-caret-down",
                doc: "icon-file-alt",
                noExpander: "",
                docOpen: "icon-file-alt",
                loading: "icon-refresh icon-spin",
                folder: "icon-folder-close-alt",
                folderOpen: "icon-folder-open-alt"
            }
        },
        treeInit: function (t) {
            var e = t.tree;
            this._super(t), e.$container.addClass("fancytree-ext-glyph")
        },
        nodeRenderStatus: function (e) {
            var i, n, o = e.node, r = t(o.span), a = e.options.glyph, l = a.map;
            this._super(e), o.isRoot() || (n = r.children("span.fancytree-expander").get(0), n && (i = o.isLoading() ? "loading" : o.expanded ? "expanderOpen" : o.isUndefined() ? "expanderLazy" : o.hasChildren() ? "expanderClosed" : "noExpander", n.className = "fancytree-expander " + l[i]), n = o.tr ? t("td", o.tr).children("span.fancytree-checkbox").get(0) : r.children("span.fancytree-checkbox").get(0), n && (i = o.selected ? "checkboxSelected" : o.partsel ? "checkboxUnknown" : "checkbox", n.className = "fancytree-checkbox " + l[i]), n = r.children("span.fancytree-icon").get(0), n && (i = o.folder ? o.expanded ? s(a, "folderOpen") : s(a, "folder") : o.expanded ? s(a, "docOpen") : s(a, "doc"), n.className = "fancytree-icon " + i))
        },
        nodeSetStatus: function (e, i, n, o) {
            var r, a = e.options.glyph, l = e.node;
            this._super(e, i, n, o), r = l.parent ? t("span.fancytree-expander", l.span).get(0) : t(".fancytree-statusnode-wait, .fancytree-statusnode-error", l[this.nodeContainerAttrName]).find("span.fancytree-expander").get(0), "loading" === i ? r.className = "fancytree-expander " + s(a, "loading") : "error" === i && (r.className = "fancytree-expander " + s(a, "error"))
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";

    function s(e, i) {
        var n, s = i.get(0), o = 0;
        return e.children().each(function () {
            return this === s ? !1 : (n = t(this).prop("colspan"), void(o += n ? n : 1))
        }), o
    }

    function o(e, i) {
        var n, s = null, o = 0;
        return e.children().each(function () {
            return o >= i ? (s = t(this), !1) : (n = t(this).prop("colspan"), void(o += n ? n : 1))
        }), s
    }

    function r(t, e) {
        var i, n, r = t.closest("td"), l = null;
        switch (e) {
            case a.LEFT:
                l = r.prev();
                break;
            case a.RIGHT:
                l = r.next();
                break;
            case a.UP:
            case a.DOWN:
                for (i = r.parent(), n = s(i, r); ;) {
                    if (i = e === a.UP ? i.prev() : i.next(), !i.length) break;
                    if (!i.is(":hidden") && (l = o(i, n), l && l.find(":input").length)) break
                }
        }
        return l
    }

    var a = t.ui.keyCode, l = {
        text: [a.UP, a.DOWN],
        checkbox: [a.UP, a.DOWN, a.LEFT, a.RIGHT],
        radiobutton: [a.UP, a.DOWN, a.LEFT, a.RIGHT],
        "select-one": [a.LEFT, a.RIGHT],
        "select-multiple": [a.LEFT, a.RIGHT]
    };
    t.ui.fancytree.registerExtension({
        name: "gridnav",
        version: "0.0.1",
        options: {autofocusInput: !1, handleCursorKeys: !0},
        treeInit: function (e) {
            this._requireExtension("table", !0, !0), this._super(e), this.$container.addClass("fancytree-ext-gridnav"), this.$container.on("focusin", function (i) {
                var n, s = t.ui.fancytree.getNode(i.target);
                s && !s.isActive() && (n = e.tree._makeHookContext(s, i), e.tree._callHook("nodeSetActive", n, !0))
            })
        },
        nodeSetActive: function (e, i) {
            var n, s = e.options.gridnav, o = e.node, r = e.originalEvent || {}, a = t(r.target).is(":input");
            i = i !== !1, this._super(e, i), i && (e.options.titlesTabbable ? (a || (t(o.span).find("span.fancytree-title").focus(), o.setFocus()), e.tree.$container.attr("tabindex", "-1")) : s.autofocusInput && !a && (n = t(o.tr || o.span), n.find(":input:enabled:first").focus()))
        },
        nodeKeydown: function (e) {
            var i, n, s, o = e.options.gridnav, a = e.originalEvent, h = t(a.target);
            return i = h.is(":input:enabled") ? h.prop("type") : null, i && o.handleCursorKeys ? (n = l[i], n && t.inArray(a.which, n) >= 0 && (s = r(h, a.which), s && s.length) ? (s.find(":input:enabled").focus(), !1) : !0) : (e.tree.debug("ext-gridnav NOT HANDLED", a, i), this._super(e))
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";

    function s(e, i, n, o, r) {
        var l, h, u, c, d = !1, f = [], p = [];
        for (n = n || [], r = r || t.Deferred(), l = 0, u = n.length; u > l; l++) h = n[l], c = e.getNodeByKey(h), c ? o && c.isUndefined() ? (d = !0, e.debug("_loadLazyNodes: " + c + " is lazy: loading..."), "expand" === o ? f.push(c.setExpanded()) : f.push(c.load())) : (e.debug("_loadLazyNodes: " + c + " already loaded."), c.setExpanded()) : (p.push(h), e.debug("_loadLazyNodes: " + c + " was not yet found."));
        return t.when.apply(t, f).always(function () {
            if (d && p.length > 0) s(e, i, p, o, r); else {
                if (p.length) for (e.warn("_loadLazyNodes: could not load those keys: ", p), l = 0, u = p.length; u > l; l++) h = n[l], i._appendKey(a, n[l], !1);
                r.resolve()
            }
        }), r
    }

    var o = t.ui.fancytree.assert, r = "active", a = "expanded", l = "focus", h = "selected";
    t.ui.fancytree._FancytreeClass.prototype.clearCookies = function (t) {
        var e = this.ext.persist, i = e.cookiePrefix;
        t = t || "active expanded focus selected", t.indexOf(r) >= 0 && e._data(i + r, null), t.indexOf(a) >= 0 && e._data(i + a, null), t.indexOf(l) >= 0 && e._data(i + l, null), t.indexOf(h) >= 0 && e._data(i + h, null)
    }, t.ui.fancytree._FancytreeClass.prototype.getPersistData = function () {
        var t = this.ext.persist, e = t.cookiePrefix, i = t.cookieDelimiter, n = {};
        return n[r] = t._data(e + r), n[a] = (t._data(e + a) || "").split(i), n[h] = (t._data(e + h) || "").split(i), n[l] = t._data(e + l), n
    }, t.ui.fancytree.registerExtension({
        name: "persist",
        version: "0.3.0",
        options: {
            cookieDelimiter: "~",
            cookiePrefix: n,
            cookie: {raw: !1, expires: "", path: "", domain: "", secure: !1},
            expandLazy: !1,
            overrideSource: !0,
            store: "auto",
            types: "active expanded focus selected"
        },
        _data: function (e, i) {
            var s = this._local.localStorage;
            return i === n ? s ? s.getItem(e) : t.cookie(e) : void(null === i ? s ? s.removeItem(e) : t.removeCookie(e) : s ? s.setItem(e, i) : t.cookie(e, i, this.options.persist.cookie))
        },
        _appendKey: function (e, i, n) {
            i = "" + i;
            var s = this._local, o = this.options.persist, r = o.cookieDelimiter, a = s.cookiePrefix + e,
                l = s._data(a), h = l ? l.split(r) : [], u = t.inArray(i, h);
            u >= 0 && h.splice(u, 1), n && h.push(i), s._data(a, h.join(r))
        },
        treeInit: function (i) {
            var u = i.tree, c = i.options, d = this._local, f = this.options.persist;
            return o("localStore" === f.store || t.cookie, "Missing required plugin for 'persist' extension: jquery.cookie.js"), d.cookiePrefix = f.cookiePrefix || "fancytree-" + u._id + "-", d.storeActive = f.types.indexOf(r) >= 0, d.storeExpanded = f.types.indexOf(a) >= 0, d.storeSelected = f.types.indexOf(h) >= 0, d.storeFocus = f.types.indexOf(l) >= 0, "cookie" !== f.store && e.localStorage ? d.localStorage = "local" === f.store ? e.localStorage : e.sessionStorage : d.localStorage = null, u.$div.bind("fancytreeinit", function (e) {
                var i, o, p, g, m, v = t.cookie(d.cookiePrefix + l);
                i = d._data(d.cookiePrefix + a), g = i && i.split(f.cookieDelimiter), o = d.storeExpanded ? s(u, d, g, f.expandLazy ? "expand" : !1, null) : (new t.Deferred).resolve(), o.done(function () {
                    if (d.storeSelected) {
                        if (i = d._data(d.cookiePrefix + h)) for (g = i.split(f.cookieDelimiter), p = 0; p < g.length; p++) m = u.getNodeByKey(g[p]), m ? (m.selected === n || f.overrideSource && m.selected === !1) && (m.selected = !0, m.renderStatus()) : d._appendKey(h, g[p], !1);
                        3 === u.options.selectMode && u.visit(function (t) {
                            return t.selected ? (t.fixSelection3AfterClick(), "skip") : void 0
                        })
                    }
                    d.storeActive && (i = d._data(d.cookiePrefix + r), !i || !c.persist.overrideSource && u.activeNode || (m = u.getNodeByKey(i), m && m.setActive())), d.storeFocus && v && (m = u.getNodeByKey(v), m && m.setFocus()), u._triggerTreeEvent("restore", null, {})
                })
            }), this._super(i)
        },
        nodeSetActive: function (t, e, i) {
            var n, s = this._local;
            return e = e !== !1, n = this._super(t, e, i), s.storeActive && s._data(s.cookiePrefix + r, this.activeNode ? this.activeNode.key : null), n
        },
        nodeSetExpanded: function (t, e, i) {
            var n, s = t.node, o = this._local;
            return e = e !== !1, n = this._super(t, e, i), o.storeExpanded && o._appendKey(a, s.key, e), n
        },
        nodeSetFocus: function (t, e) {
            var i, n = this._local;
            return e = e !== !1, i = this._super(t, e), e && n.storeFocus && n._data(n.cookiePrefix + l, this.focusNode ? this.focusNode.key : null), i
        },
        nodeSetSelected: function (e, i) {
            var n, s, o = e.tree, r = e.node, a = this._local;
            return i = i !== !1, n = this._super(e, i), a.storeSelected && (3 === o.options.selectMode ? (s = t.map(o.getSelectedNodes(!0), function (t) {
                return t.key
            }), s = s.join(e.options.persist.cookieDelimiter), a._data(a.cookiePrefix + h, s)) : a._appendKey(h, r.key, i)), n
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";

    function s(e, i) {
        i = i || "", e || t.error("Assertion failed " + i)
    }

    function o(t, e) {
        t.parentNode.insertBefore(e, t.nextSibling)
    }

    function r(t, e) {
        t.visit(function (t) {
            var i = t.tr;
            return i && (i.style.display = t.hide || !e ? "none" : ""), t.expanded ? void 0 : "skip"
        })
    }

    function a(e) {
        var i, n, o, r = e.parent, a = r ? r.children : null;
        if (a && a.length > 1 && a[0] !== e) for (i = t.inArray(e, a), o = a[i - 1], s(o.tr); o.children && (n = o.children[o.children.length - 1], n.tr);) o = n; else o = r;
        return o
    }

    t.ui.fancytree.registerExtension({
        name: "table",
        version: "0.2.0",
        options: {checkboxColumnIdx: null, customStatus: !1, indentation: 16, nodeColumnIdx: 0},
        treeInit: function (e) {
            var n, s, o, r = e.tree, a = r.widget.element;
            for (a.addClass("fancytree-container fancytree-ext-table"), r.tbody = a.find("> tbody")[0], r.columnCount = t("thead >tr >th", a).length, t(r.tbody).empty(), r.rowFragment = i.createDocumentFragment(), s = t("<tr />"), o = "", e.options.aria && (s.attr("role", "row"), o = " role='gridcell'"), n = 0; n < r.columnCount; n++) e.options.table.nodeColumnIdx === n ? s.append("<td" + o + "><span class='fancytree-node' /></td>") : s.append("<td" + o + " />");
            r.rowFragment.appendChild(s.get(0)), r.statusClassPropName = "tr", r.ariaPropName = "tr", this.nodeContainerAttrName = "tr", this._super(e), t(r.rootNode.ul).remove(), r.rootNode.ul = null, r.$container = a, this.$container.attr("tabindex", this.options.tabbable ? "0" : "-1"), this.options.aria && r.$container.attr("role", "treegrid").attr("aria-readonly", !0)
        },
        nodeRemoveChildMarkup: function (e) {
            var i = e.node;
            i.visit(function (e) {
                e.tr && (t(e.tr).remove(), e.tr = null)
            })
        },
        nodeRemoveMarkup: function (e) {
            var i = e.node;
            i.tr && (t(i.tr).remove(), i.tr = null), this.nodeRemoveChildMarkup(e)
        },
        nodeRender: function (e, i, n, l, h) {
            var u, c, d, f, p, g, m, v, y = e.tree, b = e.node, w = e.options, _ = !b.parent;
            if (h || (e.hasCollapsedParents = b.parent && !b.parent.expanded), !_) if (b.tr) i ? this.nodeRenderTitle(e) : this.nodeRenderStatus(e); else {
                if (e.hasCollapsedParents) return void b.debug("nodeRender ignored due to unrendered parent");
                p = y.rowFragment.firstChild.cloneNode(!0), g = a(b), s(g), l === !0 && h ? p.style.display = "none" : n && e.hasCollapsedParents && (p.style.display = "none"), g.tr ? o(g.tr, p) : (s(!g.parent, "prev. row must have a tr, or is system root"), y.tbody.appendChild(p)), b.tr = p, b.key && w.generateIds && (b.tr.id = w.idPrefix + b.key), b.tr.ftnode = b, w.aria && t(b.tr).attr("aria-labelledby", "ftal_" + b.key), b.span = t("span.fancytree-node", b.tr).get(0), this.nodeRenderTitle(e), w.createNode && w.createNode.call(y, {type: "createNode"}, e)
            }
            if (w.renderNode && w.renderNode.call(y, {type: "renderNode"}, e), u = b.children, u && (_ || n || b.expanded)) for (d = 0, f = u.length; f > d; d++) v = t.extend({}, e, {node: u[d]}), v.hasCollapsedParents = v.hasCollapsedParents || !b.expanded, this.nodeRender(v, i, n, l, !0);
            u && !h && (m = b.tr || null, c = y.tbody.firstChild, b.visit(function (t) {
                if (t.tr) {
                    if (t.parent.expanded || "none" === t.tr.style.display || (t.tr.style.display = "none", r(t, !1)), t.tr.previousSibling !== m) {
                        b.debug("_fixOrder: mismatch at node: " + t);
                        var e = m ? m.nextSibling : c;
                        y.tbody.insertBefore(t.tr, e)
                    }
                    m = t.tr
                }
            }))
        },
        nodeRenderTitle: function (e, i) {
            var n, s = e.node, o = e.options;
            this._super(e), o.checkbox && null != o.table.checkboxColumnIdx && (n = t("span.fancytree-checkbox", s.span).detach(), t(s.tr).find("td:first").html(n)), s.isRoot() || this.nodeRenderStatus(e), !o.table.customStatus && s.isStatusNode() || o.renderColumns && o.renderColumns.call(e.tree, {type: "renderColumns"}, e)
        },
        nodeRenderStatus: function (e) {
            var i, n = e.node, s = e.options;
            this._super(e), t(n.tr).removeClass("fancytree-node"), i = (n.getLevel() - 1) * s.table.indentation, t(n.span).css({marginLeft: i + "px"})
        },
        nodeSetExpanded: function (e, i, n) {
            function s(t) {
                i = i !== !1, r(e.node, i), t ? i && e.options.autoScroll && !n.noAnimation && e.node.hasChildren() ? e.node.getLastChild().scrollIntoView(!0, {topNode: e.node}).always(function () {
                    n.noEvents || e.tree._triggerNodeEvent(i ? "expand" : "collapse", e), o.resolveWith(e.node)
                }) : (n.noEvents || e.tree._triggerNodeEvent(i ? "expand" : "collapse", e), o.resolveWith(e.node)) : (n.noEvents || e.tree._triggerNodeEvent(i ? "expand" : "collapse", e), o.rejectWith(e.node))
            }

            var o = new t.Deferred, a = t.extend({}, n, {noEvents: !0, noAnimation: !0});
            return n = n || {}, this._super(e, i, a).done(function () {
                s(!0)
            }).fail(function () {
                s(!1)
            }), o.promise()
        },
        nodeSetStatus: function (e, i, n, s) {
            if ("ok" === i) {
                var o = e.node, r = o.children ? o.children[0] : null;
                r && r.isStatusNode() && t(r.tr).remove()
            }
            this._super(e, i, n, s)
        },
        treeClear: function (t) {
            return this.nodeRemoveChildMarkup(this._makeHookContext(this.rootNode)), this._super(t)
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    "use strict";
    t.ui.fancytree.registerExtension({
        name: "themeroller",
        version: "0.0.1",
        options: {
            activeClass: "ui-state-active",
            foccusClass: "ui-state-focus",
            hoverClass: "ui-state-hover",
            selectedClass: "ui-state-highlight"
        },
        treeInit: function (e) {
            this._super(e);
            var i = e.widget.element;
            "TABLE" === i[0].nodeName ? (i.addClass("ui-widget ui-corner-all"), i.find(">thead tr").addClass("ui-widget-header"), i.find(">tbody").addClass("ui-widget-conent")) : i.addClass("ui-widget ui-widget-content ui-corner-all"), i.delegate(".fancytree-node", "mouseenter mouseleave", function (e) {
                var i = t.ui.fancytree.getNode(e.target), n = "mouseenter" === e.type;
                i.debug("hover: " + n), t(i.span).toggleClass("ui-state-hover ui-corner-all", n)
            })
        },
        treeDestroy: function (t) {
            this._super(t), t.widget.element.removeClass("ui-widget ui-widget-content ui-corner-all")
        },
        nodeRenderStatus: function (e) {
            var i = e.node, n = t(i.span);
            this._super(e), n.toggleClass("ui-state-active", i.isActive()), n.toggleClass("ui-state-focus", i.hasFocus()), n.toggleClass("ui-state-highlight", i.isSelected())
        }
    })
}(jQuery, window, document), function (t, e, i, n) {
    function s(e, n) {
        this.w = t(i), this.el = t(e), this.options = t.extend({}, a, n), this.init()
    }

    var o = "ontouchstart" in i, r = function () {
        var t = i.createElement("div"), n = i.documentElement;
        if (!("pointerEvents" in t.style)) return !1;
        t.style.pointerEvents = "auto", t.style.pointerEvents = "x", n.appendChild(t);
        var s = e.getComputedStyle && "auto" === e.getComputedStyle(t, "").pointerEvents;
        return n.removeChild(t), !!s
    }(), a = {
        listNodeName: "ol",
        itemNodeName: "li",
        rootClass: "dd",
        listClass: "dd-list",
        itemClass: "dd-item",
        dragClass: "dd-dragel",
        handleClass: "dd-handle",
        collapsedClass: "dd-collapsed",
        placeClass: "dd-placeholder",
        noDragClass: "dd-nodrag",
        emptyClass: "dd-empty",
        expandBtnHTML: '<button data-action="expand" type="button">Expand</button>',
        collapseBtnHTML: '<button data-action="collapse" type="button">Collapse</button>',
        group: 0,
        maxDepth: 5,
        threshold: 20
    };
    s.prototype = {
        init: function () {
            var i = this;
            i.reset(), i.el.data("nestable-group", this.options.group), i.placeEl = t('<div class="' + i.options.placeClass + '"/>'), t.each(this.el.find(i.options.itemNodeName), function (e, n) {
                i.setParent(t(n))
            }), i.el.on("click", "button", function (e) {
                if (!i.dragEl) {
                    var n = t(e.currentTarget), s = n.data("action"), o = n.parent(i.options.itemNodeName);
                    "collapse" === s && i.collapseItem(o), "expand" === s && i.expandItem(o)
                }
            });
            var n = function (e) {
                var n = t(e.target);
                if (!n.hasClass(i.options.handleClass)) {
                    if (n.closest("." + i.options.noDragClass).length) return;
                    n = n.closest("." + i.options.handleClass)
                }
                n.length && !i.dragEl && (i.isTouch = /^touch/.test(e.type), i.isTouch && 1 !== e.touches.length || (e.preventDefault(), i.dragStart(e.touches ? e.touches[0] : e)))
            }, s = function (t) {
                i.dragEl && (t.preventDefault(), i.dragMove(t.touches ? t.touches[0] : t))
            }, r = function (t) {
                i.dragEl && (t.preventDefault(), i.dragStop(t.touches ? t.touches[0] : t))
            };
            o && (i.el[0].addEventListener("touchstart", n, !1), e.addEventListener("touchmove", s, !1), e.addEventListener("touchend", r, !1), e.addEventListener("touchcancel", r, !1)), i.el.on("mousedown", n), i.w.on("mousemove", s), i.w.on("mouseup", r)
        }, serialize: function () {
            var e, i = 0, n = this;
            return step = function (e, i) {
                var s = [], o = e.children(n.options.itemNodeName);
                return o.each(function () {
                    var e = t(this), o = t.extend({}, e.data()), r = e.children(n.options.listNodeName);
                    r.length && (o.children = step(r, i + 1)), s.push(o)
                }), s
            }, e = step(n.el.find(n.options.listNodeName).first(), i)
        }, serialise: function () {
            return this.serialize()
        }, reset: function () {
            this.mouse = {
                offsetX: 0,
                offsetY: 0,
                startX: 0,
                startY: 0,
                lastX: 0,
                lastY: 0,
                nowX: 0,
                nowY: 0,
                distX: 0,
                distY: 0,
                dirAx: 0,
                dirX: 0,
                dirY: 0,
                lastDirX: 0,
                lastDirY: 0,
                distAxX: 0,
                distAxY: 0
            }, this.isTouch = !1, this.moving = !1, this.dragEl = null, this.dragRootEl = null, this.dragDepth = 0, this.hasNewRoot = !1, this.pointEl = null
        }, expandItem: function (t) {
            t.removeClass(this.options.collapsedClass), t.children('[data-action="expand"]').hide(), t.children('[data-action="collapse"]').show(), t.children(this.options.listNodeName).show()
        }, collapseItem: function (t) {
            var e = t.children(this.options.listNodeName);
            e.length && (t.addClass(this.options.collapsedClass), t.children('[data-action="collapse"]').hide(), t.children('[data-action="expand"]').show(), t.children(this.options.listNodeName).hide())
        }, expandAll: function () {
            var e = this;
            e.el.find(e.options.itemNodeName).each(function () {
                e.expandItem(t(this))
            })
        }, collapseAll: function () {
            var e = this;
            e.el.find(e.options.itemNodeName).each(function () {
                e.collapseItem(t(this))
            })
        }, setParent: function (e) {
            e.children(this.options.listNodeName).length && (e.prepend(t(this.options.expandBtnHTML)), e.prepend(t(this.options.collapseBtnHTML))), e.children('[data-action="expand"]').hide()
        }, unsetParent: function (t) {
            t.removeClass(this.options.collapsedClass), t.children("[data-action]").remove(), t.children(this.options.listNodeName).remove()
        }, dragStart: function (e) {
            var s = this.mouse, o = t(e.target), r = o.closest(this.options.itemNodeName);
            this.placeEl.css("height", r.height()), s.offsetX = e.offsetX !== n ? e.offsetX : e.pageX - o.offset().left, s.offsetY = e.offsetY !== n ? e.offsetY : e.pageY - o.offset().top, s.startX = s.lastX = e.pageX, s.startY = s.lastY = e.pageY, this.dragRootEl = this.el, this.dragEl = t(i.createElement(this.options.listNodeName)).addClass(this.options.listClass + " " + this.options.dragClass), this.dragEl.css("width", r.width()), r.after(this.placeEl), r[0].parentNode.removeChild(r[0]), r.appendTo(this.dragEl), t(i.body).append(this.dragEl), this.dragEl.css({
                left: e.pageX - s.offsetX,
                top: e.pageY - s.offsetY
            });
            var a, l, h = this.dragEl.find(this.options.itemNodeName);
            for (a = 0; a < h.length; a++) l = t(h[a]).parents(this.options.listNodeName).length, l > this.dragDepth && (this.dragDepth = l)
        }, dragStop: function (t) {
            var e = this.dragEl.children(this.options.itemNodeName).first();
            e[0].parentNode.removeChild(e[0]), this.placeEl.replaceWith(e), this.dragEl.remove(), this.el.trigger("change"), this.hasNewRoot && this.dragRootEl.trigger("change"), this.reset()
        }, dragMove: function (n) {
            var s, o, a, l, h, u = this.options, c = this.mouse;
            this.dragEl.css({
                left: n.pageX - c.offsetX,
                top: n.pageY - c.offsetY
            }), c.lastX = c.nowX, c.lastY = c.nowY, c.nowX = n.pageX, c.nowY = n.pageY, c.distX = c.nowX - c.lastX, c.distY = c.nowY - c.lastY, c.lastDirX = c.dirX, c.lastDirY = c.dirY, c.dirX = 0 === c.distX ? 0 : c.distX > 0 ? 1 : -1, c.dirY = 0 === c.distY ? 0 : c.distY > 0 ? 1 : -1;
            var d = Math.abs(c.distX) > Math.abs(c.distY) ? 1 : 0;
            if (!c.moving) return c.dirAx = d, void(c.moving = !0);
            c.dirAx !== d ? (c.distAxX = 0, c.distAxY = 0) : (c.distAxX += Math.abs(c.distX), 0 !== c.dirX && c.dirX !== c.lastDirX && (c.distAxX = 0), c.distAxY += Math.abs(c.distY), 0 !== c.dirY && c.dirY !== c.lastDirY && (c.distAxY = 0)), c.dirAx = d, c.dirAx && c.distAxX >= u.threshold && (c.distAxX = 0, a = this.placeEl.prev(u.itemNodeName), c.distX > 0 && a.length && !a.hasClass(u.collapsedClass) && (s = a.find(u.listNodeName).last(), h = this.placeEl.parents(u.listNodeName).length, h + this.dragDepth <= u.maxDepth && (s.length ? (s = a.children(u.listNodeName).last(), s.append(this.placeEl)) : (s = t("<" + u.listNodeName + "/>").addClass(u.listClass), s.append(this.placeEl), a.append(s), this.setParent(a)))), c.distX < 0 && (l = this.placeEl.next(u.itemNodeName), l.length || (o = this.placeEl.parent(), this.placeEl.closest(u.itemNodeName).after(this.placeEl), o.children().length || this.unsetParent(o.parent()))));
            var f = !1;
            if (r || (this.dragEl[0].style.visibility = "hidden"), this.pointEl = t(i.elementFromPoint(n.pageX - i.body.scrollLeft, n.pageY - (e.pageYOffset || i.documentElement.scrollTop))), r || (this.dragEl[0].style.visibility = "visible"), this.pointEl.hasClass(u.handleClass) && (this.pointEl = this.pointEl.parent(u.itemNodeName)), this.pointEl.hasClass(u.emptyClass)) f = !0; else if (!this.pointEl.length || !this.pointEl.hasClass(u.itemClass)) return;
            var p = this.pointEl.closest("." + u.rootClass),
                g = this.dragRootEl.data("nestable-id") !== p.data("nestable-id");
            if (!c.dirAx || g || f) {
                if (g && u.group !== p.data("nestable-group")) return;
                if (h = this.dragDepth - 1 + this.pointEl.parents(u.listNodeName).length, h > u.maxDepth) return;
                var m = n.pageY < this.pointEl.offset().top + this.pointEl.height() / 2;
                o = this.placeEl.parent(), f ? (s = t(i.createElement(u.listNodeName)).addClass(u.listClass), s.append(this.placeEl), this.pointEl.replaceWith(s)) : m ? this.pointEl.before(this.placeEl) : this.pointEl.after(this.placeEl), o.children().length || this.unsetParent(o.parent()), this.dragRootEl.find(u.itemNodeName).length || this.dragRootEl.append('<div class="' + u.emptyClass + '"/>'), g && (this.dragRootEl = p, this.hasNewRoot = this.el[0] !== this.dragRootEl[0])
            }
        }
    }, t.fn.nestable = function (e) {
        var i = this, n = this;
        return i.each(function () {
            var i = t(this).data("nestable");
            i ? "string" == typeof e && "function" == typeof i[e] && (n = i[e]()) : (t(this).data("nestable", new s(this, e)), t(this).data("nestable-id", (new Date).getTime()))
        }), n || i
    }
}(window.jQuery || window.Zepto, window, document), !function (t, e, i) {
    "use strict";
    !function n(t, e, i) {
        function s(r, a) {
            if (!e[r]) {
                if (!t[r]) {
                    var l = "function" == typeof require && require;
                    if (!a && l) return l(r, !0);
                    if (o) return o(r, !0);
                    var h = new Error("Cannot find module '" + r + "'");
                    throw h.code = "MODULE_NOT_FOUND", h
                }
                var u = e[r] = {exports: {}};
                t[r][0].call(u.exports, function (e) {
                    var i = t[r][1][e];
                    return s(i ? i : e)
                }, u, u.exports, n, t, e, i)
            }
            return e[r].exports
        }

        for (var o = "function" == typeof require && require, r = 0; r < i.length; r++) s(i[r]);
        return s
    }({
        1: [function (n, s, o) {
            var r = function (t) {
                return t && t.__esModule ? t : {"default": t}
            };
            Object.defineProperty(o, "__esModule", {value: !0});
            var a, l, h, u, c = n("./modules/handle-dom"), d = n("./modules/utils"), f = n("./modules/handle-swal-dom"),
                p = n("./modules/handle-click"), g = n("./modules/handle-key"), m = r(g),
                v = n("./modules/default-params"), y = r(v), b = n("./modules/set-params"), w = r(b);
            o["default"] = h = u = function () {
                function n(t) {
                    var e = s;
                    return e[t] === i ? y["default"][t] : e[t]
                }

                var s = arguments[0];
                if (c.addClass(e.body, "stop-scrolling"), f.resetInput(), s === i) return d.logStr("SweetAlert expects at least 1 attribute!"), !1;
                var o = d.extend({}, y["default"]);
                switch (typeof s) {
                    case"string":
                        o.title = s, o.text = arguments[1] || "", o.type = arguments[2] || "";
                        break;
                    case"object":
                        if (s.title === i) return d.logStr('Missing "title" argument!'), !1;
                        o.title = s.title;
                        for (var r in y["default"]) o[r] = n(r);
                        o.confirmButtonText = o.showCancelButton ? "Confirm" : y["default"].confirmButtonText, o.confirmButtonText = n("confirmButtonText"), o.doneFunction = arguments[1] || null;
                        break;
                    default:
                        return d.logStr('Unexpected type of argument! Expected "string" or "object", got ' + typeof s), !1
                }
                w["default"](o), f.fixVerticalPosition(), f.openModal(arguments[1]);
                for (var h = f.getModal(), g = h.querySelectorAll("button"), v = ["onclick", "onmouseover", "onmouseout", "onmousedown", "onmouseup", "onfocus"], b = function (t) {
                    return p.handleButton(t, o, h)
                }, _ = 0; _ < g.length; _++) for (var x = 0; x < v.length; x++) {
                    var k = v[x];
                    g[_][k] = b
                }
                f.getOverlay().onclick = b, a = t.onkeydown;
                var C = function (t) {
                    return m["default"](t, o, h)
                };
                t.onkeydown = C, t.onfocus = function () {
                    setTimeout(function () {
                        l !== i && (l.focus(), l = i)
                    }, 0)
                }, u.enableButtons()
            }, h.setDefaults = u.setDefaults = function (t) {
                if (!t) throw new Error("userParams is required");
                if ("object" != typeof t) throw new Error("userParams has to be a object");
                d.extend(y["default"], t)
            }, h.close = u.close = function () {
                var n = f.getModal();
                c.fadeOut(f.getOverlay(), 5), c.fadeOut(n, 5), c.removeClass(n, "showSweetAlert"), c.addClass(n, "hideSweetAlert"), c.removeClass(n, "visible");
                var s = n.querySelector(".sa-icon.sa-success");
                c.removeClass(s, "animate"), c.removeClass(s.querySelector(".sa-tip"), "animateSuccessTip"), c.removeClass(s.querySelector(".sa-long"), "animateSuccessLong");
                var o = n.querySelector(".sa-icon.sa-error");
                c.removeClass(o, "animateErrorIcon"), c.removeClass(o.querySelector(".sa-x-mark"), "animateXMark");
                var r = n.querySelector(".sa-icon.sa-warning");
                return c.removeClass(r, "pulseWarning"), c.removeClass(r.querySelector(".sa-body"), "pulseWarningIns"), c.removeClass(r.querySelector(".sa-dot"), "pulseWarningIns"), setTimeout(function () {
                    var t = n.getAttribute("data-custom-class");
                    c.removeClass(n, t)
                }, 300), c.removeClass(e.body, "stop-scrolling"), t.onkeydown = a, t.previousActiveElement && t.previousActiveElement.focus(), l = i, clearTimeout(n.timeout), !0
            }, h.showInputError = u.showInputError = function (t) {
                var e = f.getModal(), i = e.querySelector(".sa-input-error");
                c.addClass(i, "show");
                var n = e.querySelector(".sa-error-container");
                c.addClass(n, "show"), n.querySelector("p").innerHTML = t, setTimeout(function () {
                    h.enableButtons()
                }, 1), e.querySelector("input").focus()
            }, h.resetInputError = u.resetInputError = function (t) {
                if (t && 13 === t.keyCode) return !1;
                var e = f.getModal(), i = e.querySelector(".sa-input-error");
                c.removeClass(i, "show");
                var n = e.querySelector(".sa-error-container");
                c.removeClass(n, "show")
            }, h.disableButtons = u.disableButtons = function () {
                var t = f.getModal(), e = t.querySelector("button.confirm"), i = t.querySelector("button.cancel");
                e.disabled = !0, i.disabled = !0
            }, h.enableButtons = u.enableButtons = function () {
                var t = f.getModal(), e = t.querySelector("button.confirm"), i = t.querySelector("button.cancel");
                e.disabled = !1, i.disabled = !1
            }, "undefined" != typeof t ? t.sweetAlert = t.swal = h : d.logStr("SweetAlert is a frontend module!"), s.exports = o["default"]
        }, {
            "./modules/default-params": 2,
            "./modules/handle-click": 3,
            "./modules/handle-dom": 4,
            "./modules/handle-key": 5,
            "./modules/handle-swal-dom": 6,
            "./modules/set-params": 8,
            "./modules/utils": 9
        }], 2: [function (t, e, i) {
            Object.defineProperty(i, "__esModule", {value: !0});
            var n = {
                title: "",
                text: "",
                type: null,
                allowOutsideClick: !1,
                showConfirmButton: !0,
                showCancelButton: !1,
                closeOnConfirm: !0,
                closeOnCancel: !0,
                confirmButtonText: "OK",
                confirmButtonColor: "#8CD4F5",
                cancelButtonText: "Cancel",
                imageUrl: null,
                imageSize: null,
                timer: null,
                customClass: "",
                html: !1,
                animation: !0,
                allowEscapeKey: !0,
                inputType: "text",
                inputPlaceholder: "",
                inputValue: "",
                showLoaderOnConfirm: !1
            };
            i["default"] = n, e.exports = i["default"]
        }, {}], 3: [function (e, i, n) {
            Object.defineProperty(n, "__esModule", {value: !0});
            var s = e("./utils"), o = (e("./handle-swal-dom"), e("./handle-dom")), r = function (e, i, n) {
                function r(t) {
                    p && i.confirmButtonColor && (f.style.backgroundColor = t)
                }

                var h, u, c, d = e || t.event, f = d.target || d.srcElement, p = -1 !== f.className.indexOf("confirm"),
                    g = -1 !== f.className.indexOf("sweet-overlay"), m = o.hasClass(n, "visible"),
                    v = i.doneFunction && "true" === n.getAttribute("data-has-done-function");
                switch (p && i.confirmButtonColor && (h = i.confirmButtonColor, u = s.colorLuminance(h, -.04), c = s.colorLuminance(h, -.14)), d.type) {
                    case"mouseover":
                        r(u);
                        break;
                    case"mouseout":
                        r(h);
                        break;
                    case"mousedown":
                        r(c);
                        break;
                    case"mouseup":
                        r(u);
                        break;
                    case"focus":
                        var y = n.querySelector("button.confirm"), b = n.querySelector("button.cancel");
                        p ? b.style.boxShadow = "none" : y.style.boxShadow = "none";
                        break;
                    case"click":
                        var w = n === f, _ = o.isDescendant(n, f);
                        if (!w && !_ && m && !i.allowOutsideClick) break;
                        p && v && m ? a(n, i) : v && m || g ? l(n, i) : o.isDescendant(n, f) && "BUTTON" === f.tagName && sweetAlert.close()
                }
            }, a = function (t, e) {
                var i = !0;
                o.hasClass(t, "show-input") && (i = t.querySelector("input").value, i || (i = "")), e.doneFunction(i), e.closeOnConfirm && sweetAlert.close(), e.showLoaderOnConfirm && sweetAlert.disableButtons()
            }, l = function (t, e) {
                var i = String(e.doneFunction).replace(/\s/g, ""),
                    n = "function(" === i.substring(0, 9) && ")" !== i.substring(9, 10);
                n && e.doneFunction(!1), e.closeOnCancel && sweetAlert.close()
            };
            n["default"] = {handleButton: r, handleConfirm: a, handleCancel: l}, i.exports = n["default"]
        }, {"./handle-dom": 4, "./handle-swal-dom": 6, "./utils": 9}], 4: [function (i, n, s) {
            Object.defineProperty(s, "__esModule", {value: !0});
            var o = function (t, e) {
                return new RegExp(" " + e + " ").test(" " + t.className + " ")
            }, r = function (t, e) {
                o(t, e) || (t.className += " " + e)
            }, a = function (t, e) {
                var i = " " + t.className.replace(/[\t\r\n]/g, " ") + " ";
                if (o(t, e)) {
                    for (; i.indexOf(" " + e + " ") >= 0;) i = i.replace(" " + e + " ", " ");
                    t.className = i.replace(/^\s+|\s+$/g, "")
                }
            }, l = function (t) {
                var i = e.createElement("div");
                return i.appendChild(e.createTextNode(t)), i.innerHTML
            }, h = function (t) {
                t.style.opacity = "", t.style.display = "block"
            }, u = function (t) {
                if (t && !t.length) return h(t);
                for (var e = 0; e < t.length; ++e) h(t[e])
            }, c = function (t) {
                t.style.opacity = "", t.style.display = "none"
            }, d = function (t) {
                if (t && !t.length) return c(t);
                for (var e = 0; e < t.length; ++e) c(t[e])
            }, f = function (t, e) {
                for (var i = e.parentNode; null !== i;) {
                    if (i === t) return !0;
                    i = i.parentNode
                }
                return !1
            }, p = function (t) {
                t.style.left = "-9999px", t.style.display = "block";
                var e, i = t.clientHeight;
                return e = "undefined" != typeof getComputedStyle ? parseInt(getComputedStyle(t).getPropertyValue("padding-top"), 10) : parseInt(t.currentStyle.padding), t.style.left = "", t.style.display = "none", "-" + parseInt((i + e) / 2) + "px"
            }, g = function (t, e) {
                if (+t.style.opacity < 1) {
                    e = e || 16, t.style.opacity = 0, t.style.display = "block";
                    var i = +new Date, n = function (t) {
                        function e() {
                            return t.apply(this, arguments)
                        }

                        return e.toString = function () {
                            return t.toString()
                        }, e
                    }(function () {
                        t.style.opacity = +t.style.opacity + (new Date - i) / 100, i = +new Date, +t.style.opacity < 1 && setTimeout(n, e)
                    });
                    n()
                }
                t.style.display = "block"
            }, m = function (t, e) {
                e = e || 16, t.style.opacity = 1;
                var i = +new Date, n = function (t) {
                    function e() {
                        return t.apply(this, arguments)
                    }

                    return e.toString = function () {
                        return t.toString()
                    }, e
                }(function () {
                    t.style.opacity = +t.style.opacity - (new Date - i) / 100, i = +new Date, +t.style.opacity > 0 ? setTimeout(n, e) : t.style.display = "none"
                });
                n()
            }, v = function (i) {
                if ("function" == typeof MouseEvent) {
                    var n = new MouseEvent("click", {view: t, bubbles: !1, cancelable: !0});
                    i.dispatchEvent(n)
                } else if (e.createEvent) {
                    var s = e.createEvent("MouseEvents");
                    s.initEvent("click", !1, !1), i.dispatchEvent(s)
                } else e.createEventObject ? i.fireEvent("onclick") : "function" == typeof i.onclick && i.onclick()
            }, y = function (e) {
                "function" == typeof e.stopPropagation ? (e.stopPropagation(), e.preventDefault()) : t.event && t.event.hasOwnProperty("cancelBubble") && (t.event.cancelBubble = !0)
            };
            s.hasClass = o, s.addClass = r, s.removeClass = a, s.escapeHtml = l, s._show = h, s.show = u, s._hide = c, s.hide = d, s.isDescendant = f, s.getTopMargin = p, s.fadeIn = g, s.fadeOut = m, s.fireClick = v, s.stopEventPropagation = y
        }, {}], 5: [function (e, n, s) {
            Object.defineProperty(s, "__esModule", {value: !0});
            var o = e("./handle-dom"), r = e("./handle-swal-dom"), a = function (e, n, s) {
                var a = e || t.event, l = a.keyCode || a.which, h = s.querySelector("button.confirm"),
                    u = s.querySelector("button.cancel"), c = s.querySelectorAll("button[tabindex]");
                if (-1 !== [9, 13, 32, 27].indexOf(l)) {
                    for (var d = a.target || a.srcElement, f = -1, p = 0; p < c.length; p++) if (d === c[p]) {
                        f = p;
                        break
                    }
                    9 === l ? (d = -1 === f ? h : f === c.length - 1 ? c[0] : c[f + 1], o.stopEventPropagation(a), d.focus(), n.confirmButtonColor && r.setFocusStyle(d, n.confirmButtonColor)) : 13 === l ? ("INPUT" === d.tagName && (d = h, h.focus()), d = -1 === f ? h : i) : 27 === l && n.allowEscapeKey === !0 ? (d = u, o.fireClick(d, a)) : d = i
                }
            };
            s["default"] = a, n.exports = s["default"]
        }, {"./handle-dom": 4, "./handle-swal-dom": 6}], 6: [function (i, n, s) {
            var o = function (t) {
                return t && t.__esModule ? t : {"default": t}
            };
            Object.defineProperty(s, "__esModule", {value: !0});
            var r = i("./utils"), a = i("./handle-dom"), l = i("./default-params"), h = o(l), u = i("./injected-html"),
                c = o(u), d = ".sweet-alert", f = ".sweet-overlay", p = function () {
                    var t = e.createElement("div");
                    for (t.innerHTML = c["default"]; t.firstChild;) e.body.appendChild(t.firstChild)
                }, g = function (t) {
                    function e() {
                        return t.apply(this, arguments)
                    }

                    return e.toString = function () {
                        return t.toString()
                    }, e
                }(function () {
                    var t = e.querySelector(d);
                    return t || (p(), t = g()), t
                }), m = function () {
                    var t = g();
                    return t ? t.querySelector("input") : void 0
                }, v = function () {
                    return e.querySelector(f)
                }, y = function (t, e) {
                    var i = r.hexToRgb(e);
                    t.style.boxShadow = "0 0 2px rgba(" + i + ", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"
                }, b = function (i) {
                    var n = g();
                    a.fadeIn(v(), 10), a.show(n), a.addClass(n, "showSweetAlert"), a.removeClass(n, "hideSweetAlert"), t.previousActiveElement = e.activeElement;
                    var s = n.querySelector("button.confirm");
                    s.focus(), setTimeout(function () {
                        a.addClass(n, "visible")
                    }, 500);
                    var o = n.getAttribute("data-timer");
                    if ("null" !== o && "" !== o) {
                        var r = i;
                        n.timeout = setTimeout(function () {
                            var t = (r || null) && "true" === n.getAttribute("data-has-done-function");
                            t ? r(null) : sweetAlert.close()
                        }, o)
                    }
                }, w = function () {
                    var t = g(), e = m();
                    a.removeClass(t, "show-input"), e.value = h["default"].inputValue, e.setAttribute("type", h["default"].inputType), e.setAttribute("placeholder", h["default"].inputPlaceholder), _()
                }, _ = function (t) {
                    if (t && 13 === t.keyCode) return !1;
                    var e = g(), i = e.querySelector(".sa-input-error");
                    a.removeClass(i, "show");
                    var n = e.querySelector(".sa-error-container");
                    a.removeClass(n, "show")
                }, x = function () {
                    var t = g();
                    t.style.marginTop = a.getTopMargin(g())
                };
            s.sweetAlertInitialize = p, s.getModal = g, s.getOverlay = v, s.getInput = m, s.setFocusStyle = y, s.openModal = b, s.resetInput = w, s.resetInputError = _, s.fixVerticalPosition = x
        }, {"./default-params": 2, "./handle-dom": 4, "./injected-html": 7, "./utils": 9}], 7: [function (t, e, i) {
            Object.defineProperty(i, "__esModule", {value: !0});
            var n = '<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';
            i["default"] = n, e.exports = i["default"]
        }, {}], 8: [function (t, e, n) {
            Object.defineProperty(n, "__esModule", {value: !0});
            var s = t("./utils"), o = t("./handle-swal-dom"), r = t("./handle-dom"),
                a = ["error", "warning", "info", "success", "input", "prompt"], l = function (t) {
                    var e = o.getModal(), n = e.querySelector("h2"), l = e.querySelector("p"),
                        h = e.querySelector("button.cancel"), u = e.querySelector("button.confirm");
                    if (n.innerHTML = t.html ? t.title : r.escapeHtml(t.title).split("\n").join("<br>"), l.innerHTML = t.html ? t.text : r.escapeHtml(t.text || "").split("\n").join("<br>"), t.text && r.show(l), t.customClass) r.addClass(e, t.customClass), e.setAttribute("data-custom-class", t.customClass); else {
                        var c = e.getAttribute("data-custom-class");
                        r.removeClass(e, c), e.setAttribute("data-custom-class", "")
                    }
                    if (r.hide(e.querySelectorAll(".sa-icon")), t.type && !s.isIE8()) {
                        var d = function () {
                            for (var n = !1, s = 0; s < a.length; s++) if (t.type === a[s]) {
                                n = !0;
                                break
                            }
                            if (!n) return logStr("Unknown alert type: " + t.type), {v: !1};
                            var l = ["success", "error", "warning", "info"], h = i;
                            -1 !== l.indexOf(t.type) && (h = e.querySelector(".sa-icon.sa-" + t.type), r.show(h));
                            var u = o.getInput();
                            switch (t.type) {
                                case"success":
                                    r.addClass(h, "animate"), r.addClass(h.querySelector(".sa-tip"), "animateSuccessTip"), r.addClass(h.querySelector(".sa-long"), "animateSuccessLong");
                                    break;
                                case"error":
                                    r.addClass(h, "animateErrorIcon"), r.addClass(h.querySelector(".sa-x-mark"), "animateXMark");
                                    break;
                                case"warning":
                                    r.addClass(h, "pulseWarning"), r.addClass(h.querySelector(".sa-body"), "pulseWarningIns"), r.addClass(h.querySelector(".sa-dot"), "pulseWarningIns");
                                    break;
                                case"input":
                                case"prompt":
                                    u.setAttribute("type", t.inputType), u.value = t.inputValue, u.setAttribute("placeholder", t.inputPlaceholder), r.addClass(e, "show-input"), setTimeout(function () {
                                        u.focus(), u.addEventListener("keyup", swal.resetInputError)
                                    }, 400)
                            }
                        }();
                        if ("object" == typeof d) return d.v
                    }
                    if (t.imageUrl) {
                        var f = e.querySelector(".sa-icon.sa-custom");
                        f.style.backgroundImage = "url(" + t.imageUrl + ")", r.show(f);
                        var p = 80, g = 80;
                        if (t.imageSize) {
                            var m = t.imageSize.toString().split("x"), v = m[0], y = m[1];
                            v && y ? (p = v, g = y) : logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got " + t.imageSize)
                        }
                        f.setAttribute("style", f.getAttribute("style") + "width:" + p + "px; height:" + g + "px")
                    }
                    e.setAttribute("data-has-cancel-button", t.showCancelButton), t.showCancelButton ? h.style.display = "inline-block" : r.hide(h), e.setAttribute("data-has-confirm-button", t.showConfirmButton), t.showConfirmButton ? u.style.display = "inline-block" : r.hide(u), t.cancelButtonText && (h.innerHTML = r.escapeHtml(t.cancelButtonText)), t.confirmButtonText && (u.innerHTML = r.escapeHtml(t.confirmButtonText)), t.confirmButtonColor && (u.style.backgroundColor = t.confirmButtonColor, u.style.borderLeftColor = t.confirmLoadingButtonColor, u.style.borderRightColor = t.confirmLoadingButtonColor, o.setFocusStyle(u, t.confirmButtonColor)), e.setAttribute("data-allow-outside-click", t.allowOutsideClick);
                    var b = t.doneFunction ? !0 : !1;
                    e.setAttribute("data-has-done-function", b), t.animation ? "string" == typeof t.animation ? e.setAttribute("data-animation", t.animation) : e.setAttribute("data-animation", "pop") : e.setAttribute("data-animation", "none"), e.setAttribute("data-timer", t.timer)
                };
            n["default"] = l, e.exports = n["default"]
        }, {"./handle-dom": 4, "./handle-swal-dom": 6, "./utils": 9}], 9: [function (e, i, n) {
            Object.defineProperty(n, "__esModule", {value: !0});
            var s = function (t, e) {
                for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
                return t
            }, o = function (t) {
                var e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);
                return e ? parseInt(e[1], 16) + ", " + parseInt(e[2], 16) + ", " + parseInt(e[3], 16) : null
            }, r = function () {
                return t.attachEvent && !t.addEventListener
            }, a = function (e) {
                t.console && t.console.log("SweetAlert: " + e)
            }, l = function (t, e) {
                t = String(t).replace(/[^0-9a-f]/gi, ""), t.length < 6 && (t = t[0] + t[0] + t[1] + t[1] + t[2] + t[2]), e = e || 0;
                var i, n, s = "#";
                for (n = 0; 3 > n; n++) i = parseInt(t.substr(2 * n, 2), 16), i = Math.round(Math.min(Math.max(0, i + i * e), 255)).toString(16), s += ("00" + i).substr(i.length);
                return s
            };
            n.extend = s, n.hexToRgb = o, n.isIE8 = r, n.logStr = a, n.colorLuminance = l
        }, {}]
    }, {}, [1]), "function" == typeof define && define.amd ? define(function () {
        return sweetAlert
    }) : "undefined" != typeof module && module.exports && (module.exports = sweetAlert)
}(window, document), function (t) {
    "use strict";

    function e(t, e) {
        return t + ".touchspin_" + e
    }

    function i(i, n) {
        return t.map(i, function (t) {
            return e(t, n)
        })
    }

    var n = 0;
    t.fn.TouchSpin = function (e) {
        if ("destroy" === e) return void this.each(function () {
            var e = t(this), n = e.data();
            t(document).off(i(["mouseup", "touchend", "touchcancel", "mousemove", "touchmove", "scroll", "scrollstart"], n.spinnerid).join(" "))
        });
        var s = {
            min: 0,
            max: 100,
            initval: "",
            step: 1,
            decimals: 0,
            stepinterval: 100,
            forcestepdivisibility: "round",
            stepintervaldelay: 500,
            verticalbuttons: !1,
            verticalupclass: "glyphicon glyphicon-chevron-up",
            verticaldownclass: "glyphicon glyphicon-chevron-down",
            prefix: "",
            postfix: "",
            prefix_extraclass: "",
            postfix_extraclass: "",
            booster: !0,
            boostat: 10,
            maxboostedstep: !1,
            mousewheel: !0,
            buttondown_class: "btn btn-default",
            buttonup_class: "btn btn-default",
            buttondown_txt: "-",
            buttonup_txt: "+"
        }, o = {
            min: "min",
            max: "max",
            initval: "init-val",
            step: "step",
            decimals: "decimals",
            stepinterval: "step-interval",
            verticalbuttons: "vertical-buttons",
            verticalupclass: "vertical-up-class",
            verticaldownclass: "vertical-down-class",
            forcestepdivisibility: "force-step-divisibility",
            stepintervaldelay: "step-interval-delay",
            prefix: "prefix",
            postfix: "postfix",
            prefix_extraclass: "prefix-extra-class",
            postfix_extraclass: "postfix-extra-class",
            booster: "booster",
            boostat: "boostat",
            maxboostedstep: "max-boosted-step",
            mousewheel: "mouse-wheel",
            buttondown_class: "button-down-class",
            buttonup_class: "button-up-class",
            buttondown_txt: "button-down-txt",
            buttonup_txt: "button-up-txt"
        };
        return this.each(function () {
            function r() {
                if (!F.data("alreadyinitialized")) {
                    if (F.data("alreadyinitialized", !0), n += 1, F.data("spinnerid", n), !F.is("input")) return void console.log("Must be an input.");
                    h(), a(), w(), d(), g(), m(), v(), y(), M.input.css("display", "block")
                }
            }

            function a() {
                "" !== T.initval && "" === F.val() && F.val(T.initval)
            }

            function l(t) {
                c(t), w();
                var e = M.input.val();
                "" !== e && (e = Number(M.input.val()), M.input.val(e.toFixed(T.decimals)))
            }

            function h() {
                T = t.extend({}, s, R, u(), e)
            }

            function u() {
                var e = {};
                return t.each(o, function (t, i) {
                    var n = "bts-" + i;
                    F.is("[data-" + n + "]") && (e[t] = F.data(n))
                }), e
            }

            function c(e) {
                T = t.extend({}, T, e)
            }

            function d() {
                var t = F.val(), e = F.parent();
                "" !== t && (t = Number(t).toFixed(T.decimals)), F.data("initvalue", t).val(t), F.addClass("form-control"), e.hasClass("input-group") ? f(e) : p()
            }

            function f(e) {
                e.addClass("bootstrap-touchspin");
                var i, n, s = F.prev(), o = F.next(),
                    r = '<span class="input-group-addon bootstrap-touchspin-prefix">' + T.prefix + "</span>",
                    a = '<span class="input-group-addon bootstrap-touchspin-postfix">' + T.postfix + "</span>";
                s.hasClass("input-group-btn") ? (i = '<button class="' + T.buttondown_class + ' bootstrap-touchspin-down" type="button">' + T.buttondown_txt + "</button>", s.append(i)) : (i = '<span class="input-group-btn"><button class="' + T.buttondown_class + ' bootstrap-touchspin-down" type="button">' + T.buttondown_txt + "</button></span>", t(i).insertBefore(F)), o.hasClass("input-group-btn") ? (n = '<button class="' + T.buttonup_class + ' bootstrap-touchspin-up" type="button">' + T.buttonup_txt + "</button>", o.prepend(n)) : (n = '<span class="input-group-btn"><button class="' + T.buttonup_class + ' bootstrap-touchspin-up" type="button">' + T.buttonup_txt + "</button></span>", t(n).insertAfter(F)), t(r).insertBefore(F), t(a).insertAfter(F), E = e
            }

            function p() {
                var e;
                e = T.verticalbuttons ? '<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">' + T.prefix + '</span><span class="input-group-addon bootstrap-touchspin-postfix">' + T.postfix + '</span><span class="input-group-btn-vertical"><button class="' + T.buttondown_class + ' bootstrap-touchspin-up" type="button"><i class="' + T.verticalupclass + '"></i></button><button class="' + T.buttonup_class + ' bootstrap-touchspin-down" type="button"><i class="' + T.verticaldownclass + '"></i></button></span></div>' : '<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="' + T.buttondown_class + ' bootstrap-touchspin-down" type="button">' + T.buttondown_txt + '</button></span><span class="input-group-addon bootstrap-touchspin-prefix">' + T.prefix + '</span><span class="input-group-addon bootstrap-touchspin-postfix">' + T.postfix + '</span><span class="input-group-btn"><button class="' + T.buttonup_class + ' bootstrap-touchspin-up" type="button">' + T.buttonup_txt + "</button></span></div>", E = t(e).insertBefore(F), t(".bootstrap-touchspin-prefix", E).after(F), F.hasClass("input-sm") ? E.addClass("input-group-sm") : F.hasClass("input-lg") && E.addClass("input-group-lg")
            }

            function g() {
                M = {
                    down: t(".bootstrap-touchspin-down", E),
                    up: t(".bootstrap-touchspin-up", E),
                    input: t("input", E),
                    prefix: t(".bootstrap-touchspin-prefix", E).addClass(T.prefix_extraclass),
                    postfix: t(".bootstrap-touchspin-postfix", E).addClass(T.postfix_extraclass)
                }
            }

            function m() {
                "" === T.prefix && M.prefix.hide(), "" === T.postfix && M.postfix.hide()
            }

            function v() {
                F.on("keydown", function (t) {
                    var e = t.keyCode || t.which;
                    38 === e ? ("up" !== O && (x(), D()), t.preventDefault()) : 40 === e && ("down" !== O && (k(), C()), t.preventDefault())
                }), F.on("keyup", function (t) {
                    var e = t.keyCode || t.which;
                    38 === e ? S() : 40 === e && S()
                }), F.on("blur", function () {
                    w()
                }), M.down.on("keydown", function (t) {
                    var e = t.keyCode || t.which;
                    (32 === e || 13 === e) && ("down" !== O && (k(), C()), t.preventDefault())
                }), M.down.on("keyup", function (t) {
                    var e = t.keyCode || t.which;
                    (32 === e || 13 === e) && S()
                }), M.up.on("keydown", function (t) {
                    var e = t.keyCode || t.which;
                    (32 === e || 13 === e) && ("up" !== O && (x(), D()), t.preventDefault())
                }), M.up.on("keyup", function (t) {
                    var e = t.keyCode || t.which;
                    (32 === e || 13 === e) && S()
                }), M.down.on("mousedown.touchspin", function (t) {
                    M.down.off("touchstart.touchspin"), F.is(":disabled") || (k(), C(), t.preventDefault(), t.stopPropagation())
                }), M.down.on("touchstart.touchspin", function (t) {
                    M.down.off("mousedown.touchspin"), F.is(":disabled") || (k(), C(), t.preventDefault(), t.stopPropagation())
                }), M.up.on("mousedown.touchspin", function (t) {
                    M.up.off("touchstart.touchspin"), F.is(":disabled") || (x(), D(), t.preventDefault(), t.stopPropagation())
                }), M.up.on("touchstart.touchspin", function (t) {
                    M.up.off("mousedown.touchspin"), F.is(":disabled") || (x(), D(), t.preventDefault(), t.stopPropagation())
                }), M.up.on("mouseout touchleave touchend touchcancel", function (t) {
                    O && (t.stopPropagation(), S())
                }), M.down.on("mouseout touchleave touchend touchcancel", function (t) {
                    O && (t.stopPropagation(), S())
                }), M.down.on("mousemove touchmove", function (t) {
                    O && (t.stopPropagation(), t.preventDefault())
                }), M.up.on("mousemove touchmove", function (t) {
                    O && (t.stopPropagation(), t.preventDefault())
                }), t(document).on(i(["mouseup", "touchend", "touchcancel"], n).join(" "), function (t) {
                    O && (t.preventDefault(), S())
                }), t(document).on(i(["mousemove", "touchmove", "scroll", "scrollstart"], n).join(" "), function (t) {
                    O && (t.preventDefault(), S())
                }), F.on("mousewheel DOMMouseScroll", function (t) {
                    if (T.mousewheel && F.is(":focus")) {
                        var e = t.originalEvent.wheelDelta || -t.originalEvent.deltaY || -t.originalEvent.detail;
                        t.stopPropagation(), t.preventDefault(), 0 > e ? k() : x()
                    }
                })
            }

            function y() {
                F.on("touchspin.uponce", function () {
                    S(), x()
                }), F.on("touchspin.downonce", function () {
                    S(), k()
                }), F.on("touchspin.startupspin", function () {
                    D()
                }), F.on("touchspin.startdownspin", function () {
                    C()
                }), F.on("touchspin.stopspin", function () {
                    S()
                }), F.on("touchspin.updatesettings", function (t, e) {
                    l(e)
                })
            }

            function b(t) {
                switch (T.forcestepdivisibility) {
                    case"round":
                        return (Math.round(t / T.step) * T.step).toFixed(T.decimals);
                    case"floor":
                        return (Math.floor(t / T.step) * T.step).toFixed(T.decimals);
                    case"ceil":
                        return (Math.ceil(t / T.step) * T.step).toFixed(T.decimals);
                    default:
                        return t
                }
            }

            function w() {
                var t, e, i;
                t = F.val(), "" !== t && (T.decimals > 0 && "." === t || (e = parseFloat(t), isNaN(e) && (e = 0), i = e, e.toString() !== t && (i = e), e < T.min && (i = T.min), e > T.max && (i = T.max), i = b(i), Number(t).toString() !== i.toString() && (F.val(i), F.trigger("change"))))
            }

            function _() {
                if (T.booster) {
                    var t = Math.pow(2, Math.floor(z / T.boostat)) * T.step;
                    return T.maxboostedstep && t > T.maxboostedstep && (t = T.maxboostedstep, N = Math.round(N / t) * t), Math.max(T.step, t)
                }
                return T.step
            }

            function x() {
                w(), N = parseFloat(M.input.val()), isNaN(N) && (N = 0);
                var t = N, e = _();
                N += e, N > T.max && (N = T.max, F.trigger("touchspin.on.max"), S()), M.input.val(Number(N).toFixed(T.decimals)), t !== N && F.trigger("change")
            }

            function k() {
                w(), N = parseFloat(M.input.val()), isNaN(N) && (N = 0);
                var t = N, e = _();
                N -= e, N < T.min && (N = T.min, F.trigger("touchspin.on.min"), S()), M.input.val(N.toFixed(T.decimals)), t !== N && F.trigger("change")
            }

            function C() {
                S(), z = 0, O = "down", F.trigger("touchspin.on.startspin"), F.trigger("touchspin.on.startdownspin"), P = setTimeout(function () {
                    I = setInterval(function () {
                        z++, k()
                    }, T.stepinterval)
                }, T.stepintervaldelay)
            }

            function D() {
                S(), z = 0, O = "up", F.trigger("touchspin.on.startspin"), F.trigger("touchspin.on.startupspin"), A = setTimeout(function () {
                    H = setInterval(function () {
                        z++, x()
                    }, T.stepinterval)
                }, T.stepintervaldelay)
            }

            function S() {
                switch (clearTimeout(P), clearTimeout(A), clearInterval(I), clearInterval(H), O) {
                    case"up":
                        F.trigger("touchspin.on.stopupspin"), F.trigger("touchspin.on.stopspin");
                        break;
                    case"down":
                        F.trigger("touchspin.on.stopdownspin"), F.trigger("touchspin.on.stopspin")
                }
                z = 0, O = !1
            }

            var T, E, M, N, I, H, P, A, F = t(this), R = F.data(), z = 0, O = !1;
            r()
        })
    }
}(jQuery), !function (t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require("jquery") : jQuery)
}(function (t, e) {
    function i() {
        return new Date(Date.UTC.apply(Date, arguments))
    }

    function n() {
        var t = new Date;
        return i(t.getFullYear(), t.getMonth(), t.getDate())
    }

    function s(t, e) {
        return t.getUTCFullYear() === e.getUTCFullYear() && t.getUTCMonth() === e.getUTCMonth() && t.getUTCDate() === e.getUTCDate()
    }

    function o(t) {
        return function () {
            return this[t].apply(this, arguments)
        }
    }

    function r(t) {
        return t && !isNaN(t.getTime())
    }

    function a(e, i) {
        function n(t, e) {
            return e.toLowerCase()
        }

        var s, o = t(e).data(), r = {}, a = new RegExp("^" + i.toLowerCase() + "([A-Z])");
        i = new RegExp("^" + i.toLowerCase());
        for (var l in o) i.test(l) && (s = l.replace(a, n), r[s] = o[l]);
        return r
    }

    function l(e) {
        var i = {};
        if (m[e] || (e = e.split("-")[0], m[e])) {
            var n = m[e];
            return t.each(g, function (t, e) {
                e in n && (i[e] = n[e])
            }), i
        }
    }

    var h = function () {
        var e = {
            get: function (t) {
                return this.slice(t)[0]
            }, contains: function (t) {
                for (var e = t && t.valueOf(), i = 0, n = this.length; n > i; i++) if (this[i].valueOf() === e) return i;
                return -1
            }, remove: function (t) {
                this.splice(t, 1)
            }, replace: function (e) {
                e && (t.isArray(e) || (e = [e]), this.clear(), this.push.apply(this, e))
            }, clear: function () {
                this.length = 0
            }, copy: function () {
                var t = new h;
                return t.replace(this), t
            }
        };
        return function () {
            var i = [];
            return i.push.apply(i, arguments), t.extend(i, e), i
        }
    }(), u = function (e, i) {
        t(e).data("datepicker", this), this._process_options(i), this.dates = new h, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = t(e), this.isInline = !1, this.isInput = this.element.is("input"), this.component = this.element.hasClass("date") ? this.element.find(".add-on, .input-group-addon, .btn") : !1, this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.picker = t(v.template), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.viewMode = this.o.startView, this.o.calendarWeeks && this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function (t, e) {
            return parseInt(e) + 1
        }), this._allow_update = !1, this.setStartDate(this._o.startDate), this.setEndDate(this._o.endDate), this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled), this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted), this.setDatesDisabled(this.o.datesDisabled), this.fillDow(), this.fillMonths(), this._allow_update = !0, this.update(), this.showMode(), this.isInline && this.show()
    };
    u.prototype = {
        constructor: u, _process_options: function (e) {
            this._o = t.extend({}, this._o, e);
            var s = this.o = t.extend({}, this._o), o = s.language;
            switch (m[o] || (o = o.split("-")[0], m[o] || (o = p.language)), s.language = o, s.startView) {
                case 2:
                case"decade":
                    s.startView = 2;
                    break;
                case 1:
                case"year":
                    s.startView = 1;
                    break;
                default:
                    s.startView = 0
            }
            switch (s.minViewMode) {
                case 1:
                case"months":
                    s.minViewMode = 1;
                    break;
                case 2:
                case"years":
                    s.minViewMode = 2;
                    break;
                default:
                    s.minViewMode = 0
            }
            switch (s.maxViewMode) {
                case 0:
                case"days":
                    s.maxViewMode = 0;
                    break;
                case 1:
                case"months":
                    s.maxViewMode = 1;
                    break;
                default:
                    s.maxViewMode = 2
            }
            s.startView = Math.min(s.startView, s.maxViewMode), s.startView = Math.max(s.startView, s.minViewMode), s.multidate !== !0 && (s.multidate = Number(s.multidate) || !1, s.multidate !== !1 && (s.multidate = Math.max(0, s.multidate))), s.multidateSeparator = String(s.multidateSeparator), s.weekStart %= 7, s.weekEnd = (s.weekStart + 6) % 7;
            var r = v.parseFormat(s.format);
            if (s.startDate !== -(1 / 0) && (s.startDate ? s.startDate instanceof Date ? s.startDate = this._local_to_utc(this._zero_time(s.startDate)) : s.startDate = v.parseDate(s.startDate, r, s.language) : s.startDate = -(1 / 0)), s.endDate !== 1 / 0 && (s.endDate ? s.endDate instanceof Date ? s.endDate = this._local_to_utc(this._zero_time(s.endDate)) : s.endDate = v.parseDate(s.endDate, r, s.language) : s.endDate = 1 / 0), s.daysOfWeekDisabled = s.daysOfWeekDisabled || [], t.isArray(s.daysOfWeekDisabled) || (s.daysOfWeekDisabled = s.daysOfWeekDisabled.split(/[,\s]*/)), s.daysOfWeekDisabled = t.map(s.daysOfWeekDisabled, function (t) {
                    return parseInt(t, 10)
                }), s.daysOfWeekHighlighted = s.daysOfWeekHighlighted || [], t.isArray(s.daysOfWeekHighlighted) || (s.daysOfWeekHighlighted = s.daysOfWeekHighlighted.split(/[,\s]*/)), s.daysOfWeekHighlighted = t.map(s.daysOfWeekHighlighted, function (t) {
                    return parseInt(t, 10)
                }), s.datesDisabled = s.datesDisabled || [], !t.isArray(s.datesDisabled)) {
                var a = [];
                a.push(v.parseDate(s.datesDisabled, r, s.language)), s.datesDisabled = a
            }
            s.datesDisabled = t.map(s.datesDisabled, function (t) {
                return v.parseDate(t, r, s.language)
            });
            var l = String(s.orientation).toLowerCase().split(/\s+/g), h = s.orientation.toLowerCase();
            if (l = t.grep(l, function (t) {
                    return /^auto|left|right|top|bottom$/.test(t)
                }), s.orientation = {x: "auto", y: "auto"}, h && "auto" !== h) if (1 === l.length) switch (l[0]) {
                case"top":
                case"bottom":
                    s.orientation.y = l[0];
                    break;
                case"left":
                case"right":
                    s.orientation.x = l[0]
            } else h = t.grep(l, function (t) {
                return /^left|right$/.test(t)
            }), s.orientation.x = h[0] || "auto", h = t.grep(l, function (t) {
                return /^top|bottom$/.test(t)
            }), s.orientation.y = h[0] || "auto";
            if (s.defaultViewDate) {
                var u = s.defaultViewDate.year || (new Date).getFullYear(), c = s.defaultViewDate.month || 0,
                    d = s.defaultViewDate.day || 1;
                s.defaultViewDate = i(u, c, d)
            } else s.defaultViewDate = n()
        }, _events: [], _secondaryEvents: [], _applyEvents: function (t) {
            for (var i, n, s, o = 0; o < t.length; o++) i = t[o][0], 2 === t[o].length ? (n = e, s = t[o][1]) : 3 === t[o].length && (n = t[o][1], s = t[o][2]), i.on(s, n)
        }, _unapplyEvents: function (t) {
            for (var i, n, s, o = 0; o < t.length; o++) i = t[o][0], 2 === t[o].length ? (s = e, n = t[o][1]) : 3 === t[o].length && (s = t[o][1], n = t[o][2]), i.off(n, s)
        }, _buildEvents: function () {
            var e = {
                keyup: t.proxy(function (e) {
                    -1 === t.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update()
                }, this), keydown: t.proxy(this.keydown, this), paste: t.proxy(this.paste, this)
            };
            this.o.showOnFocus === !0 && (e.focus = t.proxy(this.show, this)), this.isInput ? this._events = [[this.element, e]] : this.component && this.hasInput ? this._events = [[this.element.find("input"), e], [this.component, {click: t.proxy(this.show, this)}]] : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, {click: t.proxy(this.show, this)}]], this._events.push([this.element, "*", {
                blur: t.proxy(function (t) {
                    this._focused_from = t.target
                }, this)
            }], [this.element, {
                blur: t.proxy(function (t) {
                    this._focused_from = t.target
                }, this)
            }]), this.o.immediateUpdates && this._events.push([this.element, {
                "changeYear changeMonth": t.proxy(function (t) {
                    this.update(t.date)
                }, this)
            }]), this._secondaryEvents = [[this.picker, {click: t.proxy(this.click, this)}], [t(window), {resize: t.proxy(this.place, this)}], [t(document), {
                mousedown: t.proxy(function (t) {
                    this.element.is(t.target) || this.element.find(t.target).length || this.picker.is(t.target) || this.picker.find(t.target).length || this.picker.hasClass("datepicker-inline") || this.hide()
                }, this)
            }]]
        }, _attachEvents: function () {
            this._detachEvents(), this._applyEvents(this._events)
        }, _detachEvents: function () {
            this._unapplyEvents(this._events)
        }, _attachSecondaryEvents: function () {
            this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents)
        }, _detachSecondaryEvents: function () {
            this._unapplyEvents(this._secondaryEvents)
        }, _trigger: function (e, i) {
            var n = i || this.dates.get(-1), s = this._utc_to_local(n);
            this.element.trigger({
                type: e,
                date: s,
                dates: t.map(this.dates, this._utc_to_local),
                format: t.proxy(function (t, e) {
                    0 === arguments.length ? (t = this.dates.length - 1, e = this.o.format) : "string" == typeof t && (e = t, t = this.dates.length - 1), e = e || this.o.format;
                    var i = this.dates.get(t);
                    return v.formatDate(i, e, this.o.language)
                }, this)
            })
        }, show: function () {
            var e = this.component ? this.element.find("input") : this.element;
            return e.attr("readonly") && this.o.enableOnReadonly === !1 ? void 0 : (this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && t(this.element).blur(), this)
        }, hide: function () {
            return this.isInline ? this : this.picker.is(":visible") ? (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.viewMode = this.o.startView, this.showMode(), this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this._trigger("hide"), this) : this
        }, remove: function () {
            return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this
        }, paste: function (e) {
            var i;
            if (e.originalEvent.clipboardData && e.originalEvent.clipboardData.types && -1 !== t.inArray("text/plain", e.originalEvent.clipboardData.types)) i = e.originalEvent.clipboardData.getData("text/plain"); else {
                if (!window.clipboardData) return;
                i = window.clipboardData.getData("Text")
            }
            this.setDate(i), this.update(), e.preventDefault()
        }, _utc_to_local: function (t) {
            return t && new Date(t.getTime() + 6e4 * t.getTimezoneOffset())
        }, _local_to_utc: function (t) {
            return t && new Date(t.getTime() - 6e4 * t.getTimezoneOffset())
        }, _zero_time: function (t) {
            return t && new Date(t.getFullYear(), t.getMonth(), t.getDate())
        }, _zero_utc_time: function (t) {
            return t && new Date(Date.UTC(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()))
        }, getDates: function () {
            return t.map(this.dates, this._utc_to_local)
        }, getUTCDates: function () {
            return t.map(this.dates, function (t) {
                return new Date(t)
            })
        }, getDate: function () {
            return this._utc_to_local(this.getUTCDate())
        }, getUTCDate: function () {
            var t = this.dates.get(-1);
            return "undefined" != typeof t ? new Date(t) : null
        }, clearDates: function () {
            var t;
            this.isInput ? t = this.element : this.component && (t = this.element.find("input")), t && t.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide()
        }, setDates: function () {
            var e = t.isArray(arguments[0]) ? arguments[0] : arguments;
            return this.update.apply(this, e), this._trigger("changeDate"), this.setValue(), this
        }, setUTCDates: function () {
            var e = t.isArray(arguments[0]) ? arguments[0] : arguments;
            return this.update.apply(this, t.map(e, this._utc_to_local)), this._trigger("changeDate"), this.setValue(), this
        }, setDate: o("setDates"), setUTCDate: o("setUTCDates"), setValue: function () {
            var t = this.getFormattedDate();
            return this.isInput ? this.element.val(t) : this.component && this.element.find("input").val(t), this
        }, getFormattedDate: function (i) {
            i === e && (i = this.o.format);
            var n = this.o.language;
            return t.map(this.dates, function (t) {
                return v.formatDate(t, i, n)
            }).join(this.o.multidateSeparator)
        }, setStartDate: function (t) {
            return this._process_options({startDate: t}), this.update(), this.updateNavArrows(), this
        }, setEndDate: function (t) {
            return this._process_options({endDate: t}), this.update(), this.updateNavArrows(), this
        }, setDaysOfWeekDisabled: function (t) {
            return this._process_options({daysOfWeekDisabled: t}), this.update(), this.updateNavArrows(), this
        }, setDaysOfWeekHighlighted: function (t) {
            return this._process_options({daysOfWeekHighlighted: t}), this.update(), this
        }, setDatesDisabled: function (t) {
            this._process_options({datesDisabled: t}), this.update(), this.updateNavArrows()
        }, place: function () {
            if (this.isInline) return this;
            var e = this.picker.outerWidth(), i = this.picker.outerHeight(), n = 10, s = t(this.o.container),
                o = s.width(), r = "body" === this.o.container ? t(document).scrollTop() : s.scrollTop(),
                a = s.offset(), l = [];
            this.element.parents().each(function () {
                var e = t(this).css("z-index");
                "auto" !== e && 0 !== e && l.push(parseInt(e))
            });
            var h = Math.max.apply(Math, l) + this.o.zIndexOffset,
                u = this.component ? this.component.parent().offset() : this.element.offset(),
                c = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1),
                d = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), f = u.left - a.left,
                p = u.top - a.top;
            "body" !== this.o.container && (p += r), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (f -= e - d)) : u.left < 0 ? (this.picker.addClass("datepicker-orient-left"), f -= u.left - n) : f + e > o ? (this.picker.addClass("datepicker-orient-right"), f += d - e) : this.picker.addClass("datepicker-orient-left");
            var g, m = this.o.orientation.y;
            if ("auto" === m && (g = -r + p - i, m = 0 > g ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + m), "top" === m ? p -= i + parseInt(this.picker.css("padding-top")) : p += c, this.o.rtl) {
                var v = o - (f + d);
                this.picker.css({top: p, right: v, zIndex: h})
            } else this.picker.css({top: p, left: f, zIndex: h});
            return this
        }, _allow_update: !0, update: function () {
            if (!this._allow_update) return this;
            var e = this.dates.copy(), i = [], n = !1;
            return arguments.length ? (t.each(arguments, t.proxy(function (t, e) {
                e instanceof Date && (e = this._local_to_utc(e)), i.push(e)
            }, this)), n = !0) : (i = this.isInput ? this.element.val() : this.element.data("date") || this.element.find("input").val(), i = i && this.o.multidate ? i.split(this.o.multidateSeparator) : [i],
                delete this.element.data().date), i = t.map(i, t.proxy(function (t) {
                return v.parseDate(t, this.o.format, this.o.language)
            }, this)), i = t.grep(i, t.proxy(function (t) {
                return !this.dateWithinRange(t) || !t
            }, this), !0), this.dates.replace(i), this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate, n ? this.setValue() : i.length && String(e) !== String(this.dates) && this._trigger("changeDate"), !this.dates.length && e.length && this._trigger("clearDate"), this.fill(), this.element.change(), this
        }, fillDow: function () {
            var t = this.o.weekStart, e = "<tr>";
            for (this.o.calendarWeeks && (this.picker.find(".datepicker-days .datepicker-switch").attr("colspan", function (t, e) {
                return parseInt(e) + 1
            }), e += '<th class="cw">&#160;</th>'); t < this.o.weekStart + 7;) e += '<th class="dow">' + m[this.o.language].daysMin[t++ % 7] + "</th>";
            e += "</tr>", this.picker.find(".datepicker-days thead").append(e)
        }, fillMonths: function () {
            for (var t = "", e = 0; 12 > e;) t += '<span class="month">' + m[this.o.language].monthsShort[e++] + "</span>";
            this.picker.find(".datepicker-months td").html(t)
        }, setRange: function (e) {
            e && e.length ? this.range = t.map(e, function (t) {
                return t.valueOf()
            }) : delete this.range, this.fill()
        }, getClassNames: function (e) {
            var i = [], n = this.viewDate.getUTCFullYear(), s = this.viewDate.getUTCMonth(), o = new Date;
            return e.getUTCFullYear() < n || e.getUTCFullYear() === n && e.getUTCMonth() < s ? i.push("old") : (e.getUTCFullYear() > n || e.getUTCFullYear() === n && e.getUTCMonth() > s) && i.push("new"), this.focusDate && e.valueOf() === this.focusDate.valueOf() && i.push("focused"), this.o.todayHighlight && e.getUTCFullYear() === o.getFullYear() && e.getUTCMonth() === o.getMonth() && e.getUTCDate() === o.getDate() && i.push("today"), -1 !== this.dates.contains(e) && i.push("active"), (!this.dateWithinRange(e) || this.dateIsDisabled(e)) && i.push("disabled"), -1 !== t.inArray(e.getUTCDay(), this.o.daysOfWeekHighlighted) && i.push("highlighted"), this.range && (e > this.range[0] && e < this.range[this.range.length - 1] && i.push("range"), -1 !== t.inArray(e.valueOf(), this.range) && i.push("selected"), e.valueOf() === this.range[0] && i.push("range-start"), e.valueOf() === this.range[this.range.length - 1] && i.push("range-end")), i
        }, fill: function () {
            var n, s = new Date(this.viewDate), o = s.getUTCFullYear(), r = s.getUTCMonth(),
                a = this.o.startDate !== -(1 / 0) ? this.o.startDate.getUTCFullYear() : -(1 / 0),
                l = this.o.startDate !== -(1 / 0) ? this.o.startDate.getUTCMonth() : -(1 / 0),
                h = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0,
                u = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0,
                c = m[this.o.language].today || m.en.today || "", d = m[this.o.language].clear || m.en.clear || "",
                f = m[this.o.language].titleFormat || m.en.titleFormat;
            if (!isNaN(o) && !isNaN(r)) {
                this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(o, r), f, this.o.language)), this.picker.find("tfoot .today").text(c).toggle(this.o.todayBtn !== !1), this.picker.find("tfoot .clear").text(d).toggle(this.o.clearBtn !== !1), this.picker.find("thead .datepicker-title").text(this.o.title).toggle("" !== this.o.title), this.updateNavArrows(), this.fillMonths();
                var p = i(o, r - 1, 28), g = v.getDaysInMonth(p.getUTCFullYear(), p.getUTCMonth());
                p.setUTCDate(g), p.setUTCDate(g - (p.getUTCDay() - this.o.weekStart + 7) % 7);
                var y = new Date(p);
                p.getUTCFullYear() < 100 && y.setUTCFullYear(p.getUTCFullYear()), y.setUTCDate(y.getUTCDate() + 42), y = y.valueOf();
                for (var b, w = []; p.valueOf() < y;) {
                    if (p.getUTCDay() === this.o.weekStart && (w.push("<tr>"), this.o.calendarWeeks)) {
                        var _ = new Date(+p + (this.o.weekStart - p.getUTCDay() - 7) % 7 * 864e5),
                            x = new Date(Number(_) + (11 - _.getUTCDay()) % 7 * 864e5),
                            k = new Date(Number(k = i(x.getUTCFullYear(), 0, 1)) + (11 - k.getUTCDay()) % 7 * 864e5),
                            C = (x - k) / 864e5 / 7 + 1;
                        w.push('<td class="cw">' + C + "</td>")
                    }
                    if (b = this.getClassNames(p), b.push("day"), this.o.beforeShowDay !== t.noop) {
                        var D = this.o.beforeShowDay(this._utc_to_local(p));
                        D === e ? D = {} : "boolean" == typeof D ? D = {enabled: D} : "string" == typeof D && (D = {classes: D}), D.enabled === !1 && b.push("disabled"), D.classes && (b = b.concat(D.classes.split(/\s+/))), D.tooltip && (n = D.tooltip)
                    }
                    b = t.unique(b), w.push('<td class="' + b.join(" ") + '"' + (n ? ' title="' + n + '"' : "") + ">" + p.getUTCDate() + "</td>"), n = null, p.getUTCDay() === this.o.weekEnd && w.push("</tr>"), p.setUTCDate(p.getUTCDate() + 1)
                }
                this.picker.find(".datepicker-days tbody").empty().append(w.join(""));
                var S = m[this.o.language].monthsTitle || m.en.monthsTitle || "Months",
                    T = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? S : o).end().find("span").removeClass("active");
                if (t.each(this.dates, function (t, e) {
                        e.getUTCFullYear() === o && T.eq(e.getUTCMonth()).addClass("active")
                    }), (a > o || o > h) && T.addClass("disabled"), o === a && T.slice(0, l).addClass("disabled"), o === h && T.slice(u + 1).addClass("disabled"), this.o.beforeShowMonth !== t.noop) {
                    var E = this;
                    t.each(T, function (e, i) {
                        if (!t(i).hasClass("disabled")) {
                            var n = new Date(o, e, 1), s = E.o.beforeShowMonth(n);
                            s === !1 && t(i).addClass("disabled")
                        }
                    })
                }
                w = "", o = 10 * parseInt(o / 10, 10);
                var M = this.picker.find(".datepicker-years").find(".datepicker-switch").text(o + "-" + (o + 9)).end().find("td");
                o -= 1;
                for (var N, I = t.map(this.dates, function (t) {
                    return t.getUTCFullYear()
                }), H = -1; 11 > H; H++) {
                    if (N = ["year"], n = null, -1 === H ? N.push("old") : 10 === H && N.push("new"), -1 !== t.inArray(o, I) && N.push("active"), (a > o || o > h) && N.push("disabled"), this.o.beforeShowYear !== t.noop) {
                        var P = this.o.beforeShowYear(new Date(o, 0, 1));
                        P === e ? P = {} : "boolean" == typeof P ? P = {enabled: P} : "string" == typeof P && (P = {classes: P}), P.enabled === !1 && N.push("disabled"), P.classes && (N = N.concat(P.classes.split(/\s+/))), P.tooltip && (n = P.tooltip)
                    }
                    w += '<span class="' + N.join(" ") + '"' + (n ? ' title="' + n + '"' : "") + ">" + o + "</span>", o += 1
                }
                M.html(w)
            }
        }, updateNavArrows: function () {
            if (this._allow_update) {
                var t = new Date(this.viewDate), e = t.getUTCFullYear(), i = t.getUTCMonth();
                switch (this.viewMode) {
                    case 0:
                        this.o.startDate !== -(1 / 0) && e <= this.o.startDate.getUTCFullYear() && i <= this.o.startDate.getUTCMonth() ? this.picker.find(".prev").css({visibility: "hidden"}) : this.picker.find(".prev").css({visibility: "visible"}), this.o.endDate !== 1 / 0 && e >= this.o.endDate.getUTCFullYear() && i >= this.o.endDate.getUTCMonth() ? this.picker.find(".next").css({visibility: "hidden"}) : this.picker.find(".next").css({visibility: "visible"});
                        break;
                    case 1:
                    case 2:
                        this.o.startDate !== -(1 / 0) && e <= this.o.startDate.getUTCFullYear() || this.o.maxViewMode < 2 ? this.picker.find(".prev").css({visibility: "hidden"}) : this.picker.find(".prev").css({visibility: "visible"}), this.o.endDate !== 1 / 0 && e >= this.o.endDate.getUTCFullYear() || this.o.maxViewMode < 2 ? this.picker.find(".next").css({visibility: "hidden"}) : this.picker.find(".next").css({visibility: "visible"})
                }
            }
        }, click: function (e) {
            e.preventDefault(), e.stopPropagation();
            var s, o, r, a = t(e.target).closest("span, td, th");
            if (1 === a.length) switch (a[0].nodeName.toLowerCase()) {
                case"th":
                    switch (a[0].className) {
                        case"datepicker-switch":
                            this.showMode(1);
                            break;
                        case"prev":
                        case"next":
                            var l = v.modes[this.viewMode].navStep * ("prev" === a[0].className ? -1 : 1);
                            switch (this.viewMode) {
                                case 0:
                                    this.viewDate = this.moveMonth(this.viewDate, l), this._trigger("changeMonth", this.viewDate);
                                    break;
                                case 1:
                                case 2:
                                    this.viewDate = this.moveYear(this.viewDate, l), 1 === this.viewMode && this._trigger("changeYear", this.viewDate)
                            }
                            this.fill();
                            break;
                        case"today":
                            this.showMode(-2);
                            var h = "linked" === this.o.todayBtn ? null : "view";
                            this._setDate(n(), h);
                            break;
                        case"clear":
                            this.clearDates()
                    }
                    break;
                case"span":
                    a.hasClass("disabled") || (this.viewDate.setUTCDate(1), a.hasClass("month") ? (r = 1, o = a.parent().find("span").index(a), s = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(o), this._trigger("changeMonth", this.viewDate), 1 === this.o.minViewMode ? (this._setDate(i(s, o, r)), this.showMode()) : this.showMode(-1)) : (r = 1, o = 0, s = parseInt(a.text(), 10) || 0, this.viewDate.setUTCFullYear(s), this._trigger("changeYear", this.viewDate), 2 === this.o.minViewMode && this._setDate(i(s, o, r)), this.showMode(-1)), this.fill());
                    break;
                case"td":
                    a.hasClass("day") && !a.hasClass("disabled") && (r = parseInt(a.text(), 10) || 1, s = this.viewDate.getUTCFullYear(), o = this.viewDate.getUTCMonth(), a.hasClass("old") ? 0 === o ? (o = 11, s -= 1) : o -= 1 : a.hasClass("new") && (11 === o ? (o = 0, s += 1) : o += 1), this._setDate(i(s, o, r)))
            }
            this.picker.is(":visible") && this._focused_from && t(this._focused_from).focus(), delete this._focused_from
        }, _toggle_multidate: function (t) {
            var e = this.dates.contains(t);
            if (t || this.dates.clear(), -1 !== e ? (this.o.multidate === !0 || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(e) : this.o.multidate === !1 ? (this.dates.clear(), this.dates.push(t)) : this.dates.push(t), "number" == typeof this.o.multidate) for (; this.dates.length > this.o.multidate;) this.dates.remove(0)
        }, _setDate: function (t, e) {
            e && "date" !== e || this._toggle_multidate(t && new Date(t)), e && "view" !== e || (this.viewDate = t && new Date(t)), this.fill(), this.setValue(), e && "view" === e || this._trigger("changeDate");
            var i;
            this.isInput ? i = this.element : this.component && (i = this.element.find("input")), i && i.change(), !this.o.autoclose || e && "date" !== e || this.hide()
        }, moveDay: function (t, e) {
            var i = new Date(t);
            return i.setUTCDate(t.getUTCDate() + e), i
        }, moveWeek: function (t, e) {
            return this.moveDay(t, 7 * e)
        }, moveMonth: function (t, e) {
            if (!r(t)) return this.o.defaultViewDate;
            if (!e) return t;
            var i, n, s = new Date(t.valueOf()), o = s.getUTCDate(), a = s.getUTCMonth(), l = Math.abs(e);
            if (e = e > 0 ? 1 : -1, 1 === l) n = -1 === e ? function () {
                return s.getUTCMonth() === a
            } : function () {
                return s.getUTCMonth() !== i
            }, i = a + e, s.setUTCMonth(i), (0 > i || i > 11) && (i = (i + 12) % 12); else {
                for (var h = 0; l > h; h++) s = this.moveMonth(s, e);
                i = s.getUTCMonth(), s.setUTCDate(o), n = function () {
                    return i !== s.getUTCMonth()
                }
            }
            for (; n();) s.setUTCDate(--o), s.setUTCMonth(i);
            return s
        }, moveYear: function (t, e) {
            return this.moveMonth(t, 12 * e)
        }, moveAvailableDate: function (t, e, i) {
            do {
                if (t = this[i](t, e), !this.dateWithinRange(t)) return !1;
                i = "moveDay"
            } while (this.dateIsDisabled(t));
            return t
        }, weekOfDateIsDisabled: function (e) {
            return -1 !== t.inArray(e.getUTCDay(), this.o.daysOfWeekDisabled)
        }, dateIsDisabled: function (e) {
            return this.weekOfDateIsDisabled(e) || t.grep(this.o.datesDisabled, function (t) {
                return s(e, t)
            }).length > 0
        }, dateWithinRange: function (t) {
            return t >= this.o.startDate && t <= this.o.endDate
        }, keydown: function (t) {
            if (!this.picker.is(":visible")) return void((40 === t.keyCode || 27 === t.keyCode) && (this.show(), t.stopPropagation()));
            var e, i, n = !1, s = this.focusDate || this.viewDate;
            switch (t.keyCode) {
                case 27:
                    this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), t.preventDefault(), t.stopPropagation();
                    break;
                case 37:
                case 38:
                case 39:
                case 40:
                    if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length) break;
                    e = 37 === t.keyCode || 38 === t.keyCode ? -1 : 1, t.ctrlKey ? (i = this.moveAvailableDate(s, e, "moveYear"), i && this._trigger("changeYear", this.viewDate)) : t.shiftKey ? (i = this.moveAvailableDate(s, e, "moveMonth"), i && this._trigger("changeMonth", this.viewDate)) : 37 === t.keyCode || 39 === t.keyCode ? i = this.moveAvailableDate(s, e, "moveDay") : this.weekOfDateIsDisabled(s) || (i = this.moveAvailableDate(s, e, "moveWeek")), i && (this.focusDate = this.viewDate = i, this.setValue(), this.fill(), t.preventDefault());
                    break;
                case 13:
                    if (!this.o.forceParse) break;
                    s = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(s), n = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (t.preventDefault(), t.stopPropagation(), this.o.autoclose && this.hide());
                    break;
                case 9:
                    this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide()
            }
            if (n) {
                this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate");
                var o;
                this.isInput ? o = this.element : this.component && (o = this.element.find("input")), o && o.change()
            }
        }, showMode: function (t) {
            t && (this.viewMode = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, this.viewMode + t))), this.picker.children("div").hide().filter(".datepicker-" + v.modes[this.viewMode].clsName).show(), this.updateNavArrows()
        }
    };
    var c = function (e, i) {
        t(e).data("datepicker", this), this.element = t(e), this.inputs = t.map(i.inputs, function (t) {
            return t.jquery ? t[0] : t
        }), delete i.inputs, f.call(t(this.inputs), i).on("changeDate", t.proxy(this.dateUpdated, this)), this.pickers = t.map(this.inputs, function (e) {
            return t(e).data("datepicker")
        }), this.updateDates()
    };
    c.prototype = {
        updateDates: function () {
            this.dates = t.map(this.pickers, function (t) {
                return t.getUTCDate()
            }), this.updateRanges()
        }, updateRanges: function () {
            var e = t.map(this.dates, function (t) {
                return t.valueOf()
            });
            t.each(this.pickers, function (t, i) {
                i.setRange(e)
            })
        }, dateUpdated: function (e) {
            if (!this.updating) {
                this.updating = !0;
                var i = t(e.target).data("datepicker");
                if ("undefined" != typeof i) {
                    var n = i.getUTCDate(), s = t.inArray(e.target, this.inputs), o = s - 1, r = s + 1,
                        a = this.inputs.length;
                    if (-1 !== s) {
                        if (t.each(this.pickers, function (t, e) {
                                e.getUTCDate() || e.setUTCDate(n)
                            }), n < this.dates[o]) for (; o >= 0 && n < this.dates[o];) this.pickers[o--].setUTCDate(n); else if (n > this.dates[r]) for (; a > r && n > this.dates[r];) this.pickers[r++].setUTCDate(n);
                        this.updateDates(), delete this.updating
                    }
                }
            }
        }, remove: function () {
            t.map(this.pickers, function (t) {
                t.remove()
            }), delete this.element.data().datepicker
        }
    };
    var d = t.fn.datepicker, f = function (i) {
        var n = Array.apply(null, arguments);
        n.shift();
        var s;
        if (this.each(function () {
                var e = t(this), o = e.data("datepicker"), r = "object" == typeof i && i;
                if (!o) {
                    var h = a(this, "date"), d = t.extend({}, p, h, r), f = l(d.language), g = t.extend({}, p, f, h, r);
                    e.hasClass("input-daterange") || g.inputs ? (t.extend(g, {inputs: g.inputs || e.find("input").toArray()}), o = new c(this, g)) : o = new u(this, g), e.data("datepicker", o)
                }
                "string" == typeof i && "function" == typeof o[i] && (s = o[i].apply(o, n))
            }), s === e || s instanceof u || s instanceof c) return this;
        if (this.length > 1) throw new Error("Using only allowed for the collection of a single element (" + i + " function)");
        return s
    };
    t.fn.datepicker = f;
    var p = t.fn.datepicker.defaults = {
        autoclose: !1,
        beforeShowDay: t.noop,
        beforeShowMonth: t.noop,
        beforeShowYear: t.noop,
        calendarWeeks: !1,
        clearBtn: !1,
        toggleActive: !1,
        daysOfWeekDisabled: [],
        daysOfWeekHighlighted: [],
        datesDisabled: [],
        endDate: 1 / 0,
        forceParse: !0,
        format: "mm/dd/yyyy",
        keyboardNavigation: !0,
        language: "en",
        minViewMode: 0,
        maxViewMode: 2,
        multidate: !1,
        multidateSeparator: ",",
        orientation: "auto",
        rtl: !1,
        startDate: -(1 / 0),
        startView: 0,
        todayBtn: !1,
        todayHighlight: !1,
        weekStart: 0,
        disableTouchKeyboard: !1,
        enableOnReadonly: !0,
        showOnFocus: !0,
        zIndexOffset: 10,
        container: "body",
        immediateUpdates: !1,
        title: ""
    }, g = t.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"];
    t.fn.datepicker.Constructor = u;
    var m = t.fn.datepicker.dates = {
        en: {
            days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            today: "Today",
            clear: "Clear",
            titleFormat: "MM yyyy"
        }
    }, v = {
        modes: [{clsName: "days", navFnc: "Month", navStep: 1}, {
            clsName: "months",
            navFnc: "FullYear",
            navStep: 1
        }, {clsName: "years", navFnc: "FullYear", navStep: 10}],
        isLeapYear: function (t) {
            return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0
        },
        getDaysInMonth: function (t, e) {
            return [31, v.isLeapYear(t) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][e]
        },
        validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
        nonpunctuation: /[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,
        parseFormat: function (t) {
            if ("function" == typeof t.toValue && "function" == typeof t.toDisplay) return t;
            var e = t.replace(this.validParts, "\x00").split("\x00"), i = t.match(this.validParts);
            if (!e || !e.length || !i || 0 === i.length) throw new Error("Invalid date format.");
            return {separators: e, parts: i}
        },
        parseDate: function (s, o, r) {
            function a() {
                var t = this.slice(0, p[c].length), e = p[c].slice(0, t.length);
                return t.toLowerCase() === e.toLowerCase()
            }

            if (!s) return e;
            if (s instanceof Date) return s;
            if ("string" == typeof o && (o = v.parseFormat(o)), o.toValue) return o.toValue(s, o, r);
            var l, h, c, d, f = /([\-+]\d+)([dmwy])/, p = s.match(/([\-+]\d+)([dmwy])/g),
                g = {d: "moveDay", m: "moveMonth", w: "moveWeek", y: "moveYear"};
            if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(s)) {
                for (s = new Date, c = 0; c < p.length; c++) l = f.exec(p[c]), h = parseInt(l[1]), d = g[l[2]], s = u.prototype[d](s, h);
                return i(s.getUTCFullYear(), s.getUTCMonth(), s.getUTCDate())
            }
            p = s && s.match(this.nonpunctuation) || [], s = new Date;
            var y, b, w = {}, _ = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"], x = {
                yyyy: function (t, e) {
                    return t.setUTCFullYear(e)
                }, yy: function (t, e) {
                    return t.setUTCFullYear(2e3 + e)
                }, m: function (t, e) {
                    if (isNaN(t)) return t;
                    for (e -= 1; 0 > e;) e += 12;
                    for (e %= 12, t.setUTCMonth(e); t.getUTCMonth() !== e;) t.setUTCDate(t.getUTCDate() - 1);
                    return t
                }, d: function (t, e) {
                    return t.setUTCDate(e)
                }
            };
            x.M = x.MM = x.mm = x.m, x.dd = x.d, s = n();
            var k = o.parts.slice();
            if (p.length !== k.length && (k = t(k).filter(function (e, i) {
                    return -1 !== t.inArray(i, _)
                }).toArray()), p.length === k.length) {
                var C;
                for (c = 0, C = k.length; C > c; c++) {
                    if (y = parseInt(p[c], 10), l = k[c], isNaN(y)) switch (l) {
                        case"MM":
                            b = t(m[r].months).filter(a), y = t.inArray(b[0], m[r].months) + 1;
                            break;
                        case"M":
                            b = t(m[r].monthsShort).filter(a), y = t.inArray(b[0], m[r].monthsShort) + 1
                    }
                    w[l] = y
                }
                var D, S;
                for (c = 0; c < _.length; c++) S = _[c], S in w && !isNaN(w[S]) && (D = new Date(s), x[S](D, w[S]), isNaN(D) || (s = D))
            }
            return s
        },
        formatDate: function (e, i, n) {
            if (!e) return "";
            if ("string" == typeof i && (i = v.parseFormat(i)), i.toDisplay) return i.toDisplay(e, i, n);
            var s = {
                d: e.getUTCDate(),
                D: m[n].daysShort[e.getUTCDay()],
                DD: m[n].days[e.getUTCDay()],
                m: e.getUTCMonth() + 1,
                M: m[n].monthsShort[e.getUTCMonth()],
                MM: m[n].months[e.getUTCMonth()],
                yy: e.getUTCFullYear().toString().substring(2),
                yyyy: e.getUTCFullYear()
            };
            s.dd = (s.d < 10 ? "0" : "") + s.d, s.mm = (s.m < 10 ? "0" : "") + s.m, e = [];
            for (var o = t.extend([], i.separators), r = 0, a = i.parts.length; a >= r; r++) o.length && e.push(o.shift()), e.push(s[i.parts[r]]);
            return e.join("")
        },
        headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',
        contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
        footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
    };
    v.template = '<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">' + v.headTemplate + "<tbody></tbody>" + v.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + v.headTemplate + v.contTemplate + v.footTemplate + "</table></div></div>", t.fn.datepicker.DPGlobal = v, t.fn.datepicker.noConflict = function () {
        return t.fn.datepicker = d, this
    }, t.fn.datepicker.version = "1.5.1", t(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function (e) {
        var i = t(this);
        i.data("datepicker") || (e.preventDefault(), f.call(i, "show"))
    }), t(function () {
        f.call(t('[data-provide="datepicker-inline"]'))
    })
}), function (t, e, i) {
    "use strict";
    var n = function (e, i) {
        this.widget = "", this.$element = t(e), this.defaultTime = i.defaultTime, this.disableFocus = i.disableFocus, this.disableMousewheel = i.disableMousewheel, this.isOpen = i.isOpen, this.minuteStep = i.minuteStep, this.modalBackdrop = i.modalBackdrop, this.orientation = i.orientation, this.secondStep = i.secondStep, this.snapToStep = i.snapToStep, this.showInputs = i.showInputs, this.showMeridian = i.showMeridian, this.showSeconds = i.showSeconds, this.template = i.template, this.appendWidgetTo = i.appendWidgetTo, this.showWidgetOnAddonClick = i.showWidgetOnAddonClick, this.icons = i.icons, this.maxHours = i.maxHours, this.explicitMode = i.explicitMode, this.handleDocumentClick = function (t) {
            var e = t.data.scope;
            e.$element.parent().find(t.target).length || e.$widget.is(t.target) || e.$widget.find(t.target).length || e.hideWidget()
        }, this._init()
    };
    n.prototype = {
        constructor: n, _init: function () {
            var e = this;
            this.showWidgetOnAddonClick && this.$element.parent().hasClass("input-group") && this.$element.parent().hasClass("bootstrap-timepicker") ? (this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker": t.proxy(this.showWidget, this)}), this.$element.on({
                "focus.timepicker": t.proxy(this.highlightUnit, this),
                "click.timepicker": t.proxy(this.highlightUnit, this),
                "keydown.timepicker": t.proxy(this.elementKeydown, this),
                "blur.timepicker": t.proxy(this.blurElement, this),
                "mousewheel.timepicker DOMMouseScroll.timepicker": t.proxy(this.mousewheel, this)
            })) : this.template ? this.$element.on({
                "focus.timepicker": t.proxy(this.showWidget, this),
                "click.timepicker": t.proxy(this.showWidget, this),
                "blur.timepicker": t.proxy(this.blurElement, this),
                "mousewheel.timepicker DOMMouseScroll.timepicker": t.proxy(this.mousewheel, this)
            }) : this.$element.on({
                "focus.timepicker": t.proxy(this.highlightUnit, this),
                "click.timepicker": t.proxy(this.highlightUnit, this),
                "keydown.timepicker": t.proxy(this.elementKeydown, this),
                "blur.timepicker": t.proxy(this.blurElement, this),
                "mousewheel.timepicker DOMMouseScroll.timepicker": t.proxy(this.mousewheel, this)
            }), this.template !== !1 ? this.$widget = t(this.getTemplate()).on("click", t.proxy(this.widgetClick, this)) : this.$widget = !1, this.showInputs && this.$widget !== !1 && this.$widget.find("input").each(function () {
                t(this).on({
                    "click.timepicker": function () {
                        t(this).select()
                    }, "keydown.timepicker": t.proxy(e.widgetKeydown, e), "keyup.timepicker": t.proxy(e.widgetKeyup, e)
                })
            }), this.setDefaultTime(this.defaultTime)
        }, blurElement: function () {
            this.highlightedUnit = null, this.updateFromElementVal()
        }, clear: function () {
            this.hour = "", this.minute = "", this.second = "", this.meridian = "", this.$element.val("")
        }, decrementHour: function () {
            if (this.showMeridian) if (1 === this.hour) this.hour = 12; else {
                if (12 === this.hour) return this.hour--, this.toggleMeridian();
                if (0 === this.hour) return this.hour = 11, this.toggleMeridian();
                this.hour--
            } else this.hour <= 0 ? this.hour = this.maxHours - 1 : this.hour--
        }, decrementMinute: function (t) {
            var e;
            e = t ? this.minute - t : this.minute - this.minuteStep, 0 > e ? (this.decrementHour(), this.minute = e + 60) : this.minute = e
        }, decrementSecond: function () {
            var t = this.second - this.secondStep;
            0 > t ? (this.decrementMinute(!0), this.second = t + 60) : this.second = t
        }, elementKeydown: function (t) {
            switch (t.which) {
                case 9:
                    if (t.shiftKey) {
                        if ("hour" === this.highlightedUnit) {
                            this.hideWidget();
                            break
                        }
                        this.highlightPrevUnit()
                    } else {
                        if (this.showMeridian && "meridian" === this.highlightedUnit || this.showSeconds && "second" === this.highlightedUnit || !this.showMeridian && !this.showSeconds && "minute" === this.highlightedUnit) {
                            this.hideWidget();
                            break
                        }
                        this.highlightNextUnit()
                    }
                    t.preventDefault(), this.updateFromElementVal();
                    break;
                case 27:
                    this.updateFromElementVal();
                    break;
                case 37:
                    t.preventDefault(), this.highlightPrevUnit(), this.updateFromElementVal();
                    break;
                case 38:
                    switch (t.preventDefault(), this.highlightedUnit) {
                        case"hour":
                            this.incrementHour(), this.highlightHour();
                            break;
                        case"minute":
                            this.incrementMinute(), this.highlightMinute();
                            break;
                        case"second":
                            this.incrementSecond(), this.highlightSecond();
                            break;
                        case"meridian":
                            this.toggleMeridian(), this.highlightMeridian()
                    }
                    this.update();
                    break;
                case 39:
                    t.preventDefault(), this.highlightNextUnit(), this.updateFromElementVal();
                    break;
                case 40:
                    switch (t.preventDefault(), this.highlightedUnit) {
                        case"hour":
                            this.decrementHour(), this.highlightHour();
                            break;
                        case"minute":
                            this.decrementMinute(), this.highlightMinute();
                            break;
                        case"second":
                            this.decrementSecond(), this.highlightSecond();
                            break;
                        case"meridian":
                            this.toggleMeridian(), this.highlightMeridian()
                    }
                    this.update()
            }
        }, getCursorPosition: function () {
            var t = this.$element.get(0);
            if ("selectionStart" in t) return t.selectionStart;
            if (i.selection) {
                t.focus();
                var e = i.selection.createRange(), n = i.selection.createRange().text.length;
                return e.moveStart("character", -t.value.length), e.text.length - n
            }
        }, getTemplate: function () {
            var t, e, i, n, s, o;
            switch (this.showInputs ? (e = '<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>', i = '<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>', n = '<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>', s = '<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>') : (e = '<span class="bootstrap-timepicker-hour"></span>', i = '<span class="bootstrap-timepicker-minute"></span>', n = '<span class="bootstrap-timepicker-second"></span>', s = '<span class="bootstrap-timepicker-meridian"></span>'), o = '<table><tr><td><a href="#" data-action="incrementHour"><span class="' + this.icons.up + '"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="' + this.icons.up + '"></span></a></td>' + (this.showSeconds ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="' + this.icons.up + '"></span></a></td>' : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="' + this.icons.up + '"></span></a></td>' : "") + "</tr><tr><td>" + e + '</td> <td class="separator">:</td><td>' + i + "</td> " + (this.showSeconds ? '<td class="separator">:</td><td>' + n + "</td>" : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td>' + s + "</td>" : "") + '</tr><tr><td><a href="#" data-action="decrementHour"><span class="' + this.icons.down + '"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="' + this.icons.down + '"></span></a></td>' + (this.showSeconds ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="' + this.icons.down + '"></span></a></td>' : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="' + this.icons.down + '"></span></a></td>' : "") + "</tr></table>", this.template) {
                case"modal":
                    t = '<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="' + (this.modalBackdrop ? "true" : "false") + '"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">' + o + '</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';
                    break;
                case"dropdown":
                    t = '<div class="bootstrap-timepicker-widget dropdown-menu">' + o + "</div>"
            }
            return t
        }, getTime: function () {
            return "" === this.hour ? "" : this.hour + ":" + (1 === this.minute.toString().length ? "0" + this.minute : this.minute) + (this.showSeconds ? ":" + (1 === this.second.toString().length ? "0" + this.second : this.second) : "") + (this.showMeridian ? " " + this.meridian : "")
        }, hideWidget: function () {
            this.isOpen !== !1 && (this.$element.trigger({
                type: "hide.timepicker",
                time: {
                    value: this.getTime(),
                    hours: this.hour,
                    minutes: this.minute,
                    seconds: this.second,
                    meridian: this.meridian
                }
            }), "modal" === this.template && this.$widget.modal ? this.$widget.modal("hide") : this.$widget.removeClass("open"), t(i).off("mousedown.timepicker, touchend.timepicker", this.handleDocumentClick), this.isOpen = !1, this.$widget.detach())
        }, highlightUnit: function () {
            this.position = this.getCursorPosition(), this.position >= 0 && this.position <= 2 ? this.highlightHour() : this.position >= 3 && this.position <= 5 ? this.highlightMinute() : this.position >= 6 && this.position <= 8 ? this.showSeconds ? this.highlightSecond() : this.highlightMeridian() : this.position >= 9 && this.position <= 11 && this.highlightMeridian()
        }, highlightNextUnit: function () {
            switch (this.highlightedUnit) {
                case"hour":
                    this.highlightMinute();
                    break;
                case"minute":
                    this.showSeconds ? this.highlightSecond() : this.showMeridian ? this.highlightMeridian() : this.highlightHour();
                    break;
                case"second":
                    this.showMeridian ? this.highlightMeridian() : this.highlightHour();
                    break;
                case"meridian":
                    this.highlightHour()
            }
        }, highlightPrevUnit: function () {
            switch (this.highlightedUnit) {
                case"hour":
                    this.showMeridian ? this.highlightMeridian() : this.showSeconds ? this.highlightSecond() : this.highlightMinute();
                    break;
                case"minute":
                    this.highlightHour();
                    break;
                case"second":
                    this.highlightMinute();
                    break;
                case"meridian":
                    this.showSeconds ? this.highlightSecond() : this.highlightMinute()
            }
        }, highlightHour: function () {
            var t = this.$element.get(0), e = this;
            this.highlightedUnit = "hour", t.setSelectionRange && setTimeout(function () {
                e.hour < 10 ? t.setSelectionRange(0, 1) : t.setSelectionRange(0, 2)
            }, 0)
        }, highlightMinute: function () {
            var t = this.$element.get(0), e = this;
            this.highlightedUnit = "minute", t.setSelectionRange && setTimeout(function () {
                e.hour < 10 ? t.setSelectionRange(2, 4) : t.setSelectionRange(3, 5)
            }, 0)
        }, highlightSecond: function () {
            var t = this.$element.get(0), e = this;
            this.highlightedUnit = "second", t.setSelectionRange && setTimeout(function () {
                e.hour < 10 ? t.setSelectionRange(5, 7) : t.setSelectionRange(6, 8)
            }, 0)
        }, highlightMeridian: function () {
            var t = this.$element.get(0), e = this;
            this.highlightedUnit = "meridian", t.setSelectionRange && (this.showSeconds ? setTimeout(function () {
                e.hour < 10 ? t.setSelectionRange(8, 10) : t.setSelectionRange(9, 11)
            }, 0) : setTimeout(function () {
                e.hour < 10 ? t.setSelectionRange(5, 7) : t.setSelectionRange(6, 8)
            }, 0))
        }, incrementHour: function () {
            if (this.showMeridian) {
                if (11 === this.hour) return this.hour++, this.toggleMeridian();
                12 === this.hour && (this.hour = 0)
            }
            return this.hour === this.maxHours - 1 ? void(this.hour = 0) : void this.hour++
        }, incrementMinute: function (t) {
            var e;
            e = t ? this.minute + t : this.minute + this.minuteStep - this.minute % this.minuteStep, e > 59 ? (this.incrementHour(), this.minute = e - 60) : this.minute = e
        }, incrementSecond: function () {
            var t = this.second + this.secondStep - this.second % this.secondStep;
            t > 59 ? (this.incrementMinute(!0), this.second = t - 60) : this.second = t
        }, mousewheel: function (e) {
            if (!this.disableMousewheel) {
                e.preventDefault(), e.stopPropagation();
                var i = e.originalEvent.wheelDelta || -e.originalEvent.detail, n = null;
                switch ("mousewheel" === e.type ? n = -1 * e.originalEvent.wheelDelta : "DOMMouseScroll" === e.type && (n = 40 * e.originalEvent.detail), n && (e.preventDefault(), t(this).scrollTop(n + t(this).scrollTop())), this.highlightedUnit) {
                    case"minute":
                        i > 0 ? this.incrementMinute() : this.decrementMinute(), this.highlightMinute();
                        break;
                    case"second":
                        i > 0 ? this.incrementSecond() : this.decrementSecond(), this.highlightSecond();
                        break;
                    case"meridian":
                        this.toggleMeridian(), this.highlightMeridian();
                        break;
                    default:
                        i > 0 ? this.incrementHour() : this.decrementHour(), this.highlightHour()
                }
                return !1
            }
        }, changeToNearestStep: function (t, e) {
            return t % e === 0 ? t : Math.round(t % e / e) ? (t + (e - t % e)) % 60 : t - t % e
        }, place: function () {
            if (!this.isInline) {
                var i = this.$widget.outerWidth(), n = this.$widget.outerHeight(), s = 10, o = t(e).width(),
                    r = t(e).height(), a = t(e).scrollTop(), l = parseInt(this.$element.parents().filter(function () {
                        return "auto" !== t(this).css("z-index")
                    }).first().css("z-index"), 10) + 10,
                    h = this.component ? this.component.parent().offset() : this.$element.offset(),
                    u = this.component ? this.component.outerHeight(!0) : this.$element.outerHeight(!1),
                    c = this.component ? this.component.outerWidth(!0) : this.$element.outerWidth(!1), d = h.left,
                    f = h.top;
                this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"), "auto" !== this.orientation.x ? (this.$widget.addClass("timepicker-orient-" + this.orientation.x), "right" === this.orientation.x && (d -= i - c)) : (this.$widget.addClass("timepicker-orient-left"), h.left < 0 ? d -= h.left - s : h.left + i > o && (d = o - i - s));
                var p, g, m = this.orientation.y;
                "auto" === m && (p = -a + h.top - n, g = a + r - (h.top + u + n), m = Math.max(p, g) === g ? "top" : "bottom"), this.$widget.addClass("timepicker-orient-" + m), "top" === m ? f += u : f -= n + parseInt(this.$widget.css("padding-top"), 10), this.$widget.css({
                    top: f,
                    left: d,
                    zIndex: l
                })
            }
        }, remove: function () {
            t("document").off(".timepicker"), this.$widget && this.$widget.remove(), delete this.$element.data().timepicker
        }, setDefaultTime: function (t) {
            if (this.$element.val()) this.updateFromElementVal(); else if ("current" === t) {
                var e = new Date, i = e.getHours(), n = e.getMinutes(), s = e.getSeconds(), o = "AM";
                0 !== s && (s = Math.ceil(e.getSeconds() / this.secondStep) * this.secondStep, 60 === s && (n += 1, s = 0)), 0 !== n && (n = Math.ceil(e.getMinutes() / this.minuteStep) * this.minuteStep, 60 === n && (i += 1, n = 0)), this.showMeridian && (0 === i ? i = 12 : i >= 12 ? (i > 12 && (i -= 12), o = "PM") : o = "AM"), this.hour = i, this.minute = n, this.second = s, this.meridian = o, this.update()
            } else t === !1 ? (this.hour = 0, this.minute = 0, this.second = 0, this.meridian = "AM") : this.setTime(t)
        }, setTime: function (t, e) {
            if (!t) return void this.clear();
            var i, n, s, o, r, a;
            if ("object" == typeof t && t.getMonth) s = t.getHours(), o = t.getMinutes(), r = t.getSeconds(), this.showMeridian && (a = "AM", s > 12 && (a = "PM", s %= 12), 12 === s && (a = "PM")); else {
                if (i = (/a/i.test(t) ? 1 : 0) + (/p/i.test(t) ? 2 : 0), i > 2) return void this.clear();
                if (n = t.replace(/[^0-9\:]/g, "").split(":"), s = n[0] ? n[0].toString() : n.toString(), this.explicitMode && s.length > 2 && s.length % 2 !== 0) return void this.clear();
                o = n[1] ? n[1].toString() : "",
                    r = n[2] ? n[2].toString() : "", s.length > 4 && (r = s.slice(-2), s = s.slice(0, -2)), s.length > 2 && (o = s.slice(-2), s = s.slice(0, -2)), o.length > 2 && (r = o.slice(-2), o = o.slice(0, -2)), s = parseInt(s, 10), o = parseInt(o, 10), r = parseInt(r, 10), isNaN(s) && (s = 0), isNaN(o) && (o = 0), isNaN(r) && (r = 0), r > 59 && (r = 59), o > 59 && (o = 59), s >= this.maxHours && (s = this.maxHours - 1), this.showMeridian ? (s > 12 && (i = 2, s -= 12), i || (i = 1), 0 === s && (s = 12), a = 1 === i ? "AM" : "PM") : 12 > s && 2 === i ? s += 12 : s >= this.maxHours ? s = this.maxHours - 1 : (0 > s || 12 === s && 1 === i) && (s = 0)
            }
            this.hour = s, this.snapToStep ? (this.minute = this.changeToNearestStep(o, this.minuteStep), this.second = this.changeToNearestStep(r, this.secondStep)) : (this.minute = o, this.second = r), this.meridian = a, this.update(e)
        }, showWidget: function () {
            this.isOpen || this.$element.is(":disabled") || (this.$widget.appendTo(this.appendWidgetTo), t(i).on("mousedown.timepicker, touchend.timepicker", {scope: this}, this.handleDocumentClick), this.$element.trigger({
                type: "show.timepicker",
                time: {
                    value: this.getTime(),
                    hours: this.hour,
                    minutes: this.minute,
                    seconds: this.second,
                    meridian: this.meridian
                }
            }), this.place(), this.disableFocus && this.$element.blur(), "" === this.hour && (this.defaultTime ? this.setDefaultTime(this.defaultTime) : this.setTime("0:0:0")), "modal" === this.template && this.$widget.modal ? this.$widget.modal("show").on("hidden", t.proxy(this.hideWidget, this)) : this.isOpen === !1 && this.$widget.addClass("open"), this.isOpen = !0)
        }, toggleMeridian: function () {
            this.meridian = "AM" === this.meridian ? "PM" : "AM"
        }, update: function (t) {
            this.updateElement(), t || this.updateWidget(), this.$element.trigger({
                type: "changeTime.timepicker",
                time: {
                    value: this.getTime(),
                    hours: this.hour,
                    minutes: this.minute,
                    seconds: this.second,
                    meridian: this.meridian
                }
            })
        }, updateElement: function () {
            this.$element.val(this.getTime()).change()
        }, updateFromElementVal: function () {
            this.setTime(this.$element.val())
        }, updateWidget: function () {
            if (this.$widget !== !1) {
                var t = this.hour, e = 1 === this.minute.toString().length ? "0" + this.minute : this.minute,
                    i = 1 === this.second.toString().length ? "0" + this.second : this.second;
                this.showInputs ? (this.$widget.find("input.bootstrap-timepicker-hour").val(t), this.$widget.find("input.bootstrap-timepicker-minute").val(e), this.showSeconds && this.$widget.find("input.bootstrap-timepicker-second").val(i), this.showMeridian && this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)) : (this.$widget.find("span.bootstrap-timepicker-hour").text(t), this.$widget.find("span.bootstrap-timepicker-minute").text(e), this.showSeconds && this.$widget.find("span.bootstrap-timepicker-second").text(i), this.showMeridian && this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))
            }
        }, updateFromWidgetInputs: function () {
            if (this.$widget !== !1) {
                var t = this.$widget.find("input.bootstrap-timepicker-hour").val() + ":" + this.$widget.find("input.bootstrap-timepicker-minute").val() + (this.showSeconds ? ":" + this.$widget.find("input.bootstrap-timepicker-second").val() : "") + (this.showMeridian ? this.$widget.find("input.bootstrap-timepicker-meridian").val() : "");
                this.setTime(t, !0)
            }
        }, widgetClick: function (e) {
            e.stopPropagation(), e.preventDefault();
            var i = t(e.target), n = i.closest("a").data("action");
            n && this[n](), this.update(), i.is("input") && i.get(0).setSelectionRange(0, 2)
        }, widgetKeydown: function (e) {
            var i = t(e.target), n = i.attr("class").replace("bootstrap-timepicker-", "");
            switch (e.which) {
                case 9:
                    if (e.shiftKey) {
                        if ("hour" === n) return this.hideWidget()
                    } else if (this.showMeridian && "meridian" === n || this.showSeconds && "second" === n || !this.showMeridian && !this.showSeconds && "minute" === n) return this.hideWidget();
                    break;
                case 27:
                    this.hideWidget();
                    break;
                case 38:
                    switch (e.preventDefault(), n) {
                        case"hour":
                            this.incrementHour();
                            break;
                        case"minute":
                            this.incrementMinute();
                            break;
                        case"second":
                            this.incrementSecond();
                            break;
                        case"meridian":
                            this.toggleMeridian()
                    }
                    this.setTime(this.getTime()), i.get(0).setSelectionRange(0, 2);
                    break;
                case 40:
                    switch (e.preventDefault(), n) {
                        case"hour":
                            this.decrementHour();
                            break;
                        case"minute":
                            this.decrementMinute();
                            break;
                        case"second":
                            this.decrementSecond();
                            break;
                        case"meridian":
                            this.toggleMeridian()
                    }
                    this.setTime(this.getTime()), i.get(0).setSelectionRange(0, 2)
            }
        }, widgetKeyup: function (t) {
            (65 === t.which || 77 === t.which || 80 === t.which || 46 === t.which || 8 === t.which || t.which >= 48 && t.which <= 57 || t.which >= 96 && t.which <= 105) && this.updateFromWidgetInputs()
        }
    }, t.fn.timepicker = function (e) {
        var i = Array.apply(null, arguments);
        return i.shift(), this.each(function () {
            var s = t(this), o = s.data("timepicker"), r = "object" == typeof e && e;
            o || s.data("timepicker", o = new n(this, t.extend({}, t.fn.timepicker.defaults, r, t(this).data()))), "string" == typeof e && o[e].apply(o, i)
        })
    }, t.fn.timepicker.defaults = {
        defaultTime: "current",
        disableFocus: !1,
        disableMousewheel: !1,
        isOpen: !1,
        minuteStep: 15,
        modalBackdrop: !1,
        orientation: {x: "auto", y: "auto"},
        secondStep: 15,
        snapToStep: !1,
        showSeconds: !1,
        showInputs: !0,
        showMeridian: !0,
        template: "dropdown",
        appendWidgetTo: "body",
        showWidgetOnAddonClick: !0,
        icons: {up: "glyphicon glyphicon-chevron-up", down: "glyphicon glyphicon-chevron-down"},
        maxHours: 24,
        explicitMode: !1
    }, t.fn.timepicker.Constructor = n, t(i).on("focus.timepicker.data-api click.timepicker.data-api", '[data-provide="timepicker"]', function (e) {
        var i = t(this);
        i.data("timepicker") || (e.preventDefault(), i.timepicker())
    })
}(jQuery, window, document), function (t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.moment = e()
}(this, function () {
    "use strict";

    function t() {
        return $i.apply(null, arguments)
    }

    function e(t) {
        $i = t
    }

    function i(t) {
        return "[object Array]" === Object.prototype.toString.call(t)
    }

    function n(t) {
        return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t)
    }

    function s(t, e) {
        var i, n = [];
        for (i = 0; i < t.length; ++i) n.push(e(t[i], i));
        return n
    }

    function o(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }

    function r(t, e) {
        for (var i in e) o(e, i) && (t[i] = e[i]);
        return o(e, "toString") && (t.toString = e.toString), o(e, "valueOf") && (t.valueOf = e.valueOf), t
    }

    function a(t, e, i, n) {
        return Mt(t, e, i, n, !0).utc()
    }

    function l() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        }
    }

    function h(t) {
        return null == t._pf && (t._pf = l()), t._pf
    }

    function u(t) {
        if (null == t._isValid) {
            var e = h(t);
            t._isValid = !(isNaN(t._d.getTime()) || !(e.overflow < 0) || e.empty || e.invalidMonth || e.invalidWeekday || e.nullInput || e.invalidFormat || e.userInvalidated), t._strict && (t._isValid = t._isValid && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour)
        }
        return t._isValid
    }

    function c(t) {
        var e = a(NaN);
        return null != t ? r(h(e), t) : h(e).userInvalidated = !0, e
    }

    function d(t) {
        return void 0 === t
    }

    function f(t, e) {
        var i, n, s;
        if (d(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), d(e._i) || (t._i = e._i), d(e._f) || (t._f = e._f), d(e._l) || (t._l = e._l), d(e._strict) || (t._strict = e._strict), d(e._tzm) || (t._tzm = e._tzm), d(e._isUTC) || (t._isUTC = e._isUTC), d(e._offset) || (t._offset = e._offset), d(e._pf) || (t._pf = h(e)), d(e._locale) || (t._locale = e._locale), qi.length > 0) for (i in qi) n = qi[i], s = e[n], d(s) || (t[n] = s);
        return t
    }

    function p(e) {
        f(this, e), this._d = new Date(null != e._d ? e._d.getTime() : NaN), Ki === !1 && (Ki = !0, t.updateOffset(this), Ki = !1)
    }

    function g(t) {
        return t instanceof p || null != t && null != t._isAMomentObject
    }

    function m(t) {
        return 0 > t ? Math.ceil(t) : Math.floor(t)
    }

    function v(t) {
        var e = +t, i = 0;
        return 0 !== e && isFinite(e) && (i = m(e)), i
    }

    function y(t, e, i) {
        var n, s = Math.min(t.length, e.length), o = Math.abs(t.length - e.length), r = 0;
        for (n = 0; s > n; n++) (i && t[n] !== e[n] || !i && v(t[n]) !== v(e[n])) && r++;
        return r + o
    }

    function b() {
    }

    function w(t) {
        return t ? t.toLowerCase().replace("_", "-") : t
    }

    function _(t) {
        for (var e, i, n, s, o = 0; o < t.length;) {
            for (s = w(t[o]).split("-"), e = s.length, i = w(t[o + 1]), i = i ? i.split("-") : null; e > 0;) {
                if (n = x(s.slice(0, e).join("-"))) return n;
                if (i && i.length >= e && y(s, i, !0) >= e - 1) break;
                e--
            }
            o++
        }
        return null
    }

    function x(t) {
        var e = null;
        if (!Xi[t] && "undefined" != typeof module && module && module.exports) try {
            e = Gi._abbr, require("./locale/" + t), k(e)
        } catch (i) {
        }
        return Xi[t]
    }

    function k(t, e) {
        var i;
        return t && (i = d(e) ? D(t) : C(t, e), i && (Gi = i)), Gi._abbr
    }

    function C(t, e) {
        return null !== e ? (e.abbr = t, Xi[t] = Xi[t] || new b, Xi[t].set(e), k(t), Xi[t]) : (delete Xi[t], null)
    }

    function D(t) {
        var e;
        if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return Gi;
        if (!i(t)) {
            if (e = x(t)) return e;
            t = [t]
        }
        return _(t)
    }

    function S(t, e) {
        var i = t.toLowerCase();
        Zi[i] = Zi[i + "s"] = Zi[e] = t
    }

    function T(t) {
        return "string" == typeof t ? Zi[t] || Zi[t.toLowerCase()] : void 0
    }

    function E(t) {
        var e, i, n = {};
        for (i in t) o(t, i) && (e = T(i), e && (n[e] = t[i]));
        return n
    }

    function M(t) {
        return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t)
    }

    function N(e, i) {
        return function (n) {
            return null != n ? (H(this, e, n), t.updateOffset(this, i), this) : I(this, e)
        }
    }

    function I(t, e) {
        return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN
    }

    function H(t, e, i) {
        t.isValid() && t._d["set" + (t._isUTC ? "UTC" : "") + e](i)
    }

    function P(t, e) {
        var i;
        if ("object" == typeof t) for (i in t) this.set(i, t[i]); else if (t = T(t), M(this[t])) return this[t](e);
        return this
    }

    function A(t, e, i) {
        var n = "" + Math.abs(t), s = e - n.length, o = t >= 0;
        return (o ? i ? "+" : "" : "-") + Math.pow(10, Math.max(0, s)).toString().substr(1) + n
    }

    function F(t, e, i, n) {
        var s = n;
        "string" == typeof n && (s = function () {
            return this[n]()
        }), t && (en[t] = s), e && (en[e[0]] = function () {
            return A(s.apply(this, arguments), e[1], e[2])
        }), i && (en[i] = function () {
            return this.localeData().ordinal(s.apply(this, arguments), t)
        })
    }

    function R(t) {
        return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "")
    }

    function z(t) {
        var e, i, n = t.match(Qi);
        for (e = 0, i = n.length; i > e; e++) en[n[e]] ? n[e] = en[n[e]] : n[e] = R(n[e]);
        return function (s) {
            var o = "";
            for (e = 0; i > e; e++) o += n[e] instanceof Function ? n[e].call(s, t) : n[e];
            return o
        }
    }

    function O(t, e) {
        return t.isValid() ? (e = L(e, t.localeData()), tn[e] = tn[e] || z(e), tn[e](t)) : t.localeData().invalidDate()
    }

    function L(t, e) {
        function i(t) {
            return e.longDateFormat(t) || t
        }

        var n = 5;
        for (Ji.lastIndex = 0; n >= 0 && Ji.test(t);) t = t.replace(Ji, i), Ji.lastIndex = 0, n -= 1;
        return t
    }

    function B(t, e, i) {
        wn[t] = M(e) ? e : function (t, n) {
            return t && i ? i : e
        }
    }

    function W(t, e) {
        return o(wn, t) ? wn[t](e._strict, e._locale) : new RegExp(Y(t))
    }

    function Y(t) {
        return U(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, i, n, s) {
            return e || i || n || s
        }))
    }

    function U(t) {
        return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }

    function j(t, e) {
        var i, n = e;
        for ("string" == typeof t && (t = [t]), "number" == typeof e && (n = function (t, i) {
            i[e] = v(t)
        }), i = 0; i < t.length; i++) _n[t[i]] = n
    }

    function V(t, e) {
        j(t, function (t, i, n, s) {
            n._w = n._w || {}, e(t, n._w, n, s)
        })
    }

    function $(t, e, i) {
        null != e && o(_n, t) && _n[t](e, i._a, i, t)
    }

    function G(t, e) {
        return new Date(Date.UTC(t, e + 1, 0)).getUTCDate()
    }

    function q(t, e) {
        return i(this._months) ? this._months[t.month()] : this._months[In.test(e) ? "format" : "standalone"][t.month()]
    }

    function K(t, e) {
        return i(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[In.test(e) ? "format" : "standalone"][t.month()]
    }

    function X(t, e, i) {
        var n, s, o;
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), n = 0; 12 > n; n++) {
            if (s = a([2e3, n]), i && !this._longMonthsParse[n] && (this._longMonthsParse[n] = new RegExp("^" + this.months(s, "").replace(".", "") + "$", "i"), this._shortMonthsParse[n] = new RegExp("^" + this.monthsShort(s, "").replace(".", "") + "$", "i")), i || this._monthsParse[n] || (o = "^" + this.months(s, "") + "|^" + this.monthsShort(s, ""), this._monthsParse[n] = new RegExp(o.replace(".", ""), "i")), i && "MMMM" === e && this._longMonthsParse[n].test(t)) return n;
            if (i && "MMM" === e && this._shortMonthsParse[n].test(t)) return n;
            if (!i && this._monthsParse[n].test(t)) return n
        }
    }

    function Z(t, e) {
        var i;
        return t.isValid() ? "string" == typeof e && (e = t.localeData().monthsParse(e), "number" != typeof e) ? t : (i = Math.min(t.date(), G(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, i), t) : t
    }

    function Q(e) {
        return null != e ? (Z(this, e), t.updateOffset(this, !0), this) : I(this, "Month")
    }

    function J() {
        return G(this.year(), this.month())
    }

    function tt(t) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || it.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex
    }

    function et(t) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || it.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex
    }

    function it() {
        function t(t, e) {
            return e.length - t.length
        }

        var e, i, n = [], s = [], o = [];
        for (e = 0; 12 > e; e++) i = a([2e3, e]), n.push(this.monthsShort(i, "")), s.push(this.months(i, "")), o.push(this.months(i, "")), o.push(this.monthsShort(i, ""));
        for (n.sort(t), s.sort(t), o.sort(t), e = 0; 12 > e; e++) n[e] = U(n[e]), s[e] = U(s[e]), o[e] = U(o[e]);
        this._monthsRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + s.join("|") + ")$", "i"), this._monthsShortStrictRegex = new RegExp("^(" + n.join("|") + ")$", "i")
    }

    function nt(t) {
        var e, i = t._a;
        return i && -2 === h(t).overflow && (e = i[kn] < 0 || i[kn] > 11 ? kn : i[Cn] < 1 || i[Cn] > G(i[xn], i[kn]) ? Cn : i[Dn] < 0 || i[Dn] > 24 || 24 === i[Dn] && (0 !== i[Sn] || 0 !== i[Tn] || 0 !== i[En]) ? Dn : i[Sn] < 0 || i[Sn] > 59 ? Sn : i[Tn] < 0 || i[Tn] > 59 ? Tn : i[En] < 0 || i[En] > 999 ? En : -1, h(t)._overflowDayOfYear && (xn > e || e > Cn) && (e = Cn), h(t)._overflowWeeks && -1 === e && (e = Mn), h(t)._overflowWeekday && -1 === e && (e = Nn), h(t).overflow = e), t
    }

    function st(e) {
        t.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
    }

    function ot(t, e) {
        var i = !0;
        return r(function () {
            return i && (st(t + "\nArguments: " + Array.prototype.slice.call(arguments).join(", ") + "\n" + (new Error).stack), i = !1), e.apply(this, arguments)
        }, e)
    }

    function rt(t, e) {
        Rn[t] || (st(e), Rn[t] = !0)
    }

    function at(t) {
        var e, i, n, s, o, r, a = t._i, l = zn.exec(a) || On.exec(a);
        if (l) {
            for (h(t).iso = !0, e = 0, i = Bn.length; i > e; e++) if (Bn[e][1].exec(l[1])) {
                s = Bn[e][0], n = Bn[e][2] !== !1;
                break
            }
            if (null == s) return void(t._isValid = !1);
            if (l[3]) {
                for (e = 0, i = Wn.length; i > e; e++) if (Wn[e][1].exec(l[3])) {
                    o = (l[2] || " ") + Wn[e][0];
                    break
                }
                if (null == o) return void(t._isValid = !1)
            }
            if (!n && null != o) return void(t._isValid = !1);
            if (l[4]) {
                if (!Ln.exec(l[4])) return void(t._isValid = !1);
                r = "Z"
            }
            t._f = s + (o || "") + (r || ""), xt(t)
        } else t._isValid = !1
    }

    function lt(e) {
        var i = Yn.exec(e._i);
        return null !== i ? void(e._d = new Date(+i[1])) : (at(e), void(e._isValid === !1 && (delete e._isValid, t.createFromInputFallback(e))))
    }

    function ht(t, e, i, n, s, o, r) {
        var a = new Date(t, e, i, n, s, o, r);
        return 100 > t && t >= 0 && isFinite(a.getFullYear()) && a.setFullYear(t), a
    }

    function ut(t) {
        var e = new Date(Date.UTC.apply(null, arguments));
        return 100 > t && t >= 0 && isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t), e
    }

    function ct(t) {
        return dt(t) ? 366 : 365
    }

    function dt(t) {
        return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0
    }

    function ft() {
        return dt(this.year())
    }

    function pt(t, e, i) {
        var n = 7 + e - i, s = (7 + ut(t, 0, n).getUTCDay() - e) % 7;
        return -s + n - 1
    }

    function gt(t, e, i, n, s) {
        var o, r, a = (7 + i - n) % 7, l = pt(t, n, s), h = 1 + 7 * (e - 1) + a + l;
        return 0 >= h ? (o = t - 1, r = ct(o) + h) : h > ct(t) ? (o = t + 1, r = h - ct(t)) : (o = t, r = h), {
            year: o,
            dayOfYear: r
        }
    }

    function mt(t, e, i) {
        var n, s, o = pt(t.year(), e, i), r = Math.floor((t.dayOfYear() - o - 1) / 7) + 1;
        return 1 > r ? (s = t.year() - 1, n = r + vt(s, e, i)) : r > vt(t.year(), e, i) ? (n = r - vt(t.year(), e, i), s = t.year() + 1) : (s = t.year(), n = r), {
            week: n,
            year: s
        }
    }

    function vt(t, e, i) {
        var n = pt(t, e, i), s = pt(t + 1, e, i);
        return (ct(t) - n + s) / 7
    }

    function yt(t, e, i) {
        return null != t ? t : null != e ? e : i
    }

    function bt(e) {
        var i = new Date(t.now());
        return e._useUTC ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()] : [i.getFullYear(), i.getMonth(), i.getDate()]
    }

    function wt(t) {
        var e, i, n, s, o = [];
        if (!t._d) {
            for (n = bt(t), t._w && null == t._a[Cn] && null == t._a[kn] && _t(t), t._dayOfYear && (s = yt(t._a[xn], n[xn]), t._dayOfYear > ct(s) && (h(t)._overflowDayOfYear = !0), i = ut(s, 0, t._dayOfYear), t._a[kn] = i.getUTCMonth(), t._a[Cn] = i.getUTCDate()), e = 0; 3 > e && null == t._a[e]; ++e) t._a[e] = o[e] = n[e];
            for (; 7 > e; e++) t._a[e] = o[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e];
            24 === t._a[Dn] && 0 === t._a[Sn] && 0 === t._a[Tn] && 0 === t._a[En] && (t._nextDay = !0, t._a[Dn] = 0), t._d = (t._useUTC ? ut : ht).apply(null, o), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[Dn] = 24)
        }
    }

    function _t(t) {
        var e, i, n, s, o, r, a, l;
        e = t._w, null != e.GG || null != e.W || null != e.E ? (o = 1, r = 4, i = yt(e.GG, t._a[xn], mt(Nt(), 1, 4).year), n = yt(e.W, 1), s = yt(e.E, 1), (1 > s || s > 7) && (l = !0)) : (o = t._locale._week.dow, r = t._locale._week.doy, i = yt(e.gg, t._a[xn], mt(Nt(), o, r).year), n = yt(e.w, 1), null != e.d ? (s = e.d, (0 > s || s > 6) && (l = !0)) : null != e.e ? (s = e.e + o, (e.e < 0 || e.e > 6) && (l = !0)) : s = o), 1 > n || n > vt(i, o, r) ? h(t)._overflowWeeks = !0 : null != l ? h(t)._overflowWeekday = !0 : (a = gt(i, n, s, o, r), t._a[xn] = a.year, t._dayOfYear = a.dayOfYear)
    }

    function xt(e) {
        if (e._f === t.ISO_8601) return void at(e);
        e._a = [], h(e).empty = !0;
        var i, n, s, o, r, a = "" + e._i, l = a.length, u = 0;
        for (s = L(e._f, e._locale).match(Qi) || [], i = 0; i < s.length; i++) o = s[i], n = (a.match(W(o, e)) || [])[0], n && (r = a.substr(0, a.indexOf(n)), r.length > 0 && h(e).unusedInput.push(r), a = a.slice(a.indexOf(n) + n.length), u += n.length), en[o] ? (n ? h(e).empty = !1 : h(e).unusedTokens.push(o), $(o, n, e)) : e._strict && !n && h(e).unusedTokens.push(o);
        h(e).charsLeftOver = l - u, a.length > 0 && h(e).unusedInput.push(a), h(e).bigHour === !0 && e._a[Dn] <= 12 && e._a[Dn] > 0 && (h(e).bigHour = void 0), e._a[Dn] = kt(e._locale, e._a[Dn], e._meridiem), wt(e), nt(e)
    }

    function kt(t, e, i) {
        var n;
        return null == i ? e : null != t.meridiemHour ? t.meridiemHour(e, i) : null != t.isPM ? (n = t.isPM(i), n && 12 > e && (e += 12), n || 12 !== e || (e = 0), e) : e
    }

    function Ct(t) {
        var e, i, n, s, o;
        if (0 === t._f.length) return h(t).invalidFormat = !0, void(t._d = new Date(NaN));
        for (s = 0; s < t._f.length; s++) o = 0, e = f({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[s], xt(e), u(e) && (o += h(e).charsLeftOver, o += 10 * h(e).unusedTokens.length, h(e).score = o, (null == n || n > o) && (n = o, i = e));
        r(t, i || e)
    }

    function Dt(t) {
        if (!t._d) {
            var e = E(t._i);
            t._a = s([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function (t) {
                return t && parseInt(t, 10)
            }), wt(t)
        }
    }

    function St(t) {
        var e = new p(nt(Tt(t)));
        return e._nextDay && (e.add(1, "d"), e._nextDay = void 0), e
    }

    function Tt(t) {
        var e = t._i, s = t._f;
        return t._locale = t._locale || D(t._l), null === e || void 0 === s && "" === e ? c({nullInput: !0}) : ("string" == typeof e && (t._i = e = t._locale.preparse(e)), g(e) ? new p(nt(e)) : (i(s) ? Ct(t) : s ? xt(t) : n(e) ? t._d = e : Et(t), u(t) || (t._d = null), t))
    }

    function Et(e) {
        var o = e._i;
        void 0 === o ? e._d = new Date(t.now()) : n(o) ? e._d = new Date(+o) : "string" == typeof o ? lt(e) : i(o) ? (e._a = s(o.slice(0), function (t) {
            return parseInt(t, 10)
        }), wt(e)) : "object" == typeof o ? Dt(e) : "number" == typeof o ? e._d = new Date(o) : t.createFromInputFallback(e)
    }

    function Mt(t, e, i, n, s) {
        var o = {};
        return "boolean" == typeof i && (n = i, i = void 0), o._isAMomentObject = !0, o._useUTC = o._isUTC = s, o._l = i, o._i = t, o._f = e, o._strict = n, St(o)
    }

    function Nt(t, e, i, n) {
        return Mt(t, e, i, n, !1)
    }

    function It(t, e) {
        var n, s;
        if (1 === e.length && i(e[0]) && (e = e[0]), !e.length) return Nt();
        for (n = e[0], s = 1; s < e.length; ++s) (!e[s].isValid() || e[s][t](n)) && (n = e[s]);
        return n
    }

    function Ht() {
        var t = [].slice.call(arguments, 0);
        return It("isBefore", t)
    }

    function Pt() {
        var t = [].slice.call(arguments, 0);
        return It("isAfter", t)
    }

    function At(t) {
        var e = E(t), i = e.year || 0, n = e.quarter || 0, s = e.month || 0, o = e.week || 0, r = e.day || 0,
            a = e.hour || 0, l = e.minute || 0, h = e.second || 0, u = e.millisecond || 0;
        this._milliseconds = +u + 1e3 * h + 6e4 * l + 36e5 * a, this._days = +r + 7 * o, this._months = +s + 3 * n + 12 * i, this._data = {}, this._locale = D(), this._bubble()
    }

    function Ft(t) {
        return t instanceof At
    }

    function Rt(t, e) {
        F(t, 0, 0, function () {
            var t = this.utcOffset(), i = "+";
            return 0 > t && (t = -t, i = "-"), i + A(~~(t / 60), 2) + e + A(~~t % 60, 2)
        })
    }

    function zt(t, e) {
        var i = (e || "").match(t) || [], n = i[i.length - 1] || [], s = (n + "").match(Gn) || ["-", 0, 0],
            o = +(60 * s[1]) + v(s[2]);
        return "+" === s[0] ? o : -o
    }

    function Ot(e, i) {
        var s, o;
        return i._isUTC ? (s = i.clone(), o = (g(e) || n(e) ? +e : +Nt(e)) - +s, s._d.setTime(+s._d + o), t.updateOffset(s, !1), s) : Nt(e).local()
    }

    function Lt(t) {
        return 15 * -Math.round(t._d.getTimezoneOffset() / 15)
    }

    function Bt(e, i) {
        var n, s = this._offset || 0;
        return this.isValid() ? null != e ? ("string" == typeof e ? e = zt(vn, e) : Math.abs(e) < 16 && (e = 60 * e), !this._isUTC && i && (n = Lt(this)), this._offset = e, this._isUTC = !0, null != n && this.add(n, "m"), s !== e && (!i || this._changeInProgress ? ie(this, Zt(e - s, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, t.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? s : Lt(this) : null != e ? this : NaN
    }

    function Wt(t, e) {
        return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset()
    }

    function Yt(t) {
        return this.utcOffset(0, t)
    }

    function Ut(t) {
        return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(Lt(this), "m")), this
    }

    function jt() {
        return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(zt(mn, this._i)), this
    }

    function Vt(t) {
        return this.isValid() ? (t = t ? Nt(t).utcOffset() : 0, (this.utcOffset() - t) % 60 === 0) : !1
    }

    function $t() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }

    function Gt() {
        if (!d(this._isDSTShifted)) return this._isDSTShifted;
        var t = {};
        if (f(t, this), t = Tt(t), t._a) {
            var e = t._isUTC ? a(t._a) : Nt(t._a);
            this._isDSTShifted = this.isValid() && y(t._a, e.toArray()) > 0
        } else this._isDSTShifted = !1;
        return this._isDSTShifted
    }

    function qt() {
        return this.isValid() ? !this._isUTC : !1
    }

    function Kt() {
        return this.isValid() ? this._isUTC : !1
    }

    function Xt() {
        return this.isValid() ? this._isUTC && 0 === this._offset : !1
    }

    function Zt(t, e) {
        var i, n, s, r = t, a = null;
        return Ft(t) ? r = {
            ms: t._milliseconds,
            d: t._days,
            M: t._months
        } : "number" == typeof t ? (r = {}, e ? r[e] = t : r.milliseconds = t) : (a = qn.exec(t)) ? (i = "-" === a[1] ? -1 : 1, r = {
            y: 0,
            d: v(a[Cn]) * i,
            h: v(a[Dn]) * i,
            m: v(a[Sn]) * i,
            s: v(a[Tn]) * i,
            ms: v(a[En]) * i
        }) : (a = Kn.exec(t)) ? (i = "-" === a[1] ? -1 : 1, r = {
            y: Qt(a[2], i),
            M: Qt(a[3], i),
            d: Qt(a[4], i),
            h: Qt(a[5], i),
            m: Qt(a[6], i),
            s: Qt(a[7], i),
            w: Qt(a[8], i)
        }) : null == r ? r = {} : "object" == typeof r && ("from" in r || "to" in r) && (s = te(Nt(r.from), Nt(r.to)), r = {}, r.ms = s.milliseconds, r.M = s.months), n = new At(r), Ft(t) && o(t, "_locale") && (n._locale = t._locale), n
    }

    function Qt(t, e) {
        var i = t && parseFloat(t.replace(",", "."));
        return (isNaN(i) ? 0 : i) * e
    }

    function Jt(t, e) {
        var i = {milliseconds: 0, months: 0};
        return i.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(i.months, "M").isAfter(e) && --i.months, i.milliseconds = +e - +t.clone().add(i.months, "M"), i
    }

    function te(t, e) {
        var i;
        return t.isValid() && e.isValid() ? (e = Ot(e, t), t.isBefore(e) ? i = Jt(t, e) : (i = Jt(e, t), i.milliseconds = -i.milliseconds, i.months = -i.months), i) : {
            milliseconds: 0,
            months: 0
        }
    }

    function ee(t, e) {
        return function (i, n) {
            var s, o;
            return null === n || isNaN(+n) || (rt(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period)."), o = i, i = n, n = o), i = "string" == typeof i ? +i : i, s = Zt(i, n), ie(this, s, t), this
        }
    }

    function ie(e, i, n, s) {
        var o = i._milliseconds, r = i._days, a = i._months;
        e.isValid() && (s = null == s ? !0 : s, o && e._d.setTime(+e._d + o * n), r && H(e, "Date", I(e, "Date") + r * n), a && Z(e, I(e, "Month") + a * n), s && t.updateOffset(e, r || a))
    }

    function ne(t, e) {
        var i = t || Nt(), n = Ot(i, this).startOf("day"), s = this.diff(n, "days", !0),
            o = -6 > s ? "sameElse" : -1 > s ? "lastWeek" : 0 > s ? "lastDay" : 1 > s ? "sameDay" : 2 > s ? "nextDay" : 7 > s ? "nextWeek" : "sameElse",
            r = e && (M(e[o]) ? e[o]() : e[o]);
        return this.format(r || this.localeData().calendar(o, this, Nt(i)))
    }

    function se() {
        return new p(this)
    }

    function oe(t, e) {
        var i = g(t) ? t : Nt(t);
        return this.isValid() && i.isValid() ? (e = T(d(e) ? "millisecond" : e), "millisecond" === e ? +this > +i : +i < +this.clone().startOf(e)) : !1
    }

    function re(t, e) {
        var i = g(t) ? t : Nt(t);
        return this.isValid() && i.isValid() ? (e = T(d(e) ? "millisecond" : e), "millisecond" === e ? +i > +this : +this.clone().endOf(e) < +i) : !1
    }

    function ae(t, e, i) {
        return this.isAfter(t, i) && this.isBefore(e, i)
    }

    function le(t, e) {
        var i, n = g(t) ? t : Nt(t);
        return this.isValid() && n.isValid() ? (e = T(e || "millisecond"), "millisecond" === e ? +this === +n : (i = +n, +this.clone().startOf(e) <= i && i <= +this.clone().endOf(e))) : !1
    }

    function he(t, e) {
        return this.isSame(t, e) || this.isAfter(t, e)
    }

    function ue(t, e) {
        return this.isSame(t, e) || this.isBefore(t, e)
    }

    function ce(t, e, i) {
        var n, s, o, r;
        return this.isValid() ? (n = Ot(t, this), n.isValid() ? (s = 6e4 * (n.utcOffset() - this.utcOffset()), e = T(e), "year" === e || "month" === e || "quarter" === e ? (r = de(this, n), "quarter" === e ? r /= 3 : "year" === e && (r /= 12)) : (o = this - n, r = "second" === e ? o / 1e3 : "minute" === e ? o / 6e4 : "hour" === e ? o / 36e5 : "day" === e ? (o - s) / 864e5 : "week" === e ? (o - s) / 6048e5 : o), i ? r : m(r)) : NaN) : NaN
    }

    function de(t, e) {
        var i, n, s = 12 * (e.year() - t.year()) + (e.month() - t.month()), o = t.clone().add(s, "months");
        return 0 > e - o ? (i = t.clone().add(s - 1, "months"), n = (e - o) / (o - i)) : (i = t.clone().add(s + 1, "months"), n = (e - o) / (i - o)), -(s + n)
    }

    function fe() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }

    function pe() {
        var t = this.clone().utc();
        return 0 < t.year() && t.year() <= 9999 ? M(Date.prototype.toISOString) ? this.toDate().toISOString() : O(t, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : O(t, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
    }

    function ge(e) {
        var i = O(this, e || t.defaultFormat);
        return this.localeData().postformat(i)
    }

    function me(t, e) {
        return this.isValid() && (g(t) && t.isValid() || Nt(t).isValid()) ? Zt({
            to: this,
            from: t
        }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
    }

    function ve(t) {
        return this.from(Nt(), t)
    }

    function ye(t, e) {
        return this.isValid() && (g(t) && t.isValid() || Nt(t).isValid()) ? Zt({
            from: this,
            to: t
        }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
    }

    function be(t) {
        return this.to(Nt(), t)
    }

    function we(t) {
        var e;
        return void 0 === t ? this._locale._abbr : (e = D(t), null != e && (this._locale = e), this)
    }

    function _e() {
        return this._locale
    }

    function xe(t) {
        switch (t = T(t)) {
            case"year":
                this.month(0);
            case"quarter":
            case"month":
                this.date(1);
            case"week":
            case"isoWeek":
            case"day":
                this.hours(0);
            case"hour":
                this.minutes(0);
            case"minute":
                this.seconds(0);
            case"second":
                this.milliseconds(0)
        }
        return "week" === t && this.weekday(0), "isoWeek" === t && this.isoWeekday(1), "quarter" === t && this.month(3 * Math.floor(this.month() / 3)), this
    }

    function ke(t) {
        return t = T(t), void 0 === t || "millisecond" === t ? this : this.startOf(t).add(1, "isoWeek" === t ? "week" : t).subtract(1, "ms")
    }

    function Ce() {
        return +this._d - 6e4 * (this._offset || 0)
    }

    function De() {
        return Math.floor(+this / 1e3)
    }

    function Se() {
        return this._offset ? new Date(+this) : this._d
    }

    function Te() {
        var t = this;
        return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()]
    }

    function Ee() {
        var t = this;
        return {
            years: t.year(),
            months: t.month(),
            date: t.date(),
            hours: t.hours(),
            minutes: t.minutes(),
            seconds: t.seconds(),
            milliseconds: t.milliseconds()
        }
    }

    function Me() {
        return this.isValid() ? this.toISOString() : "null"
    }

    function Ne() {
        return u(this)
    }

    function Ie() {
        return r({}, h(this))
    }

    function He() {
        return h(this).overflow
    }

    function Pe() {
        return {input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict}
    }

    function Ae(t, e) {
        F(0, [t, t.length], 0, e)
    }

    function Fe(t) {
        return Le.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
    }

    function Re(t) {
        return Le.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4)
    }

    function ze() {
        return vt(this.year(), 1, 4)
    }

    function Oe() {
        var t = this.localeData()._week;
        return vt(this.year(), t.dow, t.doy)
    }

    function Le(t, e, i, n, s) {
        var o;
        return null == t ? mt(this, n, s).year : (o = vt(t, n, s), e > o && (e = o), Be.call(this, t, e, i, n, s))
    }

    function Be(t, e, i, n, s) {
        var o = gt(t, e, i, n, s), r = ut(o.year, 0, o.dayOfYear);
        return this.year(r.getUTCFullYear()), this.month(r.getUTCMonth()), this.date(r.getUTCDate()), this
    }

    function We(t) {
        return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3)
    }

    function Ye(t) {
        return mt(t, this._week.dow, this._week.doy).week
    }

    function Ue() {
        return this._week.dow
    }

    function je() {
        return this._week.doy
    }

    function Ve(t) {
        var e = this.localeData().week(this);
        return null == t ? e : this.add(7 * (t - e), "d")
    }

    function $e(t) {
        var e = mt(this, 1, 4).week;
        return null == t ? e : this.add(7 * (t - e), "d")
    }

    function Ge(t, e) {
        return "string" != typeof t ? t : isNaN(t) ? (t = e.weekdaysParse(t), "number" == typeof t ? t : null) : parseInt(t, 10)
    }

    function qe(t, e) {
        return i(this._weekdays) ? this._weekdays[t.day()] : this._weekdays[this._weekdays.isFormat.test(e) ? "format" : "standalone"][t.day()]
    }

    function Ke(t) {
        return this._weekdaysShort[t.day()]
    }

    function Xe(t) {
        return this._weekdaysMin[t.day()]
    }

    function Ze(t, e, i) {
        var n, s, o;
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), n = 0; 7 > n; n++) {
            if (s = Nt([2e3, 1]).day(n), i && !this._fullWeekdaysParse[n] && (this._fullWeekdaysParse[n] = new RegExp("^" + this.weekdays(s, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[n] = new RegExp("^" + this.weekdaysShort(s, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[n] = new RegExp("^" + this.weekdaysMin(s, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[n] || (o = "^" + this.weekdays(s, "") + "|^" + this.weekdaysShort(s, "") + "|^" + this.weekdaysMin(s, ""), this._weekdaysParse[n] = new RegExp(o.replace(".", ""), "i")), i && "dddd" === e && this._fullWeekdaysParse[n].test(t)) return n;
            if (i && "ddd" === e && this._shortWeekdaysParse[n].test(t)) return n;
            if (i && "dd" === e && this._minWeekdaysParse[n].test(t)) return n;
            if (!i && this._weekdaysParse[n].test(t)) return n
        }
    }

    function Qe(t) {
        if (!this.isValid()) return null != t ? this : NaN;
        var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != t ? (t = Ge(t, this.localeData()), this.add(t - e, "d")) : e
    }

    function Je(t) {
        if (!this.isValid()) return null != t ? this : NaN;
        var e = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == t ? e : this.add(t - e, "d")
    }

    function ti(t) {
        return this.isValid() ? null == t ? this.day() || 7 : this.day(this.day() % 7 ? t : t - 7) : null != t ? this : NaN
    }

    function ei(t) {
        var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == t ? e : this.add(t - e, "d")
    }

    function ii() {
        return this.hours() % 12 || 12
    }

    function ni(t, e) {
        F(t, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), e)
        })
    }

    function si(t, e) {
        return e._meridiemParse
    }

    function oi(t) {
        return "p" === (t + "").toLowerCase().charAt(0)
    }

    function ri(t, e, i) {
        return t > 11 ? i ? "pm" : "PM" : i ? "am" : "AM"
    }

    function ai(t, e) {
        e[En] = v(1e3 * ("0." + t))
    }

    function li() {
        return this._isUTC ? "UTC" : ""
    }

    function hi() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }

    function ui(t) {
        return Nt(1e3 * t)
    }

    function ci() {
        return Nt.apply(null, arguments).parseZone()
    }

    function di(t, e, i) {
        var n = this._calendar[t];
        return M(n) ? n.call(e, i) : n
    }

    function fi(t) {
        var e = this._longDateFormat[t], i = this._longDateFormat[t.toUpperCase()];
        return e || !i ? e : (this._longDateFormat[t] = i.replace(/MMMM|MM|DD|dddd/g, function (t) {
            return t.slice(1)
        }), this._longDateFormat[t])
    }

    function pi() {
        return this._invalidDate
    }

    function gi(t) {
        return this._ordinal.replace("%d", t)
    }

    function mi(t) {
        return t
    }

    function vi(t, e, i, n) {
        var s = this._relativeTime[i];
        return M(s) ? s(t, e, i, n) : s.replace(/%d/i, t)
    }

    function yi(t, e) {
        var i = this._relativeTime[t > 0 ? "future" : "past"];
        return M(i) ? i(e) : i.replace(/%s/i, e)
    }

    function bi(t) {
        var e, i;
        for (i in t) e = t[i], M(e) ? this[i] = e : this["_" + i] = e;
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    }

    function wi(t, e, i, n) {
        var s = D(), o = a().set(n, e);
        return s[i](o, t)
    }

    function _i(t, e, i, n, s) {
        if ("number" == typeof t && (e = t, t = void 0), t = t || "", null != e) return wi(t, e, i, s);
        var o, r = [];
        for (o = 0; n > o; o++) r[o] = wi(t, o, i, s);
        return r
    }

    function xi(t, e) {
        return _i(t, e, "months", 12, "month")
    }

    function ki(t, e) {
        return _i(t, e, "monthsShort", 12, "month")
    }

    function Ci(t, e) {
        return _i(t, e, "weekdays", 7, "day")
    }

    function Di(t, e) {
        return _i(t, e, "weekdaysShort", 7, "day")
    }

    function Si(t, e) {
        return _i(t, e, "weekdaysMin", 7, "day")
    }

    function Ti() {
        var t = this._data;
        return this._milliseconds = bs(this._milliseconds), this._days = bs(this._days), this._months = bs(this._months), t.milliseconds = bs(t.milliseconds), t.seconds = bs(t.seconds), t.minutes = bs(t.minutes), t.hours = bs(t.hours), t.months = bs(t.months), t.years = bs(t.years), this
    }

    function Ei(t, e, i, n) {
        var s = Zt(e, i);
        return t._milliseconds += n * s._milliseconds, t._days += n * s._days, t._months += n * s._months, t._bubble()
    }

    function Mi(t, e) {
        return Ei(this, t, e, 1)
    }

    function Ni(t, e) {
        return Ei(this, t, e, -1)
    }

    function Ii(t) {
        return 0 > t ? Math.floor(t) : Math.ceil(t)
    }

    function Hi() {
        var t, e, i, n, s, o = this._milliseconds, r = this._days, a = this._months, l = this._data;
        return o >= 0 && r >= 0 && a >= 0 || 0 >= o && 0 >= r && 0 >= a || (o += 864e5 * Ii(Ai(a) + r), r = 0, a = 0), l.milliseconds = o % 1e3, t = m(o / 1e3), l.seconds = t % 60, e = m(t / 60), l.minutes = e % 60, i = m(e / 60), l.hours = i % 24, r += m(i / 24), s = m(Pi(r)), a += s, r -= Ii(Ai(s)), n = m(a / 12), a %= 12, l.days = r, l.months = a, l.years = n, this
    }

    function Pi(t) {
        return 4800 * t / 146097
    }

    function Ai(t) {
        return 146097 * t / 4800
    }

    function Fi(t) {
        var e, i, n = this._milliseconds;
        if (t = T(t), "month" === t || "year" === t) return e = this._days + n / 864e5, i = this._months + Pi(e), "month" === t ? i : i / 12;
        switch (e = this._days + Math.round(Ai(this._months)), t) {
            case"week":
                return e / 7 + n / 6048e5;
            case"day":
                return e + n / 864e5;
            case"hour":
                return 24 * e + n / 36e5;
            case"minute":
                return 1440 * e + n / 6e4;
            case"second":
                return 86400 * e + n / 1e3;
            case"millisecond":
                return Math.floor(864e5 * e) + n;
            default:
                throw new Error("Unknown unit " + t)
        }
    }

    function Ri() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * v(this._months / 12);
    }

    function zi(t) {
        return function () {
            return this.as(t)
        }
    }

    function Oi(t) {
        return t = T(t), this[t + "s"]()
    }

    function Li(t) {
        return function () {
            return this._data[t]
        }
    }

    function Bi() {
        return m(this.days() / 7)
    }

    function Wi(t, e, i, n, s) {
        return s.relativeTime(e || 1, !!i, t, n)
    }

    function Yi(t, e, i) {
        var n = Zt(t).abs(), s = Fs(n.as("s")), o = Fs(n.as("m")), r = Fs(n.as("h")), a = Fs(n.as("d")),
            l = Fs(n.as("M")), h = Fs(n.as("y")),
            u = s < Rs.s && ["s", s] || 1 >= o && ["m"] || o < Rs.m && ["mm", o] || 1 >= r && ["h"] || r < Rs.h && ["hh", r] || 1 >= a && ["d"] || a < Rs.d && ["dd", a] || 1 >= l && ["M"] || l < Rs.M && ["MM", l] || 1 >= h && ["y"] || ["yy", h];
        return u[2] = e, u[3] = +t > 0, u[4] = i, Wi.apply(null, u)
    }

    function Ui(t, e) {
        return void 0 === Rs[t] ? !1 : void 0 === e ? Rs[t] : (Rs[t] = e, !0)
    }

    function ji(t) {
        var e = this.localeData(), i = Yi(this, !t, e);
        return t && (i = e.pastFuture(+this, i)), e.postformat(i)
    }

    function Vi() {
        var t, e, i, n = zs(this._milliseconds) / 1e3, s = zs(this._days), o = zs(this._months);
        t = m(n / 60), e = m(t / 60), n %= 60, t %= 60, i = m(o / 12), o %= 12;
        var r = i, a = o, l = s, h = e, u = t, c = n, d = this.asSeconds();
        return d ? (0 > d ? "-" : "") + "P" + (r ? r + "Y" : "") + (a ? a + "M" : "") + (l ? l + "D" : "") + (h || u || c ? "T" : "") + (h ? h + "H" : "") + (u ? u + "M" : "") + (c ? c + "S" : "") : "P0D"
    }

    var $i, Gi, qi = t.momentProperties = [], Ki = !1, Xi = {}, Zi = {},
        Qi = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
        Ji = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, tn = {}, en = {}, nn = /\d/, sn = /\d\d/, on = /\d{3}/,
        rn = /\d{4}/, an = /[+-]?\d{6}/, ln = /\d\d?/, hn = /\d\d\d\d?/, un = /\d\d\d\d\d\d?/, cn = /\d{1,3}/,
        dn = /\d{1,4}/, fn = /[+-]?\d{1,6}/, pn = /\d+/, gn = /[+-]?\d+/, mn = /Z|[+-]\d\d:?\d\d/gi,
        vn = /Z|[+-]\d\d(?::?\d\d)?/gi, yn = /[+-]?\d+(\.\d{1,3})?/,
        bn = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
        wn = {}, _n = {}, xn = 0, kn = 1, Cn = 2, Dn = 3, Sn = 4, Tn = 5, En = 6, Mn = 7, Nn = 8;
    F("M", ["MM", 2], "Mo", function () {
        return this.month() + 1
    }), F("MMM", 0, 0, function (t) {
        return this.localeData().monthsShort(this, t)
    }), F("MMMM", 0, 0, function (t) {
        return this.localeData().months(this, t)
    }), S("month", "M"), B("M", ln), B("MM", ln, sn), B("MMM", function (t, e) {
        return e.monthsShortRegex(t)
    }), B("MMMM", function (t, e) {
        return e.monthsRegex(t)
    }), j(["M", "MM"], function (t, e) {
        e[kn] = v(t) - 1
    }), j(["MMM", "MMMM"], function (t, e, i, n) {
        var s = i._locale.monthsParse(t, n, i._strict);
        null != s ? e[kn] = s : h(i).invalidMonth = t
    });
    var In = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,
        Hn = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        Pn = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), An = bn, Fn = bn, Rn = {};
    t.suppressDeprecationWarnings = !1;
    var zn = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,
        On = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,
        Ln = /Z|[+-]\d\d(?::?\d\d)?/,
        Bn = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]],
        Wn = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]],
        Yn = /^\/?Date\((\-?\d+)/i;
    t.createFromInputFallback = ot("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function (t) {
        t._d = new Date(t._i + (t._useUTC ? " UTC" : ""))
    }), F("Y", 0, 0, function () {
        var t = this.year();
        return 9999 >= t ? "" + t : "+" + t
    }), F(0, ["YY", 2], 0, function () {
        return this.year() % 100
    }), F(0, ["YYYY", 4], 0, "year"), F(0, ["YYYYY", 5], 0, "year"), F(0, ["YYYYYY", 6, !0], 0, "year"), S("year", "y"), B("Y", gn), B("YY", ln, sn), B("YYYY", dn, rn), B("YYYYY", fn, an), B("YYYYYY", fn, an), j(["YYYYY", "YYYYYY"], xn), j("YYYY", function (e, i) {
        i[xn] = 2 === e.length ? t.parseTwoDigitYear(e) : v(e)
    }), j("YY", function (e, i) {
        i[xn] = t.parseTwoDigitYear(e)
    }), j("Y", function (t, e) {
        e[xn] = parseInt(t, 10)
    }), t.parseTwoDigitYear = function (t) {
        return v(t) + (v(t) > 68 ? 1900 : 2e3)
    };
    var Un = N("FullYear", !1);
    t.ISO_8601 = function () {
    };
    var jn = ot("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function () {
            var t = Nt.apply(null, arguments);
            return this.isValid() && t.isValid() ? this > t ? this : t : c()
        }),
        Vn = ot("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function () {
            var t = Nt.apply(null, arguments);
            return this.isValid() && t.isValid() ? t > this ? this : t : c()
        }), $n = function () {
            return Date.now ? Date.now() : +new Date
        };
    Rt("Z", ":"), Rt("ZZ", ""), B("Z", vn), B("ZZ", vn), j(["Z", "ZZ"], function (t, e, i) {
        i._useUTC = !0, i._tzm = zt(vn, t)
    });
    var Gn = /([\+\-]|\d\d)/gi;
    t.updateOffset = function () {
    };
    var qn = /(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,
        Kn = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
    Zt.fn = At.prototype;
    var Xn = ee(1, "add"), Zn = ee(-1, "subtract");
    t.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
    var Qn = ot("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) {
        return void 0 === t ? this.localeData() : this.locale(t)
    });
    F(0, ["gg", 2], 0, function () {
        return this.weekYear() % 100
    }), F(0, ["GG", 2], 0, function () {
        return this.isoWeekYear() % 100
    }), Ae("gggg", "weekYear"), Ae("ggggg", "weekYear"), Ae("GGGG", "isoWeekYear"), Ae("GGGGG", "isoWeekYear"), S("weekYear", "gg"), S("isoWeekYear", "GG"), B("G", gn), B("g", gn), B("GG", ln, sn), B("gg", ln, sn), B("GGGG", dn, rn), B("gggg", dn, rn), B("GGGGG", fn, an), B("ggggg", fn, an), V(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, i, n) {
        e[n.substr(0, 2)] = v(t)
    }), V(["gg", "GG"], function (e, i, n, s) {
        i[s] = t.parseTwoDigitYear(e)
    }), F("Q", 0, "Qo", "quarter"), S("quarter", "Q"), B("Q", nn), j("Q", function (t, e) {
        e[kn] = 3 * (v(t) - 1)
    }), F("w", ["ww", 2], "wo", "week"), F("W", ["WW", 2], "Wo", "isoWeek"), S("week", "w"), S("isoWeek", "W"), B("w", ln), B("ww", ln, sn), B("W", ln), B("WW", ln, sn), V(["w", "ww", "W", "WW"], function (t, e, i, n) {
        e[n.substr(0, 1)] = v(t)
    });
    var Jn = {dow: 0, doy: 6};
    F("D", ["DD", 2], "Do", "date"), S("date", "D"), B("D", ln), B("DD", ln, sn), B("Do", function (t, e) {
        return t ? e._ordinalParse : e._ordinalParseLenient
    }), j(["D", "DD"], Cn), j("Do", function (t, e) {
        e[Cn] = v(t.match(ln)[0], 10)
    });
    var ts = N("Date", !0);
    F("d", 0, "do", "day"), F("dd", 0, 0, function (t) {
        return this.localeData().weekdaysMin(this, t)
    }), F("ddd", 0, 0, function (t) {
        return this.localeData().weekdaysShort(this, t)
    }), F("dddd", 0, 0, function (t) {
        return this.localeData().weekdays(this, t)
    }), F("e", 0, 0, "weekday"), F("E", 0, 0, "isoWeekday"), S("day", "d"), S("weekday", "e"), S("isoWeekday", "E"), B("d", ln), B("e", ln), B("E", ln), B("dd", bn), B("ddd", bn), B("dddd", bn), V(["dd", "ddd", "dddd"], function (t, e, i, n) {
        var s = i._locale.weekdaysParse(t, n, i._strict);
        null != s ? e.d = s : h(i).invalidWeekday = t
    }), V(["d", "e", "E"], function (t, e, i, n) {
        e[n] = v(t)
    });
    var es = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        is = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), ns = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
    F("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), S("dayOfYear", "DDD"), B("DDD", cn), B("DDDD", on), j(["DDD", "DDDD"], function (t, e, i) {
        i._dayOfYear = v(t)
    }), F("H", ["HH", 2], 0, "hour"), F("h", ["hh", 2], 0, ii), F("hmm", 0, 0, function () {
        return "" + ii.apply(this) + A(this.minutes(), 2)
    }), F("hmmss", 0, 0, function () {
        return "" + ii.apply(this) + A(this.minutes(), 2) + A(this.seconds(), 2)
    }), F("Hmm", 0, 0, function () {
        return "" + this.hours() + A(this.minutes(), 2)
    }), F("Hmmss", 0, 0, function () {
        return "" + this.hours() + A(this.minutes(), 2) + A(this.seconds(), 2)
    }), ni("a", !0), ni("A", !1), S("hour", "h"), B("a", si), B("A", si), B("H", ln), B("h", ln), B("HH", ln, sn), B("hh", ln, sn), B("hmm", hn), B("hmmss", un), B("Hmm", hn), B("Hmmss", un), j(["H", "HH"], Dn), j(["a", "A"], function (t, e, i) {
        i._isPm = i._locale.isPM(t), i._meridiem = t
    }), j(["h", "hh"], function (t, e, i) {
        e[Dn] = v(t), h(i).bigHour = !0
    }), j("hmm", function (t, e, i) {
        var n = t.length - 2;
        e[Dn] = v(t.substr(0, n)), e[Sn] = v(t.substr(n)), h(i).bigHour = !0
    }), j("hmmss", function (t, e, i) {
        var n = t.length - 4, s = t.length - 2;
        e[Dn] = v(t.substr(0, n)), e[Sn] = v(t.substr(n, 2)), e[Tn] = v(t.substr(s)), h(i).bigHour = !0
    }), j("Hmm", function (t, e, i) {
        var n = t.length - 2;
        e[Dn] = v(t.substr(0, n)), e[Sn] = v(t.substr(n))
    }), j("Hmmss", function (t, e, i) {
        var n = t.length - 4, s = t.length - 2;
        e[Dn] = v(t.substr(0, n)), e[Sn] = v(t.substr(n, 2)), e[Tn] = v(t.substr(s))
    });
    var ss = /[ap]\.?m?\.?/i, os = N("Hours", !0);
    F("m", ["mm", 2], 0, "minute"), S("minute", "m"), B("m", ln), B("mm", ln, sn), j(["m", "mm"], Sn);
    var rs = N("Minutes", !1);
    F("s", ["ss", 2], 0, "second"), S("second", "s"), B("s", ln), B("ss", ln, sn), j(["s", "ss"], Tn);
    var as = N("Seconds", !1);
    F("S", 0, 0, function () {
        return ~~(this.millisecond() / 100)
    }), F(0, ["SS", 2], 0, function () {
        return ~~(this.millisecond() / 10)
    }), F(0, ["SSS", 3], 0, "millisecond"), F(0, ["SSSS", 4], 0, function () {
        return 10 * this.millisecond()
    }), F(0, ["SSSSS", 5], 0, function () {
        return 100 * this.millisecond()
    }), F(0, ["SSSSSS", 6], 0, function () {
        return 1e3 * this.millisecond()
    }), F(0, ["SSSSSSS", 7], 0, function () {
        return 1e4 * this.millisecond()
    }), F(0, ["SSSSSSSS", 8], 0, function () {
        return 1e5 * this.millisecond()
    }), F(0, ["SSSSSSSSS", 9], 0, function () {
        return 1e6 * this.millisecond()
    }), S("millisecond", "ms"), B("S", cn, nn), B("SS", cn, sn), B("SSS", cn, on);
    var ls;
    for (ls = "SSSS"; ls.length <= 9; ls += "S") B(ls, pn);
    for (ls = "S"; ls.length <= 9; ls += "S") j(ls, ai);
    var hs = N("Milliseconds", !1);
    F("z", 0, 0, "zoneAbbr"), F("zz", 0, 0, "zoneName");
    var us = p.prototype;
    us.add = Xn, us.calendar = ne, us.clone = se, us.diff = ce, us.endOf = ke, us.format = ge, us.from = me, us.fromNow = ve, us.to = ye, us.toNow = be, us.get = P, us.invalidAt = He, us.isAfter = oe, us.isBefore = re, us.isBetween = ae, us.isSame = le, us.isSameOrAfter = he, us.isSameOrBefore = ue, us.isValid = Ne, us.lang = Qn, us.locale = we, us.localeData = _e, us.max = Vn, us.min = jn, us.parsingFlags = Ie, us.set = P, us.startOf = xe, us.subtract = Zn, us.toArray = Te, us.toObject = Ee, us.toDate = Se, us.toISOString = pe, us.toJSON = Me, us.toString = fe, us.unix = De, us.valueOf = Ce, us.creationData = Pe, us.year = Un, us.isLeapYear = ft, us.weekYear = Fe, us.isoWeekYear = Re, us.quarter = us.quarters = We, us.month = Q, us.daysInMonth = J, us.week = us.weeks = Ve, us.isoWeek = us.isoWeeks = $e, us.weeksInYear = Oe, us.isoWeeksInYear = ze, us.date = ts, us.day = us.days = Qe, us.weekday = Je, us.isoWeekday = ti, us.dayOfYear = ei, us.hour = us.hours = os, us.minute = us.minutes = rs, us.second = us.seconds = as, us.millisecond = us.milliseconds = hs, us.utcOffset = Bt, us.utc = Yt, us.local = Ut, us.parseZone = jt, us.hasAlignedHourOffset = Vt, us.isDST = $t, us.isDSTShifted = Gt, us.isLocal = qt, us.isUtcOffset = Kt, us.isUtc = Xt, us.isUTC = Xt, us.zoneAbbr = li, us.zoneName = hi, us.dates = ot("dates accessor is deprecated. Use date instead.", ts), us.months = ot("months accessor is deprecated. Use month instead", Q), us.years = ot("years accessor is deprecated. Use year instead", Un), us.zone = ot("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Wt);
    var cs = us, ds = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
    }, fs = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
    }, ps = "Invalid date", gs = "%d", ms = /\d{1,2}/, vs = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
    }, ys = b.prototype;
    ys._calendar = ds, ys.calendar = di, ys._longDateFormat = fs, ys.longDateFormat = fi, ys._invalidDate = ps, ys.invalidDate = pi, ys._ordinal = gs, ys.ordinal = gi, ys._ordinalParse = ms, ys.preparse = mi, ys.postformat = mi, ys._relativeTime = vs, ys.relativeTime = vi, ys.pastFuture = yi, ys.set = bi, ys.months = q, ys._months = Hn, ys.monthsShort = K, ys._monthsShort = Pn, ys.monthsParse = X, ys._monthsRegex = Fn, ys.monthsRegex = et, ys._monthsShortRegex = An, ys.monthsShortRegex = tt, ys.week = Ye, ys._week = Jn, ys.firstDayOfYear = je, ys.firstDayOfWeek = Ue, ys.weekdays = qe, ys._weekdays = es, ys.weekdaysMin = Xe, ys._weekdaysMin = ns, ys.weekdaysShort = Ke, ys._weekdaysShort = is, ys.weekdaysParse = Ze, ys.isPM = oi, ys._meridiemParse = ss, ys.meridiem = ri, k("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function (t) {
            var e = t % 10, i = 1 === v(t % 100 / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th";
            return t + i
        }
    }), t.lang = ot("moment.lang is deprecated. Use moment.locale instead.", k), t.langData = ot("moment.langData is deprecated. Use moment.localeData instead.", D);
    var bs = Math.abs, ws = zi("ms"), _s = zi("s"), xs = zi("m"), ks = zi("h"), Cs = zi("d"), Ds = zi("w"),
        Ss = zi("M"), Ts = zi("y"), Es = Li("milliseconds"), Ms = Li("seconds"), Ns = Li("minutes"), Is = Li("hours"),
        Hs = Li("days"), Ps = Li("months"), As = Li("years"), Fs = Math.round, Rs = {s: 45, m: 45, h: 22, d: 26, M: 11},
        zs = Math.abs, Os = At.prototype;
    Os.abs = Ti, Os.add = Mi, Os.subtract = Ni, Os.as = Fi, Os.asMilliseconds = ws, Os.asSeconds = _s, Os.asMinutes = xs, Os.asHours = ks, Os.asDays = Cs, Os.asWeeks = Ds, Os.asMonths = Ss, Os.asYears = Ts, Os.valueOf = Ri, Os._bubble = Hi, Os.get = Oi, Os.milliseconds = Es, Os.seconds = Ms, Os.minutes = Ns, Os.hours = Is, Os.days = Hs, Os.weeks = Bi, Os.months = Ps, Os.years = As, Os.humanize = ji, Os.toISOString = Vi, Os.toString = Vi, Os.toJSON = Vi, Os.locale = we, Os.localeData = _e, Os.toIsoString = ot("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Vi), Os.lang = Qn, F("X", 0, 0, "unix"), F("x", 0, 0, "valueOf"), B("x", gn), B("X", yn), j("X", function (t, e, i) {
        i._d = new Date(1e3 * parseFloat(t, 10))
    }), j("x", function (t, e, i) {
        i._d = new Date(v(t))
    }), t.version = "2.11.1", e(Nt), t.fn = cs, t.min = Ht, t.max = Pt, t.now = $n, t.utc = a, t.unix = ui, t.months = xi, t.isDate = n, t.locale = k, t.invalid = c, t.duration = Zt, t.isMoment = g, t.weekdays = Ci, t.parseZone = ci, t.localeData = D, t.isDuration = Ft, t.monthsShort = ki, t.weekdaysMin = Si, t.defineLocale = C, t.weekdaysShort = Di, t.normalizeUnits = T, t.relativeTimeThreshold = Ui, t.prototype = cs;
    var Ls = t;
    return Ls
}), !function (t) {
    "function" == typeof define && define.amd ? define(["jquery", "moment"], t) : "object" == typeof exports ? module.exports = t(require("jquery"), require("moment")) : t(jQuery, moment)
}(function (t, e) {
    function i(t) {
        return Y(t, Ut)
    }

    function n(e) {
        var i, n = {views: e.views || {}};
        return t.each(e, function (e, s) {
            "views" != e && (t.isPlainObject(s) && !/(time|duration|interval)$/i.test(e) && -1 == t.inArray(e, Ut) ? (i = null, t.each(s, function (t, s) {
                /^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t) ? (n.views[t] || (n.views[t] = {}), n.views[t][e] = s) : (i || (i = {}), i[t] = s)
            }), i && (n[e] = i)) : n[e] = s)
        }), n
    }

    function s(t, e) {
        e.left && t.css({"border-left-width": 1, "margin-left": e.left - 1}), e.right && t.css({
            "border-right-width": 1,
            "margin-right": e.right - 1
        })
    }

    function o(t) {
        t.css({"margin-left": "", "margin-right": "", "border-left-width": "", "border-right-width": ""})
    }

    function r() {
        t("body").addClass("fc-not-allowed")
    }

    function a() {
        t("body").removeClass("fc-not-allowed")
    }

    function l(e, i, n) {
        var s = Math.floor(i / e.length), o = Math.floor(i - s * (e.length - 1)), r = [], a = [], l = [], u = 0;
        h(e), e.each(function (i, n) {
            var h = i === e.length - 1 ? o : s, c = t(n).outerHeight(!0);
            h > c ? (r.push(n), a.push(c), l.push(t(n).height())) : u += c
        }), n && (i -= u, s = Math.floor(i / r.length), o = Math.floor(i - s * (r.length - 1))), t(r).each(function (e, i) {
            var n = e === r.length - 1 ? o : s, h = a[e], u = l[e], c = n - (h - u);
            n > h && t(i).height(c)
        })
    }

    function h(t) {
        t.height("")
    }

    function u(e) {
        var i = 0;
        return e.find("> *").each(function (e, n) {
            var s = t(n).outerWidth();
            s > i && (i = s)
        }), i++, e.width(i), i
    }

    function c(t, e) {
        return t.height(e).addClass("fc-scroller"), t[0].scrollHeight - 1 > t[0].clientHeight ? !0 : (d(t), !1)
    }

    function d(t) {
        t.height("").removeClass("fc-scroller")
    }

    function f(e) {
        var i = e.css("position"), n = e.parents().filter(function () {
            var e = t(this);
            return /(auto|scroll)/.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
        }).eq(0);
        return "fixed" !== i && n.length ? n : t(e[0].ownerDocument || document)
    }

    function p(t) {
        var e = t.offset();
        return {left: e.left, right: e.left + t.outerWidth(), top: e.top, bottom: e.top + t.outerHeight()}
    }

    function g(t) {
        var e = t.offset(), i = v(t), n = e.left + w(t, "border-left-width") + i.left,
            s = e.top + w(t, "border-top-width") + i.top;
        return {left: n, right: n + t[0].clientWidth, top: s, bottom: s + t[0].clientHeight}
    }

    function m(t) {
        var e = t.offset(), i = e.left + w(t, "border-left-width") + w(t, "padding-left"),
            n = e.top + w(t, "border-top-width") + w(t, "padding-top");
        return {left: i, right: i + t.width(), top: n, bottom: n + t.height()}
    }

    function v(t) {
        var e = t.innerWidth() - t[0].clientWidth,
            i = {left: 0, right: 0, top: 0, bottom: t.innerHeight() - t[0].clientHeight};
        return y() && "rtl" == t.css("direction") ? i.left = e : i.right = e, i
    }

    function y() {
        return null === jt && (jt = b()), jt
    }

    function b() {
        var e = t("<div><div/></div>").css({
            position: "absolute",
            top: -1e3,
            left: 0,
            border: 0,
            padding: 0,
            overflow: "scroll",
            direction: "rtl"
        }).appendTo("body"), i = e.children(), n = i.offset().left > e.offset().left;
        return e.remove(), n
    }

    function w(t, e) {
        return parseFloat(t.css(e)) || 0
    }

    function _(t) {
        return 1 == t.which && !t.ctrlKey
    }

    function x(t, e) {
        var i = {
            left: Math.max(t.left, e.left),
            right: Math.min(t.right, e.right),
            top: Math.max(t.top, e.top),
            bottom: Math.min(t.bottom, e.bottom)
        };
        return i.left < i.right && i.top < i.bottom ? i : !1
    }

    function k(t, e) {
        return {left: Math.min(Math.max(t.left, e.left), e.right), top: Math.min(Math.max(t.top, e.top), e.bottom)}
    }

    function C(t) {
        return {left: (t.left + t.right) / 2, top: (t.top + t.bottom) / 2}
    }

    function D(t, e) {
        return {left: t.left - e.left, top: t.top - e.top}
    }

    function S(e) {
        var i, n, s = [], o = [];
        for ("string" == typeof e ? o = e.split(/\s*,\s*/) : "function" == typeof e ? o = [e] : t.isArray(e) && (o = e), i = 0; i < o.length; i++) n = o[i], "string" == typeof n ? s.push("-" == n.charAt(0) ? {
            field: n.substring(1),
            order: -1
        } : {field: n, order: 1}) : "function" == typeof n && s.push({func: n});
        return s
    }

    function T(t, e, i) {
        var n, s;
        for (n = 0; n < i.length; n++) if (s = E(t, e, i[n])) return s;
        return 0
    }

    function E(t, e, i) {
        return i.func ? i.func(t, e) : M(t[i.field], e[i.field]) * (i.order || 1)
    }

    function M(e, i) {
        return e || i ? null == i ? -1 : null == e ? 1 : "string" === t.type(e) || "string" === t.type(i) ? String(e).localeCompare(String(i)) : e - i : 0
    }

    function N(t, e) {
        var i, n, s, o, r = t.start, a = t.end, l = e.start, h = e.end;
        return a > l && h > r ? (r >= l ? (i = r.clone(), s = !0) : (i = l.clone(), s = !1), h >= a ? (n = a.clone(), o = !0) : (n = h.clone(), o = !1), {
            start: i,
            end: n,
            isStart: s,
            isEnd: o
        }) : void 0
    }

    function I(t, i) {
        return e.duration({days: t.clone().stripTime().diff(i.clone().stripTime(), "days"), ms: t.time() - i.time()})
    }

    function H(t, i) {
        return e.duration({days: t.clone().stripTime().diff(i.clone().stripTime(), "days")})
    }

    function P(t, i, n) {
        return e.duration(Math.round(t.diff(i, n, !0)), n)
    }

    function A(t, e) {
        var i, n, s;
        for (i = 0; i < $t.length && (n = $t[i], s = F(n, t, e), !(s >= 1 && et(s))); i++) ;
        return n
    }

    function F(t, i, n) {
        return null != n ? n.diff(i, t, !0) : e.isDuration(i) ? i.as(t) : i.end.diff(i.start, t, !0)
    }

    function R(t, e, i) {
        var n;
        return L(i) ? (e - t) / i : (n = i.asMonths(), Math.abs(n) >= 1 && et(n) ? e.diff(t, "months", !0) / n : e.diff(t, "days", !0) / i.asDays())
    }

    function z(t, e) {
        var i, n;
        return L(t) || L(e) ? t / e : (i = t.asMonths(), n = e.asMonths(), Math.abs(i) >= 1 && et(i) && Math.abs(n) >= 1 && et(n) ? i / n : t.asDays() / e.asDays())
    }

    function O(t, i) {
        var n;
        return L(t) ? e.duration(t * i) : (n = t.asMonths(), Math.abs(n) >= 1 && et(n) ? e.duration({months: n * i}) : e.duration({days: t.asDays() * i}))
    }

    function L(t) {
        return Boolean(t.hours() || t.minutes() || t.seconds() || t.milliseconds())
    }

    function B(t) {
        return "[object Date]" === Object.prototype.toString.call(t) || t instanceof Date
    }

    function W(t) {
        return /^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)
    }

    function Y(t, e) {
        var i, n, s, o, r, a, l = {};
        if (e) for (i = 0; i < e.length; i++) {
            for (n = e[i], s = [], o = t.length - 1; o >= 0; o--) if (r = t[o][n], "object" == typeof r) s.unshift(r); else if (void 0 !== r) {
                l[n] = r;
                break
            }
            s.length && (l[n] = Y(s))
        }
        for (i = t.length - 1; i >= 0; i--) {
            a = t[i];
            for (n in a) n in l || (l[n] = a[n])
        }
        return l
    }

    function U(t) {
        var e = function () {
        };
        return e.prototype = t, new e
    }

    function j(t, e) {
        for (var i in t) $(t, i) && (e[i] = t[i])
    }

    function V(t, e) {
        var i, n, s = ["constructor", "toString", "valueOf"];
        for (i = 0; i < s.length; i++) n = s[i], t[n] !== Object.prototype[n] && (e[n] = t[n])
    }

    function $(t, e) {
        return Xt.call(t, e)
    }

    function G(e) {
        return /undefined|null|boolean|number|string/.test(t.type(e))
    }

    function q(e, i, n) {
        if (t.isFunction(e) && (e = [e]), e) {
            var s, o;
            for (s = 0; s < e.length; s++) o = e[s].apply(i, n) || o;
            return o
        }
    }

    function K() {
        for (var t = 0; t < arguments.length; t++) if (void 0 !== arguments[t]) return arguments[t]
    }

    function X(t) {
        return (t + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&#039;").replace(/"/g, "&quot;").replace(/\n/g, "<br />")
    }

    function Z(t) {
        return t.replace(/&.*?;/g, "")
    }

    function Q(e) {
        var i = [];
        return t.each(e, function (t, e) {
            null != e && i.push(t + ":" + e)
        }), i.join(";")
    }

    function J(t) {
        return t.charAt(0).toUpperCase() + t.slice(1)
    }

    function tt(t, e) {
        return t - e
    }

    function et(t) {
        return t % 1 === 0
    }

    function it(t, e) {
        var i = t[e];
        return function () {
            return i.apply(t, arguments)
        }
    }

    function nt(t, e) {
        var i, n, s, o, r = function () {
            var a = +new Date - o;
            e > a && a > 0 ? i = setTimeout(r, e - a) : (i = null, t.apply(s, n), i || (s = n = null))
        };
        return function () {
            s = this, n = arguments, o = +new Date, i || (i = setTimeout(r, e))
        }
    }

    function st(i, n, s) {
        var o, r, a, l, h = i[0], u = 1 == i.length && "string" == typeof h;
        return e.isMoment(h) ? (l = e.apply(null, i), rt(h, l)) : B(h) || void 0 === h ? l = e.apply(null, i) : (o = !1, r = !1, u ? Zt.test(h) ? (h += "-01", i = [h], o = !0, r = !0) : (a = Qt.exec(h)) && (o = !a[5], r = !0) : t.isArray(h) && (r = !0), l = n || o ? e.utc.apply(e, i) : e.apply(null, i), o ? (l._ambigTime = !0, l._ambigZone = !0) : s && (r ? l._ambigZone = !0 : u && (l.utcOffset ? l.utcOffset(h) : l.zone(h)))), l._fullCalendar = !0, l
    }

    function ot(t, i) {
        var n, s, o = !1, r = !1, a = t.length, l = [];
        for (n = 0; a > n; n++) s = t[n], e.isMoment(s) || (s = Wt.moment.parseZone(s)), o = o || s._ambigTime, r = r || s._ambigZone, l.push(s);
        for (n = 0; a > n; n++) s = l[n], i || !o || s._ambigTime ? r && !s._ambigZone && (l[n] = s.clone().stripZone()) : l[n] = s.clone().stripTime();
        return l
    }

    function rt(t, e) {
        t._ambigTime ? e._ambigTime = !0 : e._ambigTime && (e._ambigTime = !1), t._ambigZone ? e._ambigZone = !0 : e._ambigZone && (e._ambigZone = !1)
    }

    function at(t, e) {
        t.year(e[0] || 0).month(e[1] || 0).date(e[2] || 0).hours(e[3] || 0).minutes(e[4] || 0).seconds(e[5] || 0).milliseconds(e[6] || 0)
    }

    function lt(t, e) {
        return te.format.call(t, e)
    }

    function ht(t, e) {
        return ut(t, gt(e))
    }

    function ut(t, e) {
        var i, n = "";
        for (i = 0; i < e.length; i++) n += ct(t, e[i]);
        return n
    }

    function ct(t, e) {
        var i, n;
        return "string" == typeof e ? e : (i = e.token) ? ee[i] ? ee[i](t) : lt(t, i) : e.maybe && (n = ut(t, e.maybe), n.match(/[1-9]/)) ? n : ""
    }

    function dt(t, e, i, n, s) {
        var o;
        return t = Wt.moment.parseZone(t), e = Wt.moment.parseZone(e), o = (t.localeData || t.lang).call(t), i = o.longDateFormat(i) || i, n = n || " - ", ft(t, e, gt(i), n, s)
    }

    function ft(t, e, i, n, s) {
        var o, r, a, l, h = t.clone().stripZone(), u = e.clone().stripZone(), c = "", d = "", f = "", p = "", g = "";
        for (r = 0; r < i.length && (o = pt(t, e, h, u, i[r]), o !== !1); r++) c += o;
        for (a = i.length - 1; a > r && (o = pt(t, e, h, u, i[a]), o !== !1); a--) d = o + d;
        for (l = r; a >= l; l++) f += ct(t, i[l]), p += ct(e, i[l]);
        return (f || p) && (g = s ? p + n + f : f + n + p), c + g + d
    }

    function pt(t, e, i, n, s) {
        var o, r;
        return "string" == typeof s ? s : (o = s.token) && (r = ie[o.charAt(0)], r && i.isSame(n, r)) ? lt(t, o) : !1
    }

    function gt(t) {
        return t in ne ? ne[t] : ne[t] = mt(t)
    }

    function mt(t) {
        for (var e, i = [], n = /\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g; e = n.exec(t);) e[1] ? i.push(e[1]) : e[2] ? i.push({maybe: mt(e[2])}) : e[3] ? i.push({token: e[3]}) : e[5] && i.push(e[5]);
        return i
    }

    function vt() {
    }

    function yt(t, e) {
        var i;
        return $(e, "constructor") && (i = e.constructor), "function" != typeof i && (i = e.constructor = function () {
            t.apply(this, arguments)
        }), i.prototype = U(t.prototype), j(e, i.prototype), V(e, i.prototype), j(t, i), i
    }

    function bt(t, e) {
        j(e.prototype || e, t.prototype)
    }

    function wt(t, e) {
        return t || e ? t && e ? t.component === e.component && _t(t, e) && _t(e, t) : !1 : !0
    }

    function _t(t, e) {
        for (var i in t) if (!/^(component|left|right|top|bottom)$/.test(i) && t[i] !== e[i]) return !1;
        return !0
    }

    function xt(t) {
        var e = Ct(t);
        return "background" === e || "inverse-background" === e
    }

    function kt(t) {
        return "inverse-background" === Ct(t)
    }

    function Ct(t) {
        return K((t.source || {}).rendering, t.rendering)
    }

    function Dt(t) {
        var e, i, n = {};
        for (e = 0; e < t.length; e++) i = t[e], (n[i._id] || (n[i._id] = [])).push(i);
        return n
    }

    function St(t, e) {
        return t.start - e.start
    }

    function Tt(i) {
        var n, s, o, r, a = Wt.dataAttrPrefix;
        return a && (a += "-"), n = i.data(a + "event") || null, n && (n = "object" == typeof n ? t.extend({}, n) : {}, s = n.start, null == s && (s = n.time), o = n.duration, r = n.stick, delete n.start, delete n.time, delete n.duration, delete n.stick), null == s && (s = i.data(a + "start")), null == s && (s = i.data(a + "time")), null == o && (o = i.data(a + "duration")), null == r && (r = i.data(a + "stick")), s = null != s ? e.duration(s) : null, o = null != o ? e.duration(o) : null, r = Boolean(r), {
            eventProps: n,
            startTime: s,
            duration: o,
            stick: r
        }
    }

    function Et(t, e) {
        var i, n;
        for (i = 0; i < e.length; i++) if (n = e[i], n.leftCol <= t.rightCol && n.rightCol >= t.leftCol) return !0;
        return !1
    }

    function Mt(t, e) {
        return t.leftCol - e.leftCol
    }

    function Nt(t) {
        var e, i, n, s = [];
        for (e = 0; e < t.length; e++) {
            for (i = t[e], n = 0; n < s.length && Pt(i, s[n]).length; n++) ;
            i.level = n, (s[n] || (s[n] = [])).push(i)
        }
        return s
    }

    function It(t) {
        var e, i, n, s, o;
        for (e = 0; e < t.length; e++) for (i = t[e], n = 0; n < i.length; n++) for (s = i[n], s.forwardSegs = [], o = e + 1; o < t.length; o++) Pt(s, t[o], s.forwardSegs)
    }

    function Ht(t) {
        var e, i, n = t.forwardSegs, s = 0;
        if (void 0 === t.forwardPressure) {
            for (e = 0; e < n.length; e++) i = n[e], Ht(i), s = Math.max(s, 1 + i.forwardPressure);
            t.forwardPressure = s
        }
    }

    function Pt(t, e, i) {
        i = i || [];
        for (var n = 0; n < e.length; n++) At(t, e[n]) && i.push(e[n]);
        return i
    }

    function At(t, e) {
        return t.bottom > e.top && t.top < e.bottom
    }

    function Ft(i, n) {
        function s() {
            $ ? a() && (u(), l()) : o()
        }

        function o() {
            G = B.theme ? "ui" : "fc", i.addClass("fc"), B.isRTL ? i.addClass("fc-rtl") : i.addClass("fc-ltr"), B.theme ? i.addClass("ui-widget") : i.addClass("fc-unthemed"), $ = t("<div class='fc-view-container'/>").prependTo(i), j = L.header = new Ot(L, B), V = j.render(), V && i.prepend(V), l(B.defaultView), B.handleWindowResize && (X = nt(d, B.windowResizeDelay), t(window).resize(X))
        }

        function r() {
            q && q.removeElement(), j.removeElement(), $.remove(), i.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"), X && t(window).unbind("resize", X)
        }

        function a() {
            return i.is(":visible")
        }

        function l(e) {
            it++, q && e && q.type !== e && (j.deactivateButton(q.type), P(), q.removeElement(), q = L.view = null), !q && e && (q = L.view = et[e] || (et[e] = L.instantiateView(e)), q.setElement(t("<div class='fc-view fc-" + e + "-view' />").appendTo($)), j.activateButton(e)), q && (Z = q.massageCurrentDate(Z), q.displaying && Z.isWithin(q.intervalStart, q.intervalEnd) || a() && (q.display(Z), A(), w(), _(), m())), A(), it--
        }

        function h(t) {
            return a() ? (t && c(), it++, q.updateSize(!0), it--, !0) : void 0
        }

        function u() {
            a() && c()
        }

        function c() {
            K = "number" == typeof B.contentHeight ? B.contentHeight : "number" == typeof B.height ? B.height - (V ? V.outerHeight(!0) : 0) : Math.round($.width() / Math.max(B.aspectRatio, .5))
        }

        function d(t) {
            !it && t.target === window && q.start && h(!0) && q.trigger("windowResize", tt)
        }

        function f() {
            g(), v()
        }

        function p() {
            a() && (P(), q.displayEvents(st), A())
        }

        function g() {
            P(), q.clearEvents(), A()
        }

        function m() {
            !B.lazyFetching || Q(q.start, q.end) ? v() : p()
        }

        function v() {
            J(q.start, q.end)
        }

        function y(t) {
            st = t, p()
        }

        function b() {
            p()
        }

        function w() {
            j.updateTitle(q.title)
        }

        function _() {
            var t = L.getNow();
            t.isWithin(q.intervalStart, q.intervalEnd) ? j.disableButton("today") : j.enableButton("today")
        }

        function x(t, e) {
            q.select(L.buildSelectSpan.apply(L, arguments))
        }

        function k() {
            q && q.unselect()
        }

        function C() {
            Z = q.computePrevDate(Z), l()
        }

        function D() {
            Z = q.computeNextDate(Z), l()
        }

        function S() {
            Z.add(-1, "years"), l()
        }

        function T() {
            Z.add(1, "years"), l()
        }

        function E() {
            Z = L.getNow(), l()
        }

        function M(t) {
            Z = L.moment(t).stripZone(), l()
        }

        function N(t) {
            Z.add(e.duration(t)), l()
        }

        function I(t, e) {
            var i;
            e = e || "day", i = L.getViewSpec(e) || L.getUnitViewSpec(e), Z = t.clone(), l(i ? i.type : null)
        }

        function H() {
            return L.applyTimezone(Z)
        }

        function P() {
            $.css({width: "100%", height: $.height(), overflow: "hidden"})
        }

        function A() {
            $.css({width: "", height: "", overflow: ""})
        }

        function F() {
            return L
        }

        function R() {
            return q
        }

        function z(t, e) {
            return void 0 === e ? B[t] : void(("height" == t || "contentHeight" == t || "aspectRatio" == t) && (B[t] = e, h(!0)))
        }

        function O(t, e) {
            var i = Array.prototype.slice.call(arguments, 2);
            return e = e || tt, this.triggerWith(t, e, i), B[t] ? B[t].apply(e, i) : void 0
        }

        var L = this;
        L.initOptions(n || {});
        var B = this.options;
        L.render = s, L.destroy = r, L.refetchEvents = f, L.reportEvents = y, L.reportEventChange = b, L.rerenderEvents = p, L.changeView = l, L.select = x, L.unselect = k, L.prev = C, L.next = D, L.prevYear = S, L.nextYear = T, L.today = E, L.gotoDate = M, L.incrementDate = N, L.zoomTo = I, L.getDate = H, L.getCalendar = F, L.getView = R, L.option = z, L.trigger = O;
        var W = U(zt(B.lang));
        if (B.monthNames && (W._months = B.monthNames), B.monthNamesShort && (W._monthsShort = B.monthNamesShort), B.dayNames && (W._weekdays = B.dayNames), B.dayNamesShort && (W._weekdaysShort = B.dayNamesShort), null != B.firstDay) {
            var Y = U(W._week);
            Y.dow = B.firstDay, W._week = Y
        }
        W._fullCalendar_weekCalc = function (t) {
            return "function" == typeof t ? t : "local" === t ? t : "iso" === t || "ISO" === t ? "ISO" : void 0
        }(B.weekNumberCalculation), L.defaultAllDayEventDuration = e.duration(B.defaultAllDayEventDuration), L.defaultTimedEventDuration = e.duration(B.defaultTimedEventDuration), L.moment = function () {
            var t;
            return "local" === B.timezone ? (t = Wt.moment.apply(null, arguments), t.hasTime() && t.local()) : t = "UTC" === B.timezone ? Wt.moment.utc.apply(null, arguments) : Wt.moment.parseZone.apply(null, arguments), "_locale" in t ? t._locale = W : t._lang = W, t
        }, L.getIsAmbigTimezone = function () {
            return "local" !== B.timezone && "UTC" !== B.timezone
        }, L.applyTimezone = function (t) {
            if (!t.hasTime()) return t.clone();
            var e, i = L.moment(t.toArray()), n = t.time() - i.time();
            return n && (e = i.clone().add(n), t.time() - e.time() === 0 && (i = e)), i
        }, L.getNow = function () {
            var t = B.now;
            return "function" == typeof t && (t = t()), L.moment(t).stripZone()
        }, L.getEventEnd = function (t) {
            return t.end ? t.end.clone() : L.getDefaultEventEnd(t.allDay, t.start)
        }, L.getDefaultEventEnd = function (t, e) {
            var i = e.clone();
            return t ? i.stripTime().add(L.defaultAllDayEventDuration) : i.add(L.defaultTimedEventDuration), L.getIsAmbigTimezone() && i.stripZone(), i
        }, L.humanizeDuration = function (t) {
            return (t.locale || t.lang).call(t, B.lang).humanize()
        }, Lt.call(L, B);
        var j, V, $, G, q, K, X, Z, Q = L.isFetchNeeded, J = L.fetchEvents, tt = i[0], et = {}, it = 0, st = [];
        Z = null != B.defaultDate ? L.moment(B.defaultDate).stripZone() : L.getNow(), L.getSuggestedViewHeight = function () {
            return void 0 === K && u(), K
        }, L.isHeightAuto = function () {
            return "auto" === B.contentHeight || "auto" === B.height
        }, L.freezeContentHeight = P, L.unfreezeContentHeight = A, L.initialize()
    }

    function Rt(e) {
        t.each(be, function (t, i) {
            null == e[t] && (e[t] = i(e))
        })
    }

    function zt(t) {
        var i = e.localeData || e.langData;
        return i.call(e, t) || i.call(e, "en")
    }

    function Ot(e, i) {
        function n() {
            var e = i.header;
            return f = i.theme ? "ui" : "fc", e ? p = t("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>') : void 0
        }

        function s() {
            p.remove(), p = t()
        }

        function o(n) {
            var s = t('<div class="fc-' + n + '"/>'), o = i.header[n];
            return o && t.each(o.split(" "), function (n) {
                var o, r = t(), a = !0;
                t.each(this.split(","), function (n, s) {
                    var o, l, h, u, c, d, p, m, v, y;
                    "title" == s ? (r = r.add(t("<h2>&nbsp;</h2>")), a = !1) : ((o = (e.options.customButtons || {})[s]) ? (h = function (t) {
                        o.click && o.click.call(y[0], t)
                    }, u = "", c = o.text) : (l = e.getViewSpec(s)) ? (h = function () {
                        e.changeView(s)
                    }, g.push(s), u = l.buttonTextOverride, c = l.buttonTextDefault) : e[s] && (h = function () {
                        e[s]()
                    }, u = (e.overrides.buttonText || {})[s], c = i.buttonText[s]), h && (d = o ? o.themeIcon : i.themeButtonIcons[s], p = o ? o.icon : i.buttonIcons[s], m = u ? X(u) : d && i.theme ? "<span class='ui-icon ui-icon-" + d + "'></span>" : p && !i.theme ? "<span class='fc-icon fc-icon-" + p + "'></span>" : X(c), v = ["fc-" + s + "-button", f + "-button", f + "-state-default"], y = t('<button type="button" class="' + v.join(" ") + '">' + m + "</button>").click(function (t) {
                        y.hasClass(f + "-state-disabled") || (h(t), (y.hasClass(f + "-state-active") || y.hasClass(f + "-state-disabled")) && y.removeClass(f + "-state-hover"))
                    }).mousedown(function () {
                        y.not("." + f + "-state-active").not("." + f + "-state-disabled").addClass(f + "-state-down")
                    }).mouseup(function () {
                        y.removeClass(f + "-state-down")
                    }).hover(function () {
                        y.not("." + f + "-state-active").not("." + f + "-state-disabled").addClass(f + "-state-hover")
                    }, function () {
                        y.removeClass(f + "-state-hover").removeClass(f + "-state-down")
                    }), r = r.add(y)))
                }), a && r.first().addClass(f + "-corner-left").end().last().addClass(f + "-corner-right").end(), r.length > 1 ? (o = t("<div/>"), a && o.addClass("fc-button-group"), o.append(r), s.append(o)) : s.append(r)
            }), s
        }

        function r(t) {
            p.find("h2").text(t)
        }

        function a(t) {
            p.find(".fc-" + t + "-button").addClass(f + "-state-active")
        }

        function l(t) {
            p.find(".fc-" + t + "-button").removeClass(f + "-state-active")
        }

        function h(t) {
            p.find(".fc-" + t + "-button").attr("disabled", "disabled").addClass(f + "-state-disabled")
        }

        function u(t) {
            p.find(".fc-" + t + "-button").removeAttr("disabled").removeClass(f + "-state-disabled")
        }

        function c() {
            return g
        }

        var d = this;
        d.render = n, d.removeElement = s, d.updateTitle = r, d.activateButton = a, d.deactivateButton = l,
            d.disableButton = h, d.enableButton = u, d.getViewsWithButtons = c;
        var f, p = t(), g = []
    }

    function Lt(i) {
        function n(t, e) {
            return !z || z > t || e > O
        }

        function s(t, e) {
            z = t, O = e, V = [];
            var i = ++U, n = Y.length;
            j = n;
            for (var s = 0; n > s; s++) o(Y[s], i)
        }

        function o(e, i) {
            r(e, function (n) {
                var s, o, r, a = t.isArray(e.events);
                if (i == U) {
                    if (n) for (s = 0; s < n.length; s++) o = n[s], r = a ? o : y(o, e), r && V.push.apply(V, x(r));
                    j--, j || L(V)
                }
            })
        }

        function r(e, n) {
            var s, o, a = Wt.sourceFetchers;
            for (s = 0; s < a.length; s++) {
                if (o = a[s].call(R, e, z.clone(), O.clone(), i.timezone, n), o === !0) return;
                if ("object" == typeof o) return void r(o, n)
            }
            var l = e.events;
            if (l) t.isFunction(l) ? (R.pushLoading(), l.call(R, z.clone(), O.clone(), i.timezone, function (t) {
                n(t), R.popLoading()
            })) : t.isArray(l) ? n(l) : n(); else {
                var h = e.url;
                if (h) {
                    var u, c = e.success, d = e.error, f = e.complete;
                    u = t.isFunction(e.data) ? e.data() : e.data;
                    var p = t.extend({}, u || {}), g = K(e.startParam, i.startParam), m = K(e.endParam, i.endParam),
                        v = K(e.timezoneParam, i.timezoneParam);
                    g && (p[g] = z.format()), m && (p[m] = O.format()), i.timezone && "local" != i.timezone && (p[v] = i.timezone), R.pushLoading(), t.ajax(t.extend({}, we, e, {
                        data: p,
                        success: function (e) {
                            e = e || [];
                            var i = q(c, this, arguments);
                            t.isArray(i) && (e = i), n(e)
                        },
                        error: function () {
                            q(d, this, arguments), n()
                        },
                        complete: function () {
                            q(f, this, arguments), R.popLoading()
                        }
                    }))
                } else n()
            }
        }

        function a(t) {
            var e = l(t);
            e && (Y.push(e), j++, o(e, U))
        }

        function l(e) {
            var i, n, s = Wt.sourceNormalizers;
            if (t.isFunction(e) || t.isArray(e) ? i = {events: e} : "string" == typeof e ? i = {url: e} : "object" == typeof e && (i = t.extend({}, e)), i) {
                for (i.className ? "string" == typeof i.className && (i.className = i.className.split(/\s+/)) : i.className = [], t.isArray(i.events) && (i.origArray = i.events, i.events = t.map(i.events, function (t) {
                    return y(t, i)
                })), n = 0; n < s.length; n++) s[n].call(R, i);
                return i
            }
        }

        function h(e) {
            Y = t.grep(Y, function (t) {
                return !u(t, e)
            }), V = t.grep(V, function (t) {
                return !u(t.source, e)
            }), L(V)
        }

        function u(t, e) {
            return t && e && c(t) == c(e)
        }

        function c(t) {
            return ("object" == typeof t ? t.origArray || t.googleCalendarId || t.url || t.events : null) || t
        }

        function d(t) {
            t.start = R.moment(t.start), t.end ? t.end = R.moment(t.end) : t.end = null, k(t, f(t)), L(V)
        }

        function f(e) {
            var i = {};
            return t.each(e, function (t, e) {
                p(t) && void 0 !== e && G(e) && (i[t] = e)
            }), i
        }

        function p(t) {
            return !/^_|^(id|allDay|start|end)$/.test(t)
        }

        function g(t, e) {
            var i, n, s, o = y(t);
            if (o) {
                for (i = x(o), n = 0; n < i.length; n++) s = i[n], s.source || (e && (B.events.push(s), s.source = B), V.push(s));
                return L(V), i
            }
            return []
        }

        function m(e) {
            var i, n;
            for (null == e ? e = function () {
                return !0
            } : t.isFunction(e) || (i = e + "", e = function (t) {
                return t._id == i
            }), V = t.grep(V, e, !0), n = 0; n < Y.length; n++) t.isArray(Y[n].events) && (Y[n].events = t.grep(Y[n].events, e, !0));
            L(V)
        }

        function v(e) {
            return t.isFunction(e) ? t.grep(V, e) : null != e ? (e += "", t.grep(V, function (t) {
                return t._id == e
            })) : V
        }

        function y(n, s) {
            var o, r, a, l = {};
            if (i.eventDataTransform && (n = i.eventDataTransform(n)), s && s.eventDataTransform && (n = s.eventDataTransform(n)), t.extend(l, n), s && (l.source = s), l._id = n._id || (void 0 === n.id ? "_fc" + _e++ : n.id + ""), n.className ? "string" == typeof n.className ? l.className = n.className.split(/\s+/) : l.className = n.className : l.className = [], o = n.start || n.date, r = n.end, W(o) && (o = e.duration(o)), W(r) && (r = e.duration(r)), n.dow || e.isDuration(o) || e.isDuration(r)) l.start = o ? e.duration(o) : null, l.end = r ? e.duration(r) : null, l._recurring = !0; else {
                if (o && (o = R.moment(o), !o.isValid())) return !1;
                r && (r = R.moment(r), r.isValid() || (r = null)), a = n.allDay, void 0 === a && (a = K(s ? s.allDayDefault : void 0, i.allDayDefault)), b(o, r, a, l)
            }
            return l
        }

        function b(t, e, i, n) {
            n.start = t, n.end = e, n.allDay = i, w(n), Bt(n)
        }

        function w(t) {
            _(t), t.end && !t.end.isAfter(t.start) && (t.end = null), t.end || (i.forceEventDuration ? t.end = R.getDefaultEventEnd(t.allDay, t.start) : t.end = null)
        }

        function _(t) {
            null == t.allDay && (t.allDay = !(t.start.hasTime() || t.end && t.end.hasTime())), t.allDay ? (t.start.stripTime(), t.end && t.end.stripTime()) : (t.start.hasTime() || (t.start = R.applyTimezone(t.start.time(0))), t.end && !t.end.hasTime() && (t.end = R.applyTimezone(t.end.time(0))))
        }

        function x(e, i, n) {
            var s, o, r, a, l, h, u, c, d, f = [];
            if (i = i || z, n = n || O, e) if (e._recurring) {
                if (o = e.dow) for (s = {}, r = 0; r < o.length; r++) s[o[r]] = !0;
                for (a = i.clone().stripTime(); a.isBefore(n);) (!s || s[a.day()]) && (l = e.start, h = e.end, u = a.clone(), c = null, l && (u = u.time(l)), h && (c = a.clone().time(h)), d = t.extend({}, e), b(u, c, !l && !h, d), f.push(d)), a.add(1, "days")
            } else f.push(e);
            return f
        }

        function k(e, i, n) {
            function s(t, e) {
                return n ? P(t, e, n) : i.allDay ? H(t, e) : I(t, e)
            }

            var o, r, a, l, h, u, c = {};
            return i = i || {}, i.start || (i.start = e.start.clone()), void 0 === i.end && (i.end = e.end ? e.end.clone() : null), null == i.allDay && (i.allDay = e.allDay), w(i), o = {
                start: e._start.clone(),
                end: e._end ? e._end.clone() : R.getDefaultEventEnd(e._allDay, e._start),
                allDay: i.allDay
            }, w(o), r = null !== e._end && null === i.end, a = s(i.start, o.start), i.end ? (l = s(i.end, o.end), h = l.subtract(a)) : h = null, t.each(i, function (t, e) {
                p(t) && void 0 !== e && (c[t] = e)
            }), u = C(v(e._id), r, i.allDay, a, h, c), {dateDelta: a, durationDelta: h, undo: u}
        }

        function C(e, i, n, s, o, r) {
            var a = R.getIsAmbigTimezone(), l = [];
            return s && !s.valueOf() && (s = null), o && !o.valueOf() && (o = null), t.each(e, function (e, h) {
                var u, c;
                u = {
                    start: h.start.clone(),
                    end: h.end ? h.end.clone() : null,
                    allDay: h.allDay
                }, t.each(r, function (t) {
                    u[t] = h[t]
                }), c = {
                    start: h._start,
                    end: h._end,
                    allDay: n
                }, w(c), i ? c.end = null : o && !c.end && (c.end = R.getDefaultEventEnd(c.allDay, c.start)), s && (c.start.add(s), c.end && c.end.add(s)), o && c.end.add(o), a && !c.allDay && (s || o) && (c.start.stripZone(), c.end && c.end.stripZone()), t.extend(h, r, c), Bt(h), l.push(function () {
                    t.extend(h, u), Bt(h)
                })
            }), function () {
                for (var t = 0; t < l.length; t++) l[t]()
            }
        }

        function D(e) {
            var n, s = i.businessHours, o = {
                className: "fc-nonbusiness",
                start: "09:00",
                end: "17:00",
                dow: [1, 2, 3, 4, 5],
                rendering: "inverse-background"
            }, r = R.getView();
            return s && (n = t.extend({}, o, "object" == typeof s ? s : {})), n ? (e && (n.start = null, n.end = null), x(y(n), r.start, r.end)) : []
        }

        function S(t, e) {
            var n = e.source || {}, s = K(e.constraint, n.constraint, i.eventConstraint),
                o = K(e.overlap, n.overlap, i.eventOverlap);
            return M(t, s, o, e)
        }

        function T(e, i, n) {
            var s, o;
            return n && (s = t.extend({}, n, i), o = x(y(s))[0]), o ? S(e, o) : E(e)
        }

        function E(t) {
            return M(t, i.selectConstraint, i.selectOverlap)
        }

        function M(t, e, i, n) {
            var s, o, r, a, l, h;
            if (null != e) {
                for (s = N(e), o = !1, a = 0; a < s.length; a++) if (A(s[a], t)) {
                    o = !0;
                    break
                }
                if (!o) return !1
            }
            for (r = R.getPeerEvents(t, n), a = 0; a < r.length; a++) if (l = r[a], F(l, t)) {
                if (i === !1) return !1;
                if ("function" == typeof i && !i(l, n)) return !1;
                if (n) {
                    if (h = K(l.overlap, (l.source || {}).overlap), h === !1) return !1;
                    if ("function" == typeof h && !h(n, l)) return !1
                }
            }
            return !0
        }

        function N(t) {
            return "businessHours" === t ? D() : "object" == typeof t ? x(y(t)) : v(t)
        }

        function A(t, e) {
            var i = t.start.clone().stripZone(), n = R.getEventEnd(t).stripZone();
            return e.start >= i && e.end <= n
        }

        function F(t, e) {
            var i = t.start.clone().stripZone(), n = R.getEventEnd(t).stripZone();
            return e.start < n && e.end > i
        }

        var R = this;
        R.isFetchNeeded = n, R.fetchEvents = s, R.addEventSource = a, R.removeEventSource = h, R.updateEvent = d, R.renderEvent = g, R.removeEvents = m, R.clientEvents = v, R.mutateEvent = k, R.normalizeEventDates = w, R.normalizeEventTimes = _;
        var z, O, L = R.reportEvents, B = {events: []}, Y = [B], U = 0, j = 0, V = [];
        t.each((i.events ? [i.events] : []).concat(i.eventSources || []), function (t, e) {
            var i = l(e);
            i && Y.push(i)
        }), R.getBusinessHoursEvents = D, R.isEventSpanAllowed = S, R.isExternalSpanAllowed = T, R.isSelectionSpanAllowed = E, R.getEventCache = function () {
            return V
        }
    }

    function Bt(t) {
        t._allDay = t.allDay, t._start = t.start.clone(), t._end = t.end ? t.end.clone() : null
    }

    var Wt = t.fullCalendar = {version: "2.5.0", internalApiVersion: 1}, Yt = Wt.views = {};
    t.fn.fullCalendar = function (e) {
        var i = Array.prototype.slice.call(arguments, 1), n = this;
        return this.each(function (s, o) {
            var r, a = t(o), l = a.data("fullCalendar");
            "string" == typeof e ? l && t.isFunction(l[e]) && (r = l[e].apply(l, i), s || (n = r), "destroy" === e && a.removeData("fullCalendar")) : l || (l = new ge(a, e), a.data("fullCalendar", l), l.render())
        }), n
    };
    var Ut = ["header", "buttonText", "buttonIcons", "themeButtonIcons"];
    Wt.intersectRanges = N, Wt.applyAll = q, Wt.debounce = nt, Wt.isInt = et, Wt.htmlEscape = X, Wt.cssToStr = Q, Wt.proxy = it, Wt.capitaliseFirstLetter = J, Wt.getOuterRect = p, Wt.getClientRect = g, Wt.getContentRect = m, Wt.getScrollbarWidths = v;
    var jt = null;
    Wt.intersectRects = x, Wt.parseFieldSpecs = S, Wt.compareByFieldSpecs = T, Wt.compareByFieldSpec = E, Wt.flexibleCompare = M, Wt.computeIntervalUnit = A, Wt.divideRangeByDuration = R, Wt.divideDurationByDuration = z, Wt.multiplyDuration = O, Wt.durationHasTime = L;
    var Vt = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"],
        $t = ["year", "month", "week", "day", "hour", "minute", "second", "millisecond"];
    Wt.log = function () {
        var t = window.console;
        return t && t.log ? t.log.apply(t, arguments) : void 0
    }, Wt.warn = function () {
        var t = window.console;
        return t && t.warn ? t.warn.apply(t, arguments) : Wt.log.apply(Wt, arguments)
    };
    var Gt, qt, Kt, Xt = {}.hasOwnProperty, Zt = /^\s*\d{4}-\d\d$/,
        Qt = /^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,
        Jt = e.fn, te = t.extend({}, Jt);
    Wt.moment = function () {
        return st(arguments)
    }, Wt.moment.utc = function () {
        var t = st(arguments, !0);
        return t.hasTime() && t.utc(), t
    }, Wt.moment.parseZone = function () {
        return st(arguments, !0, !0)
    }, Jt.clone = function () {
        var t = te.clone.apply(this, arguments);
        return rt(this, t), this._fullCalendar && (t._fullCalendar = !0), t
    }, Jt.week = Jt.weeks = function (t) {
        var e = (this._locale || this._lang)._fullCalendar_weekCalc;
        return null == t && "function" == typeof e ? e(this) : "ISO" === e ? te.isoWeek.apply(this, arguments) : te.week.apply(this, arguments)
    }, Jt.time = function (t) {
        if (!this._fullCalendar) return te.time.apply(this, arguments);
        if (null == t) return e.duration({
            hours: this.hours(),
            minutes: this.minutes(),
            seconds: this.seconds(),
            milliseconds: this.milliseconds()
        });
        this._ambigTime = !1, e.isDuration(t) || e.isMoment(t) || (t = e.duration(t));
        var i = 0;
        return e.isDuration(t) && (i = 24 * Math.floor(t.asDays())), this.hours(i + t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())
    }, Jt.stripTime = function () {
        var t;
        return this._ambigTime || (t = this.toArray(), this.utc(), qt(this, t.slice(0, 3)), this._ambigTime = !0, this._ambigZone = !0), this
    }, Jt.hasTime = function () {
        return !this._ambigTime
    }, Jt.stripZone = function () {
        var t, e;
        return this._ambigZone || (t = this.toArray(), e = this._ambigTime, this.utc(), qt(this, t), this._ambigTime = e || !1, this._ambigZone = !0), this
    }, Jt.hasZone = function () {
        return !this._ambigZone
    }, Jt.local = function () {
        var t = this.toArray(), e = this._ambigZone;
        return te.local.apply(this, arguments), this._ambigTime = !1, this._ambigZone = !1, e && Kt(this, t), this
    }, Jt.utc = function () {
        return te.utc.apply(this, arguments), this._ambigTime = !1, this._ambigZone = !1, this
    }, t.each(["zone", "utcOffset"], function (t, e) {
        te[e] && (Jt[e] = function (t) {
            return null != t && (this._ambigTime = !1, this._ambigZone = !1), te[e].apply(this, arguments)
        })
    }), Jt.format = function () {
        return this._fullCalendar && arguments[0] ? ht(this, arguments[0]) : this._ambigTime ? lt(this, "YYYY-MM-DD") : this._ambigZone ? lt(this, "YYYY-MM-DD[T]HH:mm:ss") : te.format.apply(this, arguments)
    }, Jt.toISOString = function () {
        return this._ambigTime ? lt(this, "YYYY-MM-DD") : this._ambigZone ? lt(this, "YYYY-MM-DD[T]HH:mm:ss") : te.toISOString.apply(this, arguments)
    }, Jt.isWithin = function (t, e) {
        var i = ot([this, t, e]);
        return i[0] >= i[1] && i[0] < i[2]
    }, Jt.isSame = function (t, e) {
        var i;
        return this._fullCalendar ? e ? (i = ot([this, t], !0), te.isSame.call(i[0], i[1], e)) : (t = Wt.moment.parseZone(t), te.isSame.call(this, t) && Boolean(this._ambigTime) === Boolean(t._ambigTime) && Boolean(this._ambigZone) === Boolean(t._ambigZone)) : te.isSame.apply(this, arguments)
    }, t.each(["isBefore", "isAfter"], function (t, e) {
        Jt[e] = function (t, i) {
            var n;
            return this._fullCalendar ? (n = ot([this, t]), te[e].call(n[0], n[1], i)) : te[e].apply(this, arguments)
        }
    }), Gt = "_d" in e() && "updateOffset" in e, qt = Gt ? function (t, i) {
        t._d.setTime(Date.UTC.apply(Date, i)), e.updateOffset(t, !1)
    } : at, Kt = Gt ? function (t, i) {
        t._d.setTime(+new Date(i[0] || 0, i[1] || 0, i[2] || 0, i[3] || 0, i[4] || 0, i[5] || 0, i[6] || 0)), e.updateOffset(t, !1)
    } : at;
    var ee = {
        t: function (t) {
            return lt(t, "a").charAt(0)
        }, T: function (t) {
            return lt(t, "A").charAt(0)
        }
    };
    Wt.formatRange = dt;
    var ie = {
        Y: "year",
        M: "month",
        D: "day",
        d: "day",
        A: "second",
        a: "second",
        T: "second",
        t: "second",
        H: "second",
        h: "second",
        m: "second",
        s: "second"
    }, ne = {};
    Wt.Class = vt, vt.extend = function () {
        var t, e, i = arguments.length;
        for (t = 0; i > t; t++) e = arguments[t], i - 1 > t && bt(this, e);
        return yt(this, e || {})
    }, vt.mixin = function (t) {
        bt(this, t)
    };
    var se = Wt.Emitter = vt.extend({
        callbackHash: null, on: function (t, e) {
            return this.getCallbacks(t).add(e), this
        }, off: function (t, e) {
            return this.getCallbacks(t).remove(e), this
        }, trigger: function (t) {
            var e = Array.prototype.slice.call(arguments, 1);
            return this.triggerWith(t, this, e), this
        }, triggerWith: function (t, e, i) {
            var n = this.getCallbacks(t);
            return n.fireWith(e, i), this
        }, getCallbacks: function (e) {
            var i;
            return this.callbackHash || (this.callbackHash = {}), i = this.callbackHash[e], i || (i = this.callbackHash[e] = t.Callbacks()), i
        }
    }), oe = vt.extend({
        isHidden: !0,
        options: null,
        el: null,
        documentMousedownProxy: null,
        margin: 10,
        constructor: function (t) {
            this.options = t || {}
        },
        show: function () {
            this.isHidden && (this.el || this.render(), this.el.show(), this.position(), this.isHidden = !1, this.trigger("show"))
        },
        hide: function () {
            this.isHidden || (this.el.hide(), this.isHidden = !0, this.trigger("hide"))
        },
        render: function () {
            var e = this, i = this.options;
            this.el = t('<div class="fc-popover"/>').addClass(i.className || "").css({
                top: 0,
                left: 0
            }).append(i.content).appendTo(i.parentEl), this.el.on("click", ".fc-close", function () {
                e.hide()
            }), i.autoHide && t(document).on("mousedown", this.documentMousedownProxy = it(this, "documentMousedown"))
        },
        documentMousedown: function (e) {
            this.el && !t(e.target).closest(this.el).length && this.hide()
        },
        removeElement: function () {
            this.hide(), this.el && (this.el.remove(), this.el = null), t(document).off("mousedown", this.documentMousedownProxy)
        },
        position: function () {
            var e, i, n, s, o, r = this.options, a = this.el.offsetParent().offset(), l = this.el.outerWidth(),
                h = this.el.outerHeight(), u = t(window), c = f(this.el);
            s = r.top || 0, o = void 0 !== r.left ? r.left : void 0 !== r.right ? r.right - l : 0, c.is(window) || c.is(document) ? (c = u, e = 0, i = 0) : (n = c.offset(), e = n.top, i = n.left), e += u.scrollTop(), i += u.scrollLeft(), r.viewportConstrain !== !1 && (s = Math.min(s, e + c.outerHeight() - h - this.margin), s = Math.max(s, e + this.margin), o = Math.min(o, i + c.outerWidth() - l - this.margin), o = Math.max(o, i + this.margin)), this.el.css({
                top: s - a.top,
                left: o - a.left
            })
        },
        trigger: function (t) {
            this.options[t] && this.options[t].apply(this, Array.prototype.slice.call(arguments, 1))
        }
    }), re = Wt.CoordCache = vt.extend({
        els: null,
        forcedOffsetParentEl: null,
        origin: null,
        boundingRect: null,
        isHorizontal: !1,
        isVertical: !1,
        lefts: null,
        rights: null,
        tops: null,
        bottoms: null,
        constructor: function (e) {
            this.els = t(e.els), this.isHorizontal = e.isHorizontal, this.isVertical = e.isVertical, this.forcedOffsetParentEl = e.offsetParent ? t(e.offsetParent) : null
        },
        build: function () {
            var t = this.forcedOffsetParentEl || this.els.eq(0).offsetParent();
            this.origin = t.offset(), this.boundingRect = this.queryBoundingRect(), this.isHorizontal && this.buildElHorizontals(), this.isVertical && this.buildElVerticals()
        },
        clear: function () {
            this.origin = null, this.boundingRect = null, this.lefts = null, this.rights = null, this.tops = null, this.bottoms = null
        },
        queryBoundingRect: function () {
            var t = f(this.els.eq(0));
            return t.is(document) ? void 0 : g(t)
        },
        buildElHorizontals: function () {
            var e = [], i = [];
            this.els.each(function (n, s) {
                var o = t(s), r = o.offset().left, a = o.outerWidth();
                e.push(r), i.push(r + a)
            }), this.lefts = e, this.rights = i
        },
        buildElVerticals: function () {
            var e = [], i = [];
            this.els.each(function (n, s) {
                var o = t(s), r = o.offset().top, a = o.outerHeight();
                e.push(r), i.push(r + a)
            }), this.tops = e, this.bottoms = i
        },
        getHorizontalIndex: function (t) {
            var e, i = this.boundingRect, n = this.lefts, s = this.rights, o = n.length;
            if (!i || t >= i.left && t < i.right) for (e = 0; o > e; e++) if (t >= n[e] && t < s[e]) return e
        },
        getVerticalIndex: function (t) {
            var e, i = this.boundingRect, n = this.tops, s = this.bottoms, o = n.length;
            if (!i || t >= i.top && t < i.bottom) for (e = 0; o > e; e++) if (t >= n[e] && t < s[e]) return e
        },
        getLeftOffset: function (t) {
            return this.lefts[t]
        },
        getLeftPosition: function (t) {
            return this.lefts[t] - this.origin.left
        },
        getRightOffset: function (t) {
            return this.rights[t]
        },
        getRightPosition: function (t) {
            return this.rights[t] - this.origin.left
        },
        getWidth: function (t) {
            return this.rights[t] - this.lefts[t]
        },
        getTopOffset: function (t) {
            return this.tops[t]
        },
        getTopPosition: function (t) {
            return this.tops[t] - this.origin.top
        },
        getBottomOffset: function (t) {
            return this.bottoms[t]
        },
        getBottomPosition: function (t) {
            return this.bottoms[t] - this.origin.top
        },
        getHeight: function (t) {
            return this.bottoms[t] - this.tops[t]
        }
    }), ae = Wt.DragListener = vt.extend({
        options: null,
        isListening: !1,
        isDragging: !1,
        originX: null,
        originY: null,
        mousemoveProxy: null,
        mouseupProxy: null,
        subjectEl: null,
        subjectHref: null,
        scrollEl: null,
        scrollBounds: null,
        scrollTopVel: null,
        scrollLeftVel: null,
        scrollIntervalId: null,
        scrollHandlerProxy: null,
        scrollSensitivity: 30,
        scrollSpeed: 200,
        scrollIntervalMs: 50,
        constructor: function (t) {
            t = t || {}, this.options = t, this.subjectEl = t.subjectEl
        },
        mousedown: function (t) {
            _(t) && (t.preventDefault(), this.startListening(t), this.options.distance || this.startDrag(t))
        },
        startListening: function (e) {
            var i;
            this.isListening || (e && this.options.scroll && (i = f(t(e.target)), i.is(window) || i.is(document) || (this.scrollEl = i, this.scrollHandlerProxy = nt(it(this, "scrollHandler"), 100), this.scrollEl.on("scroll", this.scrollHandlerProxy))), t(document).on("mousemove", this.mousemoveProxy = it(this, "mousemove")).on("mouseup", this.mouseupProxy = it(this, "mouseup")).on("selectstart", this.preventDefault), e ? (this.originX = e.pageX, this.originY = e.pageY) : (this.originX = 0, this.originY = 0), this.isListening = !0, this.listenStart(e))
        },
        listenStart: function (t) {
            this.trigger("listenStart", t)
        },
        mousemove: function (t) {
            var e, i, n = t.pageX - this.originX, s = t.pageY - this.originY;
            this.isDragging || (e = this.options.distance || 1, i = n * n + s * s, i >= e * e && this.startDrag(t)), this.isDragging && this.drag(n, s, t)
        },
        startDrag: function (t) {
            this.isListening || this.startListening(), this.isDragging || (this.isDragging = !0, this.dragStart(t))
        },
        dragStart: function (t) {
            var e = this.subjectEl;
            this.trigger("dragStart", t), (this.subjectHref = e ? e.attr("href") : null) && e.removeAttr("href")
        },
        drag: function (t, e, i) {
            this.trigger("drag", t, e, i), this.updateScroll(i)
        },
        mouseup: function (t) {
            this.stopListening(t)
        },
        stopDrag: function (t) {
            this.isDragging && (this.stopScrolling(), this.dragStop(t), this.isDragging = !1)
        },
        dragStop: function (t) {
            var e = this;
            this.trigger("dragStop", t), setTimeout(function () {
                e.subjectHref && e.subjectEl.attr("href", e.subjectHref)
            }, 0)
        },
        stopListening: function (e) {
            this.stopDrag(e), this.isListening && (this.scrollEl && (this.scrollEl.off("scroll", this.scrollHandlerProxy), this.scrollHandlerProxy = null), t(document).off("mousemove", this.mousemoveProxy).off("mouseup", this.mouseupProxy).off("selectstart", this.preventDefault), this.mousemoveProxy = null, this.mouseupProxy = null, this.isListening = !1, this.listenStop(e))
        },
        listenStop: function (t) {
            this.trigger("listenStop", t)
        },
        trigger: function (t) {
            this.options[t] && this.options[t].apply(this, Array.prototype.slice.call(arguments, 1))
        },
        preventDefault: function (t) {
            t.preventDefault()
        },
        computeScrollBounds: function () {
            var t = this.scrollEl;
            this.scrollBounds = t ? p(t) : null
        },
        updateScroll: function (t) {
            var e, i, n, s, o = this.scrollSensitivity, r = this.scrollBounds, a = 0, l = 0;
            r && (e = (o - (t.pageY - r.top)) / o, i = (o - (r.bottom - t.pageY)) / o, n = (o - (t.pageX - r.left)) / o, s = (o - (r.right - t.pageX)) / o, e >= 0 && 1 >= e ? a = e * this.scrollSpeed * -1 : i >= 0 && 1 >= i && (a = i * this.scrollSpeed), n >= 0 && 1 >= n ? l = n * this.scrollSpeed * -1 : s >= 0 && 1 >= s && (l = s * this.scrollSpeed)), this.setScrollVel(a, l)
        },
        setScrollVel: function (t, e) {
            this.scrollTopVel = t, this.scrollLeftVel = e, this.constrainScrollVel(), !this.scrollTopVel && !this.scrollLeftVel || this.scrollIntervalId || (this.scrollIntervalId = setInterval(it(this, "scrollIntervalFunc"), this.scrollIntervalMs))
        },
        constrainScrollVel: function () {
            var t = this.scrollEl;
            this.scrollTopVel < 0 ? t.scrollTop() <= 0 && (this.scrollTopVel = 0) : this.scrollTopVel > 0 && t.scrollTop() + t[0].clientHeight >= t[0].scrollHeight && (this.scrollTopVel = 0), this.scrollLeftVel < 0 ? t.scrollLeft() <= 0 && (this.scrollLeftVel = 0) : this.scrollLeftVel > 0 && t.scrollLeft() + t[0].clientWidth >= t[0].scrollWidth && (this.scrollLeftVel = 0)
        },
        scrollIntervalFunc: function () {
            var t = this.scrollEl, e = this.scrollIntervalMs / 1e3;
            this.scrollTopVel && t.scrollTop(t.scrollTop() + this.scrollTopVel * e), this.scrollLeftVel && t.scrollLeft(t.scrollLeft() + this.scrollLeftVel * e), this.constrainScrollVel(), this.scrollTopVel || this.scrollLeftVel || this.stopScrolling()
        },
        stopScrolling: function () {
            this.scrollIntervalId && (clearInterval(this.scrollIntervalId), this.scrollIntervalId = null, this.scrollStop())
        },
        scrollHandler: function () {
            this.scrollIntervalId || this.scrollStop()
        },
        scrollStop: function () {
        }
    }), le = ae.extend({
        component: null, origHit: null, hit: null, coordAdjust: null, constructor: function (t, e) {
            ae.call(this, e), this.component = t
        }, listenStart: function (t) {
            var e, i, n, s = this.subjectEl;
            ae.prototype.listenStart.apply(this, arguments), this.computeCoords(), t ? (i = {
                left: t.pageX,
                top: t.pageY
            }, n = i, s && (e = p(s), n = k(n, e)), this.origHit = this.queryHit(n.left, n.top), s && this.options.subjectCenter && (this.origHit && (e = x(this.origHit, e) || e), n = C(e)), this.coordAdjust = D(n, i)) : (this.origHit = null, this.coordAdjust = null)
        }, computeCoords: function () {
            this.component.prepareHits(), this.computeScrollBounds()
        }, dragStart: function (t) {
            var e;
            ae.prototype.dragStart.apply(this, arguments), e = this.queryHit(t.pageX, t.pageY), e && this.hitOver(e)
        }, drag: function (t, e, i) {
            var n;
            ae.prototype.drag.apply(this, arguments), n = this.queryHit(i.pageX, i.pageY), wt(n, this.hit) || (this.hit && this.hitOut(), n && this.hitOver(n))
        }, dragStop: function () {
            this.hitDone(), ae.prototype.dragStop.apply(this, arguments)
        }, hitOver: function (t) {
            var e = wt(t, this.origHit);
            this.hit = t, this.trigger("hitOver", this.hit, e, this.origHit)
        }, hitOut: function () {
            this.hit && (this.trigger("hitOut", this.hit), this.hitDone(), this.hit = null)
        }, hitDone: function () {
            this.hit && this.trigger("hitDone", this.hit)
        }, listenStop: function () {
            ae.prototype.listenStop.apply(this, arguments), this.origHit = null, this.hit = null, this.component.releaseHits()
        }, scrollStop: function () {
            ae.prototype.scrollStop.apply(this, arguments), this.computeCoords()
        }, queryHit: function (t, e) {
            return this.coordAdjust && (t += this.coordAdjust.left, e += this.coordAdjust.top), this.component.queryHit(t, e)
        }
    }), he = vt.extend({
        options: null,
        sourceEl: null,
        el: null,
        parentEl: null,
        top0: null,
        left0: null,
        mouseY0: null,
        mouseX0: null,
        topDelta: null,
        leftDelta: null,
        mousemoveProxy: null,
        isFollowing: !1,
        isHidden: !1,
        isAnimating: !1,
        constructor: function (e, i) {
            this.options = i = i || {}, this.sourceEl = e, this.parentEl = i.parentEl ? t(i.parentEl) : e.parent()
        },
        start: function (e) {
            this.isFollowing || (this.isFollowing = !0, this.mouseY0 = e.pageY, this.mouseX0 = e.pageX, this.topDelta = 0, this.leftDelta = 0, this.isHidden || this.updatePosition(), t(document).on("mousemove", this.mousemoveProxy = it(this, "mousemove")))
        },
        stop: function (e, i) {
            function n() {
                this.isAnimating = !1, s.removeElement(), this.top0 = this.left0 = null, i && i()
            }

            var s = this, o = this.options.revertDuration;
            this.isFollowing && !this.isAnimating && (this.isFollowing = !1, t(document).off("mousemove", this.mousemoveProxy), e && o && !this.isHidden ? (this.isAnimating = !0, this.el.animate({
                top: this.top0,
                left: this.left0
            }, {duration: o, complete: n})) : n())
        },
        getEl: function () {
            var t = this.el;
            return t || (this.sourceEl.width(), t = this.el = this.sourceEl.clone().css({
                position: "absolute",
                visibility: "",
                display: this.isHidden ? "none" : "",
                margin: 0,
                right: "auto",
                bottom: "auto",
                width: this.sourceEl.width(),
                height: this.sourceEl.height(),
                opacity: this.options.opacity || "",
                zIndex: this.options.zIndex
            }).appendTo(this.parentEl)), t
        },
        removeElement: function () {
            this.el && (this.el.remove(), this.el = null)
        },
        updatePosition: function () {
            var t, e;
            this.getEl(), null === this.top0 && (this.sourceEl.width(), t = this.sourceEl.offset(), e = this.el.offsetParent().offset(), this.top0 = t.top - e.top, this.left0 = t.left - e.left), this.el.css({
                top: this.top0 + this.topDelta,
                left: this.left0 + this.leftDelta
            })
        },
        mousemove: function (t) {
            this.topDelta = t.pageY - this.mouseY0, this.leftDelta = t.pageX - this.mouseX0, this.isHidden || this.updatePosition()
        },
        hide: function () {
            this.isHidden || (this.isHidden = !0, this.el && this.el.hide())
        },
        show: function () {
            this.isHidden && (this.isHidden = !1, this.updatePosition(), this.getEl().show())
        }
    }), ue = Wt.Grid = vt.extend({
        view: null,
        isRTL: null,
        start: null,
        end: null,
        el: null,
        elsByFill: null,
        externalDragStartProxy: null,
        eventTimeFormat: null,
        displayEventTime: null,
        displayEventEnd: null,
        minResizeDuration: null,
        largeUnit: null,
        constructor: function (t) {
            this.view = t, this.isRTL = t.opt("isRTL"), this.elsByFill = {}, this.externalDragStartProxy = it(this, "externalDragStart")
        },
        computeEventTimeFormat: function () {
            return this.view.opt("smallTimeFormat")
        },
        computeDisplayEventTime: function () {
            return !0
        },
        computeDisplayEventEnd: function () {
            return !0
        },
        setRange: function (t) {
            this.start = t.start.clone(), this.end = t.end.clone(), this.rangeUpdated(), this.processRangeOptions()
        },
        rangeUpdated: function () {
        },
        processRangeOptions: function () {
            var t, e, i = this.view;
            this.eventTimeFormat = i.opt("eventTimeFormat") || i.opt("timeFormat") || this.computeEventTimeFormat(), t = i.opt("displayEventTime"), null == t && (t = this.computeDisplayEventTime()), e = i.opt("displayEventEnd"), null == e && (e = this.computeDisplayEventEnd()), this.displayEventTime = t, this.displayEventEnd = e
        },
        spanToSegs: function (t) {
        },
        diffDates: function (t, e) {
            return this.largeUnit ? P(t, e, this.largeUnit) : I(t, e)
        },
        prepareHits: function () {
        },
        releaseHits: function () {
        },
        queryHit: function (t, e) {
        },
        getHitSpan: function (t) {
        },
        getHitEl: function (t) {
        },
        setElement: function (e) {
            var i = this;
            this.el = e, e.on("mousedown", function (e) {
                t(e.target).is(".fc-event-container *, .fc-more") || t(e.target).closest(".fc-popover").length || i.dayMousedown(e)
            }), this.bindSegHandlers(), this.bindGlobalHandlers()
        },
        removeElement: function () {
            this.unbindGlobalHandlers(), this.el.remove()
        },
        renderSkeleton: function () {
        },
        renderDates: function () {
        },
        unrenderDates: function () {
        },
        bindGlobalHandlers: function () {
            t(document).on("dragstart sortstart", this.externalDragStartProxy)
        },
        unbindGlobalHandlers: function () {
            t(document).off("dragstart sortstart", this.externalDragStartProxy)
        },
        dayMousedown: function (t) {
            var e, i, n = this, s = this.view, o = s.opt("selectable"), l = new le(this, {
                scroll: s.opt("dragScroll"), dragStart: function () {
                    s.unselect()
                }, hitOver: function (t, s, a) {
                    a && (e = s ? t : null, o && (i = n.computeSelection(n.getHitSpan(a), n.getHitSpan(t)), i ? n.renderSelection(i) : i === !1 && r()))
                }, hitOut: function () {
                    e = null, i = null, n.unrenderSelection(), a()
                }, listenStop: function (t) {
                    e && s.triggerDayClick(n.getHitSpan(e), n.getHitEl(e), t), i && s.reportSelection(i, t), a()
                }
            });
            l.mousedown(t)
        },
        renderEventLocationHelper: function (t, e) {
            var i = this.fabricateHelperEvent(t, e);
            this.renderHelper(i, e)
        },
        fabricateHelperEvent: function (t, e) {
            var i = e ? U(e.event) : {};
            return i.start = t.start.clone(), i.end = t.end ? t.end.clone() : null, i.allDay = null, this.view.calendar.normalizeEventDates(i), i.className = (i.className || []).concat("fc-helper"), e || (i.editable = !1), i
        },
        renderHelper: function (t, e) {
        },
        unrenderHelper: function () {
        },
        renderSelection: function (t) {
            this.renderHighlight(t)
        },
        unrenderSelection: function () {
            this.unrenderHighlight()
        },
        computeSelection: function (t, e) {
            var i = this.computeSelectionSpan(t, e);
            return i && !this.view.calendar.isSelectionSpanAllowed(i) ? !1 : i
        },
        computeSelectionSpan: function (t, e) {
            var i = [t.start, t.end, e.start, e.end];
            return i.sort(tt), {start: i[0].clone(), end: i[3].clone()}
        },
        renderHighlight: function (t) {
            this.renderFill("highlight", this.spanToSegs(t))
        },
        unrenderHighlight: function () {
            this.unrenderFill("highlight")
        },
        highlightSegClasses: function () {
            return ["fc-highlight"]
        },
        renderFill: function (t, e) {
        },
        unrenderFill: function (t) {
            var e = this.elsByFill[t];
            e && (e.remove(), delete this.elsByFill[t])
        },
        renderFillSegEls: function (e, i) {
            var n, s = this, o = this[e + "SegEl"], r = "", a = [];
            if (i.length) {
                for (n = 0; n < i.length; n++) r += this.fillSegHtml(e, i[n]);
                t(r).each(function (e, n) {
                    var r = i[e], l = t(n);
                    o && (l = o.call(s, r, l)), l && (l = t(l), l.is(s.fillSegTag) && (r.el = l, a.push(r)))
                })
            }
            return a
        },
        fillSegTag: "div",
        fillSegHtml: function (t, e) {
            var i = this[t + "SegClasses"], n = this[t + "SegCss"], s = i ? i.call(this, e) : [],
                o = Q(n ? n.call(this, e) : {});
            return "<" + this.fillSegTag + (s.length ? ' class="' + s.join(" ") + '"' : "") + (o ? ' style="' + o + '"' : "") + " />"
        },
        getDayClasses: function (t) {
            var e = this.view, i = e.calendar.getNow().stripTime(), n = ["fc-" + Vt[t.day()]];
            return 1 == e.intervalDuration.as("months") && t.month() != e.intervalStart.month() && n.push("fc-other-month"), t.isSame(i, "day") ? n.push("fc-today", e.highlightStateClass) : i > t ? n.push("fc-past") : n.push("fc-future"), n
        }
    });
    ue.mixin({
        mousedOverSeg: null,
        isDraggingSeg: !1,
        isResizingSeg: !1,
        isDraggingExternal: !1,
        segs: null,
        renderEvents: function (t) {
            var e, i = [], n = [];
            for (e = 0; e < t.length; e++) (xt(t[e]) ? i : n).push(t[e]);
            this.segs = [].concat(this.renderBgEvents(i), this.renderFgEvents(n))
        },
        renderBgEvents: function (t) {
            var e = this.eventsToSegs(t);
            return this.renderBgSegs(e) || e
        },
        renderFgEvents: function (t) {
            var e = this.eventsToSegs(t);
            return this.renderFgSegs(e) || e
        },
        unrenderEvents: function () {
            this.triggerSegMouseout(), this.unrenderFgSegs(), this.unrenderBgSegs(), this.segs = null
        },
        getEventSegs: function () {
            return this.segs || []
        },
        renderFgSegs: function (t) {
        },
        unrenderFgSegs: function () {
        },
        renderFgSegEls: function (e, i) {
            var n, s = this.view, o = "", r = [];
            if (e.length) {
                for (n = 0; n < e.length; n++) o += this.fgSegHtml(e[n], i);
                t(o).each(function (i, n) {
                    var o = e[i], a = s.resolveEventEl(o.event, t(n));
                    a && (a.data("fc-seg", o), o.el = a, r.push(o))
                })
            }
            return r
        },
        fgSegHtml: function (t, e) {
        },
        renderBgSegs: function (t) {
            return this.renderFill("bgEvent", t)
        },
        unrenderBgSegs: function () {
            this.unrenderFill("bgEvent")
        },
        bgEventSegEl: function (t, e) {
            return this.view.resolveEventEl(t.event, e)
        },
        bgEventSegClasses: function (t) {
            var e = t.event, i = e.source || {};
            return ["fc-bgevent"].concat(e.className, i.className || [])
        },
        bgEventSegCss: function (t) {
            var e = this.view, i = t.event, n = i.source || {};
            return {"background-color": i.backgroundColor || i.color || n.backgroundColor || n.color || e.opt("eventBackgroundColor") || e.opt("eventColor")}
        },
        businessHoursSegClasses: function (t) {
            return ["fc-nonbusiness", "fc-bgevent"]
        },
        bindSegHandlers: function () {
            var e = this, i = this.view;
            t.each({
                mouseenter: function (t, i) {
                    e.triggerSegMouseover(t, i)
                }, mouseleave: function (t, i) {
                    e.triggerSegMouseout(t, i)
                }, click: function (t, e) {
                    return i.trigger("eventClick", this, t.event, e)
                }, mousedown: function (n, s) {
                    t(s.target).is(".fc-resizer") && i.isEventResizable(n.event) ? e.segResizeMousedown(n, s, t(s.target).is(".fc-start-resizer")) : i.isEventDraggable(n.event) && e.segDragMousedown(n, s)
                }
            }, function (i, n) {
                e.el.on(i, ".fc-event-container > *", function (i) {
                    var s = t(this).data("fc-seg");
                    return !s || e.isDraggingSeg || e.isResizingSeg ? void 0 : n.call(this, s, i)
                })
            })
        },
        triggerSegMouseover: function (t, e) {
            this.mousedOverSeg || (this.mousedOverSeg = t, this.view.trigger("eventMouseover", t.el[0], t.event, e))
        },
        triggerSegMouseout: function (t, e) {
            e = e || {}, this.mousedOverSeg && (t = t || this.mousedOverSeg, this.mousedOverSeg = null, this.view.trigger("eventMouseout", t.el[0], t.event, e))
        },
        segDragMousedown: function (t, e) {
            var i, n = this, s = this.view, o = s.calendar, l = t.el, h = t.event, u = new he(t.el, {
                parentEl: s.el,
                opacity: s.opt("dragOpacity"),
                revertDuration: s.opt("dragRevertDuration"),
                zIndex: 2
            }), c = new le(s, {
                distance: 5,
                scroll: s.opt("dragScroll"),
                subjectEl: l,
                subjectCenter: !0,
                listenStart: function (t) {
                    u.hide(), u.start(t)
                },
                dragStart: function (e) {
                    n.triggerSegMouseout(t, e), n.segDragStart(t, e), s.hideEvent(h)
                },
                hitOver: function (e, a, l) {
                    t.hit && (l = t.hit), i = n.computeEventDrop(l.component.getHitSpan(l), e.component.getHitSpan(e), h), i && !o.isEventSpanAllowed(n.eventToSpan(i), h) && (r(), i = null), i && s.renderDrag(i, t) ? u.hide() : u.show(), a && (i = null)
                },
                hitOut: function () {
                    s.unrenderDrag(), u.show(), i = null
                },
                hitDone: function () {
                    a()
                },
                dragStop: function (e) {
                    u.stop(!i, function () {
                        s.unrenderDrag(), s.showEvent(h), n.segDragStop(t, e), i && s.reportEventDrop(h, i, this.largeUnit, l, e)
                    })
                },
                listenStop: function () {
                    u.stop()
                }
            });
            c.mousedown(e)
        },
        segDragStart: function (t, e) {
            this.isDraggingSeg = !0, this.view.trigger("eventDragStart", t.el[0], t.event, e, {})
        },
        segDragStop: function (t, e) {
            this.isDraggingSeg = !1, this.view.trigger("eventDragStop", t.el[0], t.event, e, {})
        },
        computeEventDrop: function (t, e, i) {
            var n, s, o = this.view.calendar, r = t.start, a = e.start;
            return r.hasTime() === a.hasTime() ? (n = this.diffDates(a, r), i.allDay && L(n) ? (s = {
                start: i.start.clone(),
                end: o.getEventEnd(i),
                allDay: !1
            }, o.normalizeEventTimes(s)) : s = {
                start: i.start.clone(),
                end: i.end ? i.end.clone() : null,
                allDay: i.allDay
            }, s.start.add(n), s.end && s.end.add(n)) : s = {start: a.clone(), end: null, allDay: !a.hasTime()}, s
        },
        applyDragOpacity: function (t) {
            var e = this.view.opt("dragOpacity");
            null != e && t.each(function (t, i) {
                i.style.opacity = e
            })
        },
        externalDragStart: function (e, i) {
            var n, s, o = this.view;
            o.opt("droppable") && (n = t((i ? i.item : null) || e.target), s = o.opt("dropAccept"), (t.isFunction(s) ? s.call(n[0], n) : n.is(s)) && (this.isDraggingExternal || this.listenToExternalDrag(n, e, i)))
        },
        listenToExternalDrag: function (t, e, i) {
            var n, s = this, o = Tt(t), l = new le(this, {
                listenStart: function () {
                    s.isDraggingExternal = !0
                }, hitOver: function (t) {
                    n = s.computeExternalDrop(t.component.getHitSpan(t), o), n ? s.renderDrag(n) : r()
                }, hitOut: function () {
                    n = null, s.unrenderDrag(), a()
                }, dragStop: function () {
                    s.unrenderDrag(), a(), n && s.view.reportExternalDrop(o, n, t, e, i)
                }, listenStop: function () {
                    s.isDraggingExternal = !1
                }
            });
            l.startDrag(e)
        },
        computeExternalDrop: function (t, e) {
            var i = this.view.calendar, n = {start: i.applyTimezone(t.start), end: null};
            return e.startTime && !n.start.hasTime() && n.start.time(e.startTime), e.duration && (n.end = n.start.clone().add(e.duration)), i.isExternalSpanAllowed(this.eventToSpan(n), n, e.eventProps) ? n : null
        },
        renderDrag: function (t, e) {
        },
        unrenderDrag: function () {
        },
        segResizeMousedown: function (t, e, i) {
            var n, s = this, o = this.view, l = o.calendar, h = t.el, u = t.event, c = l.getEventEnd(u),
                d = new le(this, {
                    distance: 5, scroll: o.opt("dragScroll"), subjectEl: h, dragStart: function (e) {
                        s.triggerSegMouseout(t, e), s.segResizeStart(t, e)
                    }, hitOver: function (e, a, h) {
                        var d = s.getHitSpan(h), f = s.getHitSpan(e);
                        n = i ? s.computeEventStartResize(d, f, u) : s.computeEventEndResize(d, f, u), n && (l.isEventSpanAllowed(s.eventToSpan(n), u) ? n.start.isSame(u.start) && n.end.isSame(c) && (n = null) : (r(), n = null)), n && (o.hideEvent(u), s.renderEventResize(n, t))
                    }, hitOut: function () {
                        n = null
                    }, hitDone: function () {
                        s.unrenderEventResize(), o.showEvent(u), a()
                    }, dragStop: function (e) {
                        s.segResizeStop(t, e), n && o.reportEventResize(u, n, this.largeUnit, h, e)
                    }
                });
            d.mousedown(e)
        },
        segResizeStart: function (t, e) {
            this.isResizingSeg = !0, this.view.trigger("eventResizeStart", t.el[0], t.event, e, {})
        },
        segResizeStop: function (t, e) {
            this.isResizingSeg = !1, this.view.trigger("eventResizeStop", t.el[0], t.event, e, {})
        },
        computeEventStartResize: function (t, e, i) {
            return this.computeEventResize("start", t, e, i)
        },
        computeEventEndResize: function (t, e, i) {
            return this.computeEventResize("end", t, e, i)
        },
        computeEventResize: function (t, e, i, n) {
            var s, o, r = this.view.calendar, a = this.diffDates(i[t], e[t]);
            return s = {
                start: n.start.clone(),
                end: r.getEventEnd(n),
                allDay: n.allDay
            }, s.allDay && L(a) && (s.allDay = !1, r.normalizeEventTimes(s)), s[t].add(a), s.start.isBefore(s.end) || (o = this.minResizeDuration || (n.allDay ? r.defaultAllDayEventDuration : r.defaultTimedEventDuration), "start" == t ? s.start = s.end.clone().subtract(o) : s.end = s.start.clone().add(o)), s
        },
        renderEventResize: function (t, e) {
        },
        unrenderEventResize: function () {
        },
        getEventTimeText: function (t, e, i) {
            return null == e && (e = this.eventTimeFormat), null == i && (i = this.displayEventEnd), this.displayEventTime && t.start.hasTime() ? i && t.end ? this.view.formatRange(t, e) : t.start.format(e) : ""
        },
        getSegClasses: function (t, e, i) {
            var n = t.event,
                s = ["fc-event", t.isStart ? "fc-start" : "fc-not-start", t.isEnd ? "fc-end" : "fc-not-end"].concat(n.className, n.source ? n.source.className : []);
            return e && s.push("fc-draggable"), i && s.push("fc-resizable"), s
        },
        getEventSkinCss: function (t) {
            var e = this.view, i = t.source || {}, n = t.color, s = i.color, o = e.opt("eventColor");
            return {
                "background-color": t.backgroundColor || n || i.backgroundColor || s || e.opt("eventBackgroundColor") || o,
                "border-color": t.borderColor || n || i.borderColor || s || e.opt("eventBorderColor") || o,
                color: t.textColor || i.textColor || e.opt("eventTextColor")
            }
        },
        eventToSegs: function (t) {
            return this.eventsToSegs([t])
        },
        eventToSpan: function (t) {
            var e = this.eventToRange(t);
            return this.transformEventSpan(e, t), e
        },
        eventsToSegs: function (e, i) {
            var n = this, s = Dt(e), o = [];
            return t.each(s, function (t, e) {
                var s, r = [];
                for (s = 0; s < e.length; s++) r.push(n.eventToRange(e[s]));
                if (kt(e[0])) for (r = n.invertRanges(r), s = 0; s < r.length; s++) n.generateEventSegs(r[s], e[0], i, o); else for (s = 0; s < r.length; s++) n.generateEventSegs(r[s], e[s], i, o)
            }), o
        },
        eventToRange: function (t) {
            return {start: t.start.clone().stripZone(), end: this.view.calendar.getEventEnd(t).stripZone()}
        },
        generateEventSegs: function (t, e, i, n) {
            var s, o;
            for (this.transformEventSpan(t, e), s = i ? i(t) : this.spanToSegs(t), o = 0; o < s.length; o++) this.transformEventSeg(s[o], t, e), n.push(s[o])
        },
        transformEventSpan: function (t, e) {
        },
        transformEventSeg: function (t, e, i) {
            t.event = i, t.eventStartMS = +e.start, t.eventDurationMS = e.end - e.start
        },
        invertRanges: function (t) {
            var e, i, n = this.view, s = n.start.clone(), o = n.end.clone(), r = [], a = s;
            for (t.sort(St), e = 0; e < t.length; e++) i = t[e], i.start > a && r.push({
                start: a,
                end: i.start
            }), a = i.end;
            return o > a && r.push({start: a, end: o}), r
        },
        sortEventSegs: function (t) {
            t.sort(it(this, "compareEventSegs"))
        },
        compareEventSegs: function (t, e) {
            return t.eventStartMS - e.eventStartMS || e.eventDurationMS - t.eventDurationMS || e.event.allDay - t.event.allDay || T(t.event, e.event, this.view.eventOrderSpecs)
        }
    }), Wt.dataAttrPrefix = "";
    var ce = Wt.DayTableMixin = {
        breakOnWeeks: !1,
        dayDates: null,
        dayIndices: null,
        daysPerRow: null,
        rowCnt: null,
        colCnt: null,
        colHeadFormat: null,
        updateDayTable: function () {
            for (var t, e, i, n = this.view, s = this.start.clone(), o = -1, r = [], a = []; s.isBefore(this.end);) n.isHiddenDay(s) ? r.push(o + .5) : (o++, r.push(o), a.push(s.clone())), s.add(1, "days");
            if (this.breakOnWeeks) {
                for (e = a[0].day(), t = 1; t < a.length && a[t].day() != e; t++) ;
                i = Math.ceil(a.length / t)
            } else i = 1, t = a.length;
            this.dayDates = a, this.dayIndices = r, this.daysPerRow = t, this.rowCnt = i, this.updateDayTableCols()
        },
        updateDayTableCols: function () {
            this.colCnt = this.computeColCnt(), this.colHeadFormat = this.view.opt("columnFormat") || this.computeColHeadFormat()
        },
        computeColCnt: function () {
            return this.daysPerRow
        },
        getCellDate: function (t, e) {
            return this.dayDates[this.getCellDayIndex(t, e)].clone()
        },
        getCellRange: function (t, e) {
            var i = this.getCellDate(t, e), n = i.clone().add(1, "days");
            return {start: i, end: n}
        },
        getCellDayIndex: function (t, e) {
            return t * this.daysPerRow + this.getColDayIndex(e)
        },
        getColDayIndex: function (t) {
            return this.isRTL ? this.colCnt - 1 - t : t
        },
        getDateDayIndex: function (t) {
            var e = this.dayIndices, i = t.diff(this.start, "days");
            return 0 > i ? e[0] - 1 : i >= e.length ? e[e.length - 1] + 1 : e[i]
        },
        computeColHeadFormat: function () {
            return this.rowCnt > 1 || this.colCnt > 10 ? "ddd" : this.colCnt > 1 ? this.view.opt("dayOfMonthFormat") : "dddd"
        },
        sliceRangeByRow: function (t) {
            var e, i, n, s, o, r = this.daysPerRow, a = this.view.computeDayRange(t), l = this.getDateDayIndex(a.start),
                h = this.getDateDayIndex(a.end.clone().subtract(1, "days")), u = [];
            for (e = 0; e < this.rowCnt; e++) i = e * r, n = i + r - 1, s = Math.max(l, i), o = Math.min(h, n), s = Math.ceil(s), o = Math.floor(o), o >= s && u.push({
                row: e,
                firstRowDayIndex: s - i,
                lastRowDayIndex: o - i,
                isStart: s === l,
                isEnd: o === h
            });
            return u
        },
        sliceRangeByDay: function (t) {
            var e, i, n, s, o, r, a = this.daysPerRow, l = this.view.computeDayRange(t),
                h = this.getDateDayIndex(l.start), u = this.getDateDayIndex(l.end.clone().subtract(1, "days")), c = [];
            for (e = 0; e < this.rowCnt; e++) for (i = e * a, n = i + a - 1, s = i; n >= s; s++) o = Math.max(h, s), r = Math.min(u, s), o = Math.ceil(o), r = Math.floor(r), r >= o && c.push({
                row: e,
                firstRowDayIndex: o - i,
                lastRowDayIndex: r - i,
                isStart: o === h,
                isEnd: r === u
            });
            return c
        },
        renderHeadHtml: function () {
            var t = this.view;
            return '<div class="fc-row ' + t.widgetHeaderClass + '"><table><thead>' + this.renderHeadTrHtml() + "</thead></table></div>"
        },
        renderHeadIntroHtml: function () {
            return this.renderIntroHtml()
        },
        renderHeadTrHtml: function () {
            return "<tr>" + (this.isRTL ? "" : this.renderHeadIntroHtml()) + this.renderHeadDateCellsHtml() + (this.isRTL ? this.renderHeadIntroHtml() : "") + "</tr>"
        },
        renderHeadDateCellsHtml: function () {
            var t, e, i = [];
            for (t = 0; t < this.colCnt; t++) e = this.getCellDate(0, t), i.push(this.renderHeadDateCellHtml(e));
            return i.join("")
        },
        renderHeadDateCellHtml: function (t, e) {
            var i = this.view;
            return '<th class="fc-day-header ' + i.widgetHeaderClass + " fc-" + Vt[t.day()] + '"' + (e > 1 ? ' colspan="' + e + '"' : "") + ">" + X(t.format(this.colHeadFormat)) + "</th>"
        },
        renderBgTrHtml: function (t) {
            return "<tr>" + (this.isRTL ? "" : this.renderBgIntroHtml(t)) + this.renderBgCellsHtml(t) + (this.isRTL ? this.renderBgIntroHtml(t) : "") + "</tr>"
        },
        renderBgIntroHtml: function (t) {
            return this.renderIntroHtml()
        },
        renderBgCellsHtml: function (t) {
            var e, i, n = [];
            for (e = 0; e < this.colCnt; e++) i = this.getCellDate(t, e), n.push(this.renderBgCellHtml(i));
            return n.join("")
        },
        renderBgCellHtml: function (t) {
            var e = this.view, i = this.getDayClasses(t);
            return i.unshift("fc-day", e.widgetContentClass), '<td class="' + i.join(" ") + '" data-date="' + t.format("YYYY-MM-DD") + '"></td>'
        },
        renderIntroHtml: function () {
        },
        bookendCells: function (t) {
            var e = this.renderIntroHtml();
            e && (this.isRTL ? t.append(e) : t.prepend(e))
        }
    }, de = Wt.DayGrid = ue.extend(ce, {
        numbersVisible: !1,
        bottomCoordPadding: 0,
        rowEls: null,
        cellEls: null,
        helperEls: null,
        rowCoordCache: null,
        colCoordCache: null,
        renderDates: function (t) {
            var e, i, n = this.view, s = this.rowCnt, o = this.colCnt, r = "";
            for (e = 0; s > e; e++) r += this.renderDayRowHtml(e, t);
            for (this.el.html(r), this.rowEls = this.el.find(".fc-row"), this.cellEls = this.el.find(".fc-day"), this.rowCoordCache = new re({
                els: this.rowEls,
                isVertical: !0
            }), this.colCoordCache = new re({
                els: this.cellEls.slice(0, this.colCnt),
                isHorizontal: !0
            }), e = 0; s > e; e++) for (i = 0; o > i; i++) n.trigger("dayRender", null, this.getCellDate(e, i), this.getCellEl(e, i))
        },
        unrenderDates: function () {
            this.removeSegPopover()
        },
        renderBusinessHours: function () {
            var t = this.view.calendar.getBusinessHoursEvents(!0), e = this.eventsToSegs(t);
            this.renderFill("businessHours", e, "bgevent")
        },
        renderDayRowHtml: function (t, e) {
            var i = this.view, n = ["fc-row", "fc-week", i.widgetContentClass];
            return e && n.push("fc-rigid"), '<div class="' + n.join(" ") + '"><div class="fc-bg"><table>' + this.renderBgTrHtml(t) + '</table></div><div class="fc-content-skeleton"><table>' + (this.numbersVisible ? "<thead>" + this.renderNumberTrHtml(t) + "</thead>" : "") + "</table></div></div>"
        },
        renderNumberTrHtml: function (t) {
            return "<tr>" + (this.isRTL ? "" : this.renderNumberIntroHtml(t)) + this.renderNumberCellsHtml(t) + (this.isRTL ? this.renderNumberIntroHtml(t) : "") + "</tr>"
        },
        renderNumberIntroHtml: function (t) {
            return this.renderIntroHtml()
        },
        renderNumberCellsHtml: function (t) {
            var e, i, n = [];
            for (e = 0; e < this.colCnt; e++) i = this.getCellDate(t, e), n.push(this.renderNumberCellHtml(i));
            return n.join("")
        },
        renderNumberCellHtml: function (t) {
            var e;
            return this.view.dayNumbersVisible ? (e = this.getDayClasses(t), e.unshift("fc-day-number"), '<td class="' + e.join(" ") + '" data-date="' + t.format() + '">' + t.date() + "</td>") : "<td/>"
        },
        computeEventTimeFormat: function () {
            return this.view.opt("extraSmallTimeFormat")
        },
        computeDisplayEventEnd: function () {
            return 1 == this.colCnt
        },
        rangeUpdated: function () {
            this.updateDayTable()
        },
        spanToSegs: function (t) {
            var e, i, n = this.sliceRangeByRow(t);
            for (e = 0; e < n.length; e++) i = n[e], this.isRTL ? (i.leftCol = this.daysPerRow - 1 - i.lastRowDayIndex, i.rightCol = this.daysPerRow - 1 - i.firstRowDayIndex) : (i.leftCol = i.firstRowDayIndex, i.rightCol = i.lastRowDayIndex);
            return n
        },
        prepareHits: function () {
            this.colCoordCache.build(), this.rowCoordCache.build(), this.rowCoordCache.bottoms[this.rowCnt - 1] += this.bottomCoordPadding
        },
        releaseHits: function () {
            this.colCoordCache.clear(), this.rowCoordCache.clear()
        },
        queryHit: function (t, e) {
            var i = this.colCoordCache.getHorizontalIndex(t), n = this.rowCoordCache.getVerticalIndex(e);
            return null != n && null != i ? this.getCellHit(n, i) : void 0
        },
        getHitSpan: function (t) {
            return this.getCellRange(t.row, t.col)
        },
        getHitEl: function (t) {
            return this.getCellEl(t.row, t.col)
        },
        getCellHit: function (t, e) {
            return {
                row: t,
                col: e,
                component: this,
                left: this.colCoordCache.getLeftOffset(e),
                right: this.colCoordCache.getRightOffset(e),
                top: this.rowCoordCache.getTopOffset(t),
                bottom: this.rowCoordCache.getBottomOffset(t)
            }
        },
        getCellEl: function (t, e) {
            return this.cellEls.eq(t * this.colCnt + e)
        },
        renderDrag: function (t, e) {
            return this.renderHighlight(this.eventToSpan(t)), e && !e.el.closest(this.el).length ? (this.renderEventLocationHelper(t, e), this.applyDragOpacity(this.helperEls), !0) : void 0
        },
        unrenderDrag: function () {
            this.unrenderHighlight(), this.unrenderHelper()
        },
        renderEventResize: function (t, e) {
            this.renderHighlight(this.eventToSpan(t)), this.renderEventLocationHelper(t, e)
        },
        unrenderEventResize: function () {
            this.unrenderHighlight(), this.unrenderHelper()
        },
        renderHelper: function (e, i) {
            var n, s = [], o = this.eventToSegs(e);
            o = this.renderFgSegEls(o), n = this.renderSegRows(o), this.rowEls.each(function (e, o) {
                var r, a = t(o), l = t('<div class="fc-helper-skeleton"><table/></div>');
                r = i && i.row === e ? i.el.position().top : a.find(".fc-content-skeleton tbody").position().top, l.css("top", r).find("table").append(n[e].tbodyEl), a.append(l), s.push(l[0])
            }), this.helperEls = t(s)
        },
        unrenderHelper: function () {
            this.helperEls && (this.helperEls.remove(), this.helperEls = null)
        },
        fillSegTag: "td",
        renderFill: function (e, i, n) {
            var s, o, r, a = [];
            for (i = this.renderFillSegEls(e, i), s = 0; s < i.length; s++) o = i[s], r = this.renderFillRow(e, o, n), this.rowEls.eq(o.row).append(r), a.push(r[0]);
            return this.elsByFill[e] = t(a), i
        },
        renderFillRow: function (e, i, n) {
            var s, o, r = this.colCnt, a = i.leftCol, l = i.rightCol + 1;
            return n = n || e.toLowerCase(), s = t('<div class="fc-' + n + '-skeleton"><table><tr/></table></div>'), o = s.find("tr"), a > 0 && o.append('<td colspan="' + a + '"/>'), o.append(i.el.attr("colspan", l - a)), r > l && o.append('<td colspan="' + (r - l) + '"/>'), this.bookendCells(o), s
        }
    });
    de.mixin({
        rowStructs: null, unrenderEvents: function () {
            this.removeSegPopover(), ue.prototype.unrenderEvents.apply(this, arguments)
        }, getEventSegs: function () {
            return ue.prototype.getEventSegs.call(this).concat(this.popoverSegs || [])
        }, renderBgSegs: function (e) {
            var i = t.grep(e, function (t) {
                return t.event.allDay
            });
            return ue.prototype.renderBgSegs.call(this, i)
        }, renderFgSegs: function (e) {
            var i;
            return e = this.renderFgSegEls(e), i = this.rowStructs = this.renderSegRows(e), this.rowEls.each(function (e, n) {
                t(n).find(".fc-content-skeleton > table").append(i[e].tbodyEl)
            }), e
        }, unrenderFgSegs: function () {
            for (var t, e = this.rowStructs || []; t = e.pop();) t.tbodyEl.remove();
            this.rowStructs = null
        }, renderSegRows: function (t) {
            var e, i, n = [];
            for (e = this.groupSegRows(t), i = 0; i < e.length; i++) n.push(this.renderSegRow(i, e[i]));
            return n
        }, fgSegHtml: function (t, e) {
            var i, n, s = this.view, o = t.event, r = s.isEventDraggable(o),
                a = !e && o.allDay && t.isStart && s.isEventResizableFromStart(o),
                l = !e && o.allDay && t.isEnd && s.isEventResizableFromEnd(o), h = this.getSegClasses(t, r, a || l),
                u = Q(this.getEventSkinCss(o)), c = "";
            return h.unshift("fc-day-grid-event", "fc-h-event"), t.isStart && (i = this.getEventTimeText(o), i && (c = '<span class="fc-time">' + X(i) + "</span>")), n = '<span class="fc-title">' + (X(o.title || "") || "&nbsp;") + "</span>", '<a class="' + h.join(" ") + '"' + (o.url ? ' href="' + X(o.url) + '"' : "") + (u ? ' style="' + u + '"' : "") + '><div class="fc-content">' + (this.isRTL ? n + " " + c : c + " " + n) + "</div>" + (a ? '<div class="fc-resizer fc-start-resizer" />' : "") + (l ? '<div class="fc-resizer fc-end-resizer" />' : "") + "</a>"
        }, renderSegRow: function (e, i) {
            function n(e) {
                for (; e > r;) u = (v[s - 1] || [])[r], u ? u.attr("rowspan", parseInt(u.attr("rowspan") || 1, 10) + 1) : (u = t("<td/>"), a.append(u)), m[s][r] = u, v[s][r] = u, r++
            }

            var s, o, r, a, l, h, u, c = this.colCnt, d = this.buildSegLevels(i), f = Math.max(1, d.length),
                p = t("<tbody/>"), g = [], m = [], v = [];
            for (s = 0; f > s; s++) {
                if (o = d[s], r = 0, a = t("<tr/>"), g.push([]), m.push([]), v.push([]), o) for (l = 0; l < o.length; l++) {
                    for (h = o[l], n(h.leftCol), u = t('<td class="fc-event-container"/>').append(h.el), h.leftCol != h.rightCol ? u.attr("colspan", h.rightCol - h.leftCol + 1) : v[s][r] = u; r <= h.rightCol;) m[s][r] = u, g[s][r] = h, r++;
                    a.append(u)
                }
                n(c), this.bookendCells(a), p.append(a)
            }
            return {row: e, tbodyEl: p, cellMatrix: m, segMatrix: g, segLevels: d, segs: i}
        }, buildSegLevels: function (t) {
            var e, i, n, s = [];
            for (this.sortEventSegs(t), e = 0; e < t.length; e++) {
                for (i = t[e], n = 0; n < s.length && Et(i, s[n]); n++) ;
                i.level = n, (s[n] || (s[n] = [])).push(i)
            }
            for (n = 0; n < s.length; n++) s[n].sort(Mt);
            return s
        }, groupSegRows: function (t) {
            var e, i = [];
            for (e = 0; e < this.rowCnt; e++) i.push([]);
            for (e = 0; e < t.length; e++) i[t[e].row].push(t[e]);
            return i
        }
    }), de.mixin({
        segPopover: null, popoverSegs: null, removeSegPopover: function () {
            this.segPopover && this.segPopover.hide()
        }, limitRows: function (t) {
            var e, i, n = this.rowStructs || [];
            for (e = 0; e < n.length; e++) this.unlimitRow(e), i = t ? "number" == typeof t ? t : this.computeRowLevelLimit(e) : !1, i !== !1 && this.limitRow(e, i)
        }, computeRowLevelLimit: function (e) {
            function i(e, i) {
                o = Math.max(o, t(i).outerHeight())
            }

            var n, s, o, r = this.rowEls.eq(e), a = r.height(), l = this.rowStructs[e].tbodyEl.children();
            for (n = 0; n < l.length; n++) if (s = l.eq(n).removeClass("fc-limited"), o = 0, s.find("> td > :first-child").each(i), s.position().top + o > a) return n;
            return !1
        }, limitRow: function (e, i) {
            function n(n) {
                for (; n > x;) h = b.getCellSegs(e, x, i), h.length && (d = o[i - 1][x], y = b.renderMoreLink(e, x, h), v = t("<div/>").append(y), d.append(v), _.push(v[0])), x++
            }

            var s, o, r, a, l, h, u, c, d, f, p, g, m, v, y, b = this, w = this.rowStructs[e], _ = [], x = 0;
            if (i && i < w.segLevels.length) {
                for (s = w.segLevels[i - 1], o = w.cellMatrix, r = w.tbodyEl.children().slice(i).addClass("fc-limited").get(), a = 0; a < s.length; a++) {
                    for (l = s[a], n(l.leftCol), c = [], u = 0; x <= l.rightCol;) h = this.getCellSegs(e, x, i), c.push(h), u += h.length, x++;
                    if (u) {
                        for (d = o[i - 1][l.leftCol], f = d.attr("rowspan") || 1, p = [], g = 0; g < c.length; g++) m = t('<td class="fc-more-cell"/>').attr("rowspan", f), h = c[g], y = this.renderMoreLink(e, l.leftCol + g, [l].concat(h)), v = t("<div/>").append(y), m.append(v), p.push(m[0]), _.push(m[0]);
                        d.addClass("fc-limited").after(t(p)), r.push(d[0])
                    }
                }
                n(this.colCnt), w.moreEls = t(_), w.limitedEls = t(r)
            }
        }, unlimitRow: function (t) {
            var e = this.rowStructs[t];
            e.moreEls && (e.moreEls.remove(), e.moreEls = null), e.limitedEls && (e.limitedEls.removeClass("fc-limited"), e.limitedEls = null)
        }, renderMoreLink: function (e, i, n) {
            var s = this, o = this.view;
            return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click", function (r) {
                var a = o.opt("eventLimitClick"), l = s.getCellDate(e, i), h = t(this), u = s.getCellEl(e, i),
                    c = s.getCellSegs(e, i), d = s.resliceDaySegs(c, l), f = s.resliceDaySegs(n, l);
                "function" == typeof a && (a = o.trigger("eventLimitClick", null, {
                    date: l,
                    dayEl: u,
                    moreEl: h,
                    segs: d,
                    hiddenSegs: f
                }, r)), "popover" === a ? s.showSegPopover(e, i, h, d) : "string" == typeof a && o.calendar.zoomTo(l, a)
            })
        }, showSegPopover: function (t, e, i, n) {
            var s, o, r = this, a = this.view, l = i.parent();
            s = 1 == this.rowCnt ? a.el : this.rowEls.eq(t), o = {
                className: "fc-more-popover",
                content: this.renderSegPopoverContent(t, e, n),
                parentEl: this.el,
                top: s.offset().top,
                autoHide: !0,
                viewportConstrain: a.opt("popoverViewportConstrain"),
                hide: function () {
                    r.segPopover.removeElement(), r.segPopover = null, r.popoverSegs = null
                }
            }, this.isRTL ? o.right = l.offset().left + l.outerWidth() + 1 : o.left = l.offset().left - 1, this.segPopover = new oe(o), this.segPopover.show()
        }, renderSegPopoverContent: function (e, i, n) {
            var s, o = this.view, r = o.opt("theme"), a = this.getCellDate(e, i).format(o.opt("dayPopoverFormat")),
                l = t('<div class="fc-header ' + o.widgetHeaderClass + '"><span class="fc-close ' + (r ? "ui-icon ui-icon-closethick" : "fc-icon fc-icon-x") + '"></span><span class="fc-title">' + X(a) + '</span><div class="fc-clear"/></div><div class="fc-body ' + o.widgetContentClass + '"><div class="fc-event-container"></div></div>'),
                h = l.find(".fc-event-container");
            for (n = this.renderFgSegEls(n, !0), this.popoverSegs = n, s = 0; s < n.length; s++) this.prepareHits(), n[s].hit = this.getCellHit(e, i), this.releaseHits(), h.append(n[s].el);
            return l
        }, resliceDaySegs: function (e, i) {
            var n = t.map(e, function (t) {
                return t.event
            }), s = i.clone(), o = s.clone().add(1, "days"), r = {start: s, end: o};
            return e = this.eventsToSegs(n, function (t) {
                var e = N(t, r);
                return e ? [e] : []
            }), this.sortEventSegs(e), e
        }, getMoreLinkText: function (t) {
            var e = this.view.opt("eventLimitText");
            return "function" == typeof e ? e(t) : "+" + t + " " + e
        }, getCellSegs: function (t, e, i) {
            for (var n, s = this.rowStructs[t].segMatrix, o = i || 0, r = []; o < s.length;) n = s[o][e], n && r.push(n), o++;
            return r
        }
    });
    var fe = Wt.TimeGrid = ue.extend(ce, {
        slotDuration: null,
        snapDuration: null,
        snapsPerSlot: null,
        minTime: null,
        maxTime: null,
        labelFormat: null,
        labelInterval: null,
        colEls: null,
        slatEls: null,
        helperEl: null,
        colCoordCache: null,
        slatCoordCache: null,
        businessHourSegs: null,
        constructor: function () {
            ue.apply(this, arguments), this.processOptions()
        },
        renderDates: function () {
            this.el.html(this.renderHtml()), this.colEls = this.el.find(".fc-day"), this.slatEls = this.el.find(".fc-slats tr"), this.colCoordCache = new re({
                els: this.colEls,
                isHorizontal: !0
            }), this.slatCoordCache = new re({els: this.slatEls, isVertical: !0})
        },
        renderBusinessHours: function () {
            var t = this.view.calendar.getBusinessHoursEvents();
            this.businessHourSegs = this.renderFill("businessHours", this.eventsToSegs(t), "bgevent")
        },
        renderHtml: function () {
            return '<div class="fc-bg"><table>' + this.renderBgTrHtml(0) + '</table></div><div class="fc-slats"><table>' + this.renderSlatRowHtml() + "</table></div>"
        },
        renderSlatRowHtml: function () {
            for (var t, i, n, s = this.view, o = this.isRTL, r = "", a = e.duration(+this.minTime); a < this.maxTime;) t = this.start.clone().time(a), i = et(z(a, this.labelInterval)), n = '<td class="fc-axis fc-time ' + s.widgetContentClass + '" ' + s.axisStyleAttr() + ">" + (i ? "<span>" + X(t.format(this.labelFormat)) + "</span>" : "") + "</td>", r += "<tr " + (i ? "" : 'class="fc-minor"') + ">" + (o ? "" : n) + '<td class="' + s.widgetContentClass + '"/>' + (o ? n : "") + "</tr>", a.add(this.slotDuration);
            return r
        },
        processOptions: function () {
            var i, n = this.view, s = n.opt("slotDuration"), o = n.opt("snapDuration");
            s = e.duration(s), o = o ? e.duration(o) : s, this.slotDuration = s, this.snapDuration = o, this.snapsPerSlot = s / o, this.minResizeDuration = o, this.minTime = e.duration(n.opt("minTime")), this.maxTime = e.duration(n.opt("maxTime")), i = n.opt("slotLabelFormat"), t.isArray(i) && (i = i[i.length - 1]), this.labelFormat = i || n.opt("axisFormat") || n.opt("smallTimeFormat"), i = n.opt("slotLabelInterval"), this.labelInterval = i ? e.duration(i) : this.computeLabelInterval(s)
        },
        computeLabelInterval: function (t) {
            var i, n, s;
            for (i = Me.length - 1; i >= 0; i--) if (n = e.duration(Me[i]), s = z(n, t), et(s) && s > 1) return n;
            return e.duration(t)
        },
        computeEventTimeFormat: function () {
            return this.view.opt("noMeridiemTimeFormat")
        },
        computeDisplayEventEnd: function () {
            return !0
        },
        prepareHits: function () {
            this.colCoordCache.build(), this.slatCoordCache.build()
        },
        releaseHits: function () {
            this.colCoordCache.clear()
        },
        queryHit: function (t, e) {
            var i = this.snapsPerSlot, n = this.colCoordCache, s = this.slatCoordCache, o = n.getHorizontalIndex(t),
                r = s.getVerticalIndex(e);
            if (null != o && null != r) {
                var a = s.getTopOffset(r), l = s.getHeight(r), h = (e - a) / l, u = Math.floor(h * i), c = r * i + u,
                    d = a + u / i * l, f = a + (u + 1) / i * l;
                return {
                    col: o,
                    snap: c,
                    component: this,
                    left: n.getLeftOffset(o),
                    right: n.getRightOffset(o),
                    top: d,
                    bottom: f
                }
            }
        },
        getHitSpan: function (t) {
            var e, i = this.getCellDate(0, t.col), n = this.computeSnapTime(t.snap);
            return i.time(n), e = i.clone().add(this.snapDuration), {start: i, end: e}
        },
        getHitEl: function (t) {
            return this.colEls.eq(t.col)
        },
        rangeUpdated: function () {
            this.updateDayTable()
        },
        computeSnapTime: function (t) {
            return e.duration(this.minTime + this.snapDuration * t)
        },
        spanToSegs: function (t) {
            var e, i = this.sliceRangeByTimes(t);
            for (e = 0; e < i.length; e++) this.isRTL ? i[e].col = this.daysPerRow - 1 - i[e].dayIndex : i[e].col = i[e].dayIndex;
            return i
        },
        sliceRangeByTimes: function (t) {
            var e, i, n, s, o = [];
            for (i = 0; i < this.daysPerRow; i++) n = this.dayDates[i].clone(), s = {
                start: n.clone().time(this.minTime),
                end: n.clone().time(this.maxTime)
            }, e = N(t, s), e && (e.dayIndex = i, o.push(e));
            return o
        },
        updateSize: function (t) {
            this.slatCoordCache.build(), t && this.updateSegVerticals()
        },
        computeDateTop: function (t, i) {
            return this.computeTimeTop(e.duration(t - i.clone().stripTime()))
        },
        computeTimeTop: function (t) {
            var e, i, n = this.slatEls.length, s = (t - this.minTime) / this.slotDuration;
            return s = Math.max(0, s), s = Math.min(n, s), e = Math.floor(s), e = Math.min(e, n - 1), i = s - e, this.slatCoordCache.getTopPosition(e) + this.slatCoordCache.getHeight(e) * i
        },
        renderDrag: function (t, e) {
            return e ? (this.renderEventLocationHelper(t, e), this.applyDragOpacity(this.helperEl), !0) : void this.renderHighlight(this.eventToSpan(t))
        },
        unrenderDrag: function () {
            this.unrenderHelper(), this.unrenderHighlight()
        },
        renderEventResize: function (t, e) {
            this.renderEventLocationHelper(t, e)
        },
        unrenderEventResize: function () {
            this.unrenderHelper()
        },
        renderHelper: function (e, i) {
            var n, s, o, r, a = this.eventToSegs(e);
            for (a = this.renderFgSegEls(a), n = this.renderSegTable(a), s = 0; s < a.length; s++) o = a[s], i && i.col === o.col && (r = i.el, o.el.css({
                left: r.css("left"),
                right: r.css("right"),
                "margin-left": r.css("margin-left"),
                "margin-right": r.css("margin-right")
            }));
            this.helperEl = t('<div class="fc-helper-skeleton"/>').append(n).appendTo(this.el)
        },
        unrenderHelper: function () {
            this.helperEl && (this.helperEl.remove(), this.helperEl = null)
        },
        renderSelection: function (t) {
            this.view.opt("selectHelper") ? this.renderEventLocationHelper(t) : this.renderHighlight(t)
        },
        unrenderSelection: function () {
            this.unrenderHelper(), this.unrenderHighlight()
        },
        renderFill: function (e, i, n) {
            var s, o, r, a, l, h, u, c, d, f;
            if (i.length) {
                for (i = this.renderFillSegEls(e, i), s = this.groupSegCols(i), n = n || e.toLowerCase(), o = t('<div class="fc-' + n + '-skeleton"><table><tr/></table></div>'), r = o.find("tr"), a = 0; a < s.length; a++) if (l = s[a], h = t("<td/>").appendTo(r), l.length) for (u = t('<div class="fc-' + n + '-container"/>').appendTo(h), c = this.getCellDate(0, a), d = 0; d < l.length; d++) f = l[d], u.append(f.el.css({
                    top: this.computeDateTop(f.start, c),
                    bottom: -this.computeDateTop(f.end, c)
                }));
                this.bookendCells(r), this.el.append(o), this.elsByFill[e] = o
            }
            return i
        }
    });
    fe.mixin({
        eventSkeletonEl: null, renderFgSegs: function (e) {
            return e = this.renderFgSegEls(e), this.el.append(this.eventSkeletonEl = t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))), e
        }, unrenderFgSegs: function (t) {
            this.eventSkeletonEl && (this.eventSkeletonEl.remove(), this.eventSkeletonEl = null)
        }, renderSegTable: function (e) {
            var i, n, s, o, r, a, l = t("<table><tr/></table>"), h = l.find("tr");
            for (i = this.groupSegCols(e), this.computeSegVerticals(e), o = 0; o < i.length; o++) {
                for (r = i[o], this.placeSlotSegs(r), a = t('<div class="fc-event-container"/>'), n = 0; n < r.length; n++) s = r[n], s.el.css(this.generateSegPositionCss(s)), s.bottom - s.top < 30 && s.el.addClass("fc-short"), a.append(s.el);
                h.append(t("<td/>").append(a))
            }
            return this.bookendCells(h), l
        }, placeSlotSegs: function (t) {
            var e, i, n;
            if (this.sortEventSegs(t), e = Nt(t), It(e), i = e[0]) {
                for (n = 0; n < i.length; n++) Ht(i[n]);
                for (n = 0; n < i.length; n++) this.computeSlotSegCoords(i[n], 0, 0)
            }
        }, computeSlotSegCoords: function (t, e, i) {
            var n, s = t.forwardSegs;
            if (void 0 === t.forwardCoord) for (s.length ? (this.sortForwardSlotSegs(s), this.computeSlotSegCoords(s[0], e + 1, i), t.forwardCoord = s[0].backwardCoord) : t.forwardCoord = 1, t.backwardCoord = t.forwardCoord - (t.forwardCoord - i) / (e + 1), n = 0; n < s.length; n++) this.computeSlotSegCoords(s[n], 0, t.forwardCoord)
        }, updateSegVerticals: function () {
            var t, e = (this.segs || []).concat(this.businessHourSegs || []);
            for (this.computeSegVerticals(e), t = 0; t < e.length; t++) e[t].el.css(this.generateSegVerticalCss(e[t]))
        }, computeSegVerticals: function (t) {
            var e, i;
            for (e = 0; e < t.length; e++) i = t[e], i.top = this.computeDateTop(i.start, i.start), i.bottom = this.computeDateTop(i.end, i.start)
        }, fgSegHtml: function (t, e) {
            var i, n, s, o = this.view, r = t.event, a = o.isEventDraggable(r),
                l = !e && t.isStart && o.isEventResizableFromStart(r),
                h = !e && t.isEnd && o.isEventResizableFromEnd(r), u = this.getSegClasses(t, a, l || h),
                c = Q(this.getEventSkinCss(r));
            return u.unshift("fc-time-grid-event", "fc-v-event"), o.isMultiDayEvent(r) ? (t.isStart || t.isEnd) && (i = this.getEventTimeText(t), n = this.getEventTimeText(t, "LT"), s = this.getEventTimeText(t, null, !1)) : (i = this.getEventTimeText(r), n = this.getEventTimeText(r, "LT"), s = this.getEventTimeText(r, null, !1)), '<a class="' + u.join(" ") + '"' + (r.url ? ' href="' + X(r.url) + '"' : "") + (c ? ' style="' + c + '"' : "") + '><div class="fc-content">' + (i ? '<div class="fc-time" data-start="' + X(s) + '" data-full="' + X(n) + '"><span>' + X(i) + "</span></div>" : "") + (r.title ? '<div class="fc-title">' + X(r.title) + "</div>" : "") + '</div><div class="fc-bg"/>' + (h ? '<div class="fc-resizer fc-end-resizer" />' : "") + "</a>"
        }, generateSegPositionCss: function (t) {
            var e, i, n = this.view.opt("slotEventOverlap"), s = t.backwardCoord, o = t.forwardCoord,
                r = this.generateSegVerticalCss(t);
            return n && (o = Math.min(1, s + 2 * (o - s))), this.isRTL ? (e = 1 - o, i = s) : (e = s, i = 1 - o), r.zIndex = t.level + 1, r.left = 100 * e + "%", r.right = 100 * i + "%", n && t.forwardPressure && (r[this.isRTL ? "marginLeft" : "marginRight"] = 20), r
        }, generateSegVerticalCss: function (t) {
            return {top: t.top, bottom: -t.bottom}
        }, groupSegCols: function (t) {
            var e, i = [];
            for (e = 0; e < this.colCnt; e++) i.push([]);
            for (e = 0; e < t.length; e++) i[t[e].col].push(t[e]);
            return i
        }, sortForwardSlotSegs: function (t) {
            t.sort(it(this, "compareForwardSlotSegs"))
        }, compareForwardSlotSegs: function (t, e) {
            return e.forwardPressure - t.forwardPressure || (t.backwardCoord || 0) - (e.backwardCoord || 0) || this.compareEventSegs(t, e)
        }
    });
    var pe = Wt.View = vt.extend({
        type: null,
        name: null,
        title: null,
        calendar: null,
        options: null,
        el: null,
        displaying: null,
        isSkeletonRendered: !1,
        isEventsRendered: !1,
        start: null,
        end: null,
        intervalStart: null,
        intervalEnd: null,
        intervalDuration: null,
        intervalUnit: null,
        isRTL: !1,
        isSelected: !1,
        eventOrderSpecs: null,
        scrollerEl: null,
        scrollTop: null,
        widgetHeaderClass: null,
        widgetContentClass: null,
        highlightStateClass: null,
        nextDayThreshold: null,
        isHiddenDayHash: null,
        documentMousedownProxy: null,
        constructor: function (t, i, n, s) {
            this.calendar = t, this.type = this.name = i, this.options = n, this.intervalDuration = s || e.duration(1, "day"), this.nextDayThreshold = e.duration(this.opt("nextDayThreshold")), this.initThemingProps(), this.initHiddenDays(), this.isRTL = this.opt("isRTL"), this.eventOrderSpecs = S(this.opt("eventOrder")), this.documentMousedownProxy = it(this, "documentMousedown"), this.initialize()
        },
        initialize: function () {
        },
        opt: function (t) {
            return this.options[t]
        },
        trigger: function (t, e) {
            var i = this.calendar;
            return i.trigger.apply(i, [t, e || this].concat(Array.prototype.slice.call(arguments, 2), [this]))
        },
        setDate: function (t) {
            this.setRange(this.computeRange(t))
        },
        setRange: function (e) {
            t.extend(this, e), this.updateTitle()
        },
        computeRange: function (t) {
            var e, i, n = A(this.intervalDuration), s = t.clone().startOf(n), o = s.clone().add(this.intervalDuration);
            return /year|month|week|day/.test(n) ? (s.stripTime(), o.stripTime()) : (s.hasTime() || (s = this.calendar.time(0)), o.hasTime() || (o = this.calendar.time(0))), e = s.clone(), e = this.skipHiddenDays(e), i = o.clone(), i = this.skipHiddenDays(i, -1, !0), {
                intervalUnit: n,
                intervalStart: s,
                intervalEnd: o,
                start: e,
                end: i
            }
        },
        computePrevDate: function (t) {
            return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1)
        },
        computeNextDate: function (t) {
            return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))
        },
        massageCurrentDate: function (t, e) {
            return this.intervalDuration.as("days") <= 1 && this.isHiddenDay(t) && (t = this.skipHiddenDays(t, e), t.startOf("day")), t
        },
        updateTitle: function () {
            this.title = this.computeTitle()
        },
        computeTitle: function () {
            return this.formatRange({
                start: this.calendar.applyTimezone(this.intervalStart),
                end: this.calendar.applyTimezone(this.intervalEnd)
            }, this.opt("titleFormat") || this.computeTitleFormat(), this.opt("titleRangeSeparator"))
        },
        computeTitleFormat: function () {
            return "year" == this.intervalUnit ? "YYYY" : "month" == this.intervalUnit ? this.opt("monthYearFormat") : this.intervalDuration.as("days") > 1 ? "ll" : "LL"
        },
        formatRange: function (t, e, i) {
            var n = t.end;
            return n.hasTime() || (n = n.clone().subtract(1)), dt(t.start, n, e, i, this.opt("isRTL"))
        },
        setElement: function (t) {
            this.el = t, this.bindGlobalHandlers()
        },
        removeElement: function () {
            this.clear(), this.isSkeletonRendered && (this.unrenderSkeleton(), this.isSkeletonRendered = !1), this.unbindGlobalHandlers(), this.el.remove()
        },
        display: function (e) {
            var i = this, n = null;
            return this.displaying && (n = this.queryScroll()), this.calendar.freezeContentHeight(), this.clear().then(function () {
                return i.displaying = t.when(i.displayView(e)).then(function () {
                    i.forceScroll(i.computeInitialScroll(n)), i.calendar.unfreezeContentHeight(), i.triggerRender()
                })
            })
        },
        clear: function () {
            var e = this, i = this.displaying;
            return i ? i.then(function () {
                return e.displaying = null, e.clearEvents(), e.clearView()
            }) : t.when()
        },
        redisplay: function () {
            if (this.isSkeletonRendered) {
                var t = this.isEventsRendered;
                this.clearEvents(), this.clearView(), this.displayView(), t && this.displayEvents()
            }
        },
        displayView: function (t) {
            this.isSkeletonRendered || (this.renderSkeleton(), this.isSkeletonRendered = !0), t && this.setDate(t), this.render && this.render(), this.renderDates(), this.updateSize(), this.renderBusinessHours()
        },
        clearView: function () {
            this.unselect(), this.triggerUnrender(), this.unrenderBusinessHours(), this.unrenderDates(), this.destroy && this.destroy()
        },
        renderSkeleton: function () {
        },
        unrenderSkeleton: function () {
        },
        renderDates: function () {
        },
        unrenderDates: function () {
        },
        renderBusinessHours: function () {
        },
        unrenderBusinessHours: function () {
        },
        triggerRender: function () {
            this.trigger("viewRender", this, this, this.el)
        },
        triggerUnrender: function () {
            this.trigger("viewDestroy", this, this, this.el)
        },
        bindGlobalHandlers: function () {
            t(document).on("mousedown", this.documentMousedownProxy)
        },
        unbindGlobalHandlers: function () {
            t(document).off("mousedown", this.documentMousedownProxy)
        },
        initThemingProps: function () {
            var t = this.opt("theme") ? "ui" : "fc";
            this.widgetHeaderClass = t + "-widget-header", this.widgetContentClass = t + "-widget-content", this.highlightStateClass = t + "-state-highlight"
        },
        updateSize: function (t) {
            var e;
            t && (e = this.queryScroll()), this.updateHeight(t), this.updateWidth(t), t && this.setScroll(e)
        },
        updateWidth: function (t) {
        },
        updateHeight: function (t) {
            var e = this.calendar;
            this.setHeight(e.getSuggestedViewHeight(), e.isHeightAuto());
        },
        setHeight: function (t, e) {
        },
        computeScrollerHeight: function (t) {
            var e, i, n = this.scrollerEl;
            return e = this.el.add(n), e.css({
                position: "relative",
                left: -1
            }), i = this.el.outerHeight() - n.height(), e.css({position: "", left: ""}), t - i
        },
        computeInitialScroll: function (t) {
            return 0
        },
        queryScroll: function () {
            return this.scrollerEl ? this.scrollerEl.scrollTop() : void 0
        },
        setScroll: function (t) {
            return this.scrollerEl ? this.scrollerEl.scrollTop(t) : void 0
        },
        forceScroll: function (t) {
            var e = this;
            this.setScroll(t), setTimeout(function () {
                e.setScroll(t)
            }, 0)
        },
        displayEvents: function (t) {
            var e = this.queryScroll();
            this.clearEvents(), this.renderEvents(t), this.isEventsRendered = !0, this.setScroll(e), this.triggerEventRender()
        },
        clearEvents: function () {
            this.isEventsRendered && (this.triggerEventUnrender(), this.destroyEvents && this.destroyEvents(), this.unrenderEvents(), this.isEventsRendered = !1)
        },
        renderEvents: function (t) {
        },
        unrenderEvents: function () {
        },
        triggerEventRender: function () {
            this.renderedEventSegEach(function (t) {
                this.trigger("eventAfterRender", t.event, t.event, t.el)
            }), this.trigger("eventAfterAllRender")
        },
        triggerEventUnrender: function () {
            this.renderedEventSegEach(function (t) {
                this.trigger("eventDestroy", t.event, t.event, t.el)
            })
        },
        resolveEventEl: function (e, i) {
            var n = this.trigger("eventRender", e, e, i);
            return n === !1 ? i = null : n && n !== !0 && (i = t(n)), i
        },
        showEvent: function (t) {
            this.renderedEventSegEach(function (t) {
                t.el.css("visibility", "")
            }, t)
        },
        hideEvent: function (t) {
            this.renderedEventSegEach(function (t) {
                t.el.css("visibility", "hidden")
            }, t)
        },
        renderedEventSegEach: function (t, e) {
            var i, n = this.getEventSegs();
            for (i = 0; i < n.length; i++) e && n[i].event._id !== e._id || n[i].el && t.call(this, n[i])
        },
        getEventSegs: function () {
            return []
        },
        isEventDraggable: function (t) {
            var e = t.source || {};
            return K(t.startEditable, e.startEditable, this.opt("eventStartEditable"), t.editable, e.editable, this.opt("editable"))
        },
        reportEventDrop: function (t, e, i, n, s) {
            var o = this.calendar, r = o.mutateEvent(t, e, i), a = function () {
                r.undo(), o.reportEventChange()
            };
            this.triggerEventDrop(t, r.dateDelta, a, n, s), o.reportEventChange()
        },
        triggerEventDrop: function (t, e, i, n, s) {
            this.trigger("eventDrop", n[0], t, e, i, s, {})
        },
        reportExternalDrop: function (e, i, n, s, o) {
            var r, a, l = e.eventProps;
            l && (r = t.extend({}, l, i), a = this.calendar.renderEvent(r, e.stick)[0]), this.triggerExternalDrop(a, i, n, s, o)
        },
        triggerExternalDrop: function (t, e, i, n, s) {
            this.trigger("drop", i[0], e.start, n, s), t && this.trigger("eventReceive", null, t)
        },
        renderDrag: function (t, e) {
        },
        unrenderDrag: function () {
        },
        isEventResizableFromStart: function (t) {
            return this.opt("eventResizableFromStart") && this.isEventResizable(t)
        },
        isEventResizableFromEnd: function (t) {
            return this.isEventResizable(t)
        },
        isEventResizable: function (t) {
            var e = t.source || {};
            return K(t.durationEditable, e.durationEditable, this.opt("eventDurationEditable"), t.editable, e.editable, this.opt("editable"))
        },
        reportEventResize: function (t, e, i, n, s) {
            var o = this.calendar, r = o.mutateEvent(t, e, i), a = function () {
                r.undo(), o.reportEventChange()
            };
            this.triggerEventResize(t, r.durationDelta, a, n, s), o.reportEventChange()
        },
        triggerEventResize: function (t, e, i, n, s) {
            this.trigger("eventResize", n[0], t, e, i, s, {})
        },
        select: function (t, e) {
            this.unselect(e), this.renderSelection(t), this.reportSelection(t, e)
        },
        renderSelection: function (t) {
        },
        reportSelection: function (t, e) {
            this.isSelected = !0, this.triggerSelect(t, e)
        },
        triggerSelect: function (t, e) {
            this.trigger("select", null, this.calendar.applyTimezone(t.start), this.calendar.applyTimezone(t.end), e)
        },
        unselect: function (t) {
            this.isSelected && (this.isSelected = !1, this.destroySelection && this.destroySelection(), this.unrenderSelection(), this.trigger("unselect", null, t))
        },
        unrenderSelection: function () {
        },
        documentMousedown: function (e) {
            var i;
            this.isSelected && this.opt("unselectAuto") && _(e) && (i = this.opt("unselectCancel"), i && t(e.target).closest(i).length || this.unselect(e))
        },
        triggerDayClick: function (t, e, i) {
            this.trigger("dayClick", e, this.calendar.applyTimezone(t.start), i)
        },
        initHiddenDays: function () {
            var e, i = this.opt("hiddenDays") || [], n = [], s = 0;
            for (this.opt("weekends") === !1 && i.push(0, 6), e = 0; 7 > e; e++) (n[e] = -1 !== t.inArray(e, i)) || s++;
            if (!s) throw"invalid hiddenDays";
            this.isHiddenDayHash = n
        },
        isHiddenDay: function (t) {
            return e.isMoment(t) && (t = t.day()), this.isHiddenDayHash[t]
        },
        skipHiddenDays: function (t, e, i) {
            var n = t.clone();
            for (e = e || 1; this.isHiddenDayHash[(n.day() + (i ? e : 0) + 7) % 7];) n.add(e, "days");
            return n
        },
        computeDayRange: function (t) {
            var e, i = t.start.clone().stripTime(), n = t.end, s = null;
            return n && (s = n.clone().stripTime(), e = +n.time(), e && e >= this.nextDayThreshold && s.add(1, "days")), (!n || i >= s) && (s = i.clone().add(1, "days")), {
                start: i,
                end: s
            }
        },
        isMultiDayEvent: function (t) {
            var e = this.computeDayRange(t);
            return e.end.diff(e.start, "days") > 1
        }
    }), ge = Wt.Calendar = vt.extend({
        dirDefaults: null,
        langDefaults: null,
        overrides: null,
        options: null,
        viewSpecCache: null,
        view: null,
        header: null,
        loadingLevel: 0,
        constructor: Ft,
        initialize: function () {
        },
        initOptions: function (t) {
            var e, s, o, r;
            t = n(t), e = t.lang, s = me[e], s || (e = ge.defaults.lang, s = me[e] || {}), o = K(t.isRTL, s.isRTL, ge.defaults.isRTL), r = o ? ge.rtlDefaults : {}, this.dirDefaults = r, this.langDefaults = s, this.overrides = t, this.options = i([ge.defaults, r, s, t]), Rt(this.options), this.viewSpecCache = {}
        },
        getViewSpec: function (t) {
            var e = this.viewSpecCache;
            return e[t] || (e[t] = this.buildViewSpec(t))
        },
        getUnitViewSpec: function (e) {
            var i, n, s;
            if (-1 != t.inArray(e, $t)) for (i = this.header.getViewsWithButtons(), t.each(Wt.views, function (t) {
                i.push(t)
            }), n = 0; n < i.length; n++) if (s = this.getViewSpec(i[n]), s && s.singleUnit == e) return s
        },
        buildViewSpec: function (t) {
            for (var n, s, o, r, a = this.overrides.views || {}, l = [], h = [], u = [], c = t; c;) n = Yt[c], s = a[c], c = null, "function" == typeof n && (n = {"class": n}), n && (l.unshift(n), h.unshift(n.defaults || {}), o = o || n.duration, c = c || n.type), s && (u.unshift(s), o = o || s.duration, c = c || s.type);
            return n = Y(l), n.type = t, n["class"] ? (o && (o = e.duration(o), o.valueOf() && (n.duration = o, r = A(o), 1 === o.as(r) && (n.singleUnit = r, u.unshift(a[r] || {})))), n.defaults = i(h), n.overrides = i(u), this.buildViewSpecOptions(n), this.buildViewSpecButtonText(n, t), n) : !1
        },
        buildViewSpecOptions: function (t) {
            t.options = i([ge.defaults, t.defaults, this.dirDefaults, this.langDefaults, this.overrides, t.overrides]), Rt(t.options)
        },
        buildViewSpecButtonText: function (t, e) {
            function i(i) {
                var n = i.buttonText || {};
                return n[e] || (t.singleUnit ? n[t.singleUnit] : null)
            }

            t.buttonTextOverride = i(this.overrides) || t.overrides.buttonText, t.buttonTextDefault = i(this.langDefaults) || i(this.dirDefaults) || t.defaults.buttonText || i(ge.defaults) || (t.duration ? this.humanizeDuration(t.duration) : null) || e
        },
        instantiateView: function (t) {
            var e = this.getViewSpec(t);
            return new e["class"](this, t, e.options, e.duration)
        },
        isValidViewType: function (t) {
            return Boolean(this.getViewSpec(t))
        },
        pushLoading: function () {
            this.loadingLevel++ || this.trigger("loading", null, !0, this.view)
        },
        popLoading: function () {
            --this.loadingLevel || this.trigger("loading", null, !1, this.view)
        },
        buildSelectSpan: function (t, e) {
            var i, n = this.moment(t).stripZone();
            return i = e ? this.moment(e).stripZone() : n.hasTime() ? n.clone().add(this.defaultTimedEventDuration) : n.clone().add(this.defaultAllDayEventDuration), {
                start: n,
                end: i
            }
        }
    });
    ge.mixin(se), ge.defaults = {
        titleRangeSeparator: "  ",
        monthYearFormat: "MMMM YYYY",
        defaultTimedEventDuration: "02:00:00",
        defaultAllDayEventDuration: {days: 1},
        forceEventDuration: !1,
        nextDayThreshold: "09:00:00",
        defaultView: "month",
        aspectRatio: 1.35,
        header: {left: "title", center: "", right: "today prev,next"},
        weekends: !0,
        weekNumbers: !1,
        weekNumberTitle: "W",
        weekNumberCalculation: "local",
        scrollTime: "06:00:00",
        lazyFetching: !0,
        startParam: "start",
        endParam: "end",
        timezoneParam: "timezone",
        timezone: !1,
        isRTL: !1,
        buttonText: {
            prev: "prev",
            next: "next",
            prevYear: "prev year",
            nextYear: "next year",
            year: "year",
            today: "today",
            month: "month",
            week: "week",
            day: "day"
        },
        buttonIcons: {
            prev: "left-single-arrow",
            next: "right-single-arrow",
            prevYear: "left-double-arrow",
            nextYear: "right-double-arrow"
        },
        theme: !1,
        themeButtonIcons: {
            prev: "circle-triangle-w",
            next: "circle-triangle-e",
            prevYear: "seek-prev",
            nextYear: "seek-next"
        },
        dragOpacity: .75,
        dragRevertDuration: 500,
        dragScroll: !0,
        unselectAuto: !0,
        dropAccept: "*",
        eventOrder: "title",
        eventLimit: !1,
        eventLimitText: "more",
        eventLimitClick: "popover",
        dayPopoverFormat: "LL",
        handleWindowResize: !0,
        windowResizeDelay: 200
    }, ge.englishDefaults = {dayPopoverFormat: "dddd, MMMM D"}, ge.rtlDefaults = {
        header: {
            left: "next,prev today",
            center: "",
            right: "title"
        },
        buttonIcons: {
            prev: "right-single-arrow",
            next: "left-single-arrow",
            prevYear: "right-double-arrow",
            nextYear: "left-double-arrow"
        },
        themeButtonIcons: {
            prev: "circle-triangle-e",
            next: "circle-triangle-w",
            nextYear: "seek-prev",
            prevYear: "seek-next"
        }
    };
    var me = Wt.langs = {};
    Wt.datepickerLang = function (e, i, n) {
        var s = me[e] || (me[e] = {});
        s.isRTL = n.isRTL, s.weekNumberTitle = n.weekHeader, t.each(ve, function (t, e) {
            s[t] = e(n)
        }), t.datepicker && (t.datepicker.regional[i] = t.datepicker.regional[e] = n, t.datepicker.regional.en = t.datepicker.regional[""], t.datepicker.setDefaults(n))
    }, Wt.lang = function (e, n) {
        var s, o;
        s = me[e] || (me[e] = {}), n && (s = me[e] = i([s, n])), o = zt(e), t.each(ye, function (t, e) {
            null == s[t] && (s[t] = e(o, s))
        }), ge.defaults.lang = e
    };
    var ve = {
        buttonText: function (t) {
            return {prev: Z(t.prevText), next: Z(t.nextText), today: Z(t.currentText)}
        }, monthYearFormat: function (t) {
            return t.showMonthAfterYear ? "YYYY[" + t.yearSuffix + "] MMMM" : "MMMM YYYY[" + t.yearSuffix + "]"
        }
    }, ye = {
        dayOfMonthFormat: function (t, e) {
            var i = t.longDateFormat("l");
            return i = i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g, ""), e.isRTL ? i += " ddd" : i = "ddd " + i, i
        }, mediumTimeFormat: function (t) {
            return t.longDateFormat("LT").replace(/\s*a$/i, "a")
        }, smallTimeFormat: function (t) {
            return t.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "a")
        }, extraSmallTimeFormat: function (t) {
            return t.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "t")
        }, hourFormat: function (t) {
            return t.longDateFormat("LT").replace(":mm", "").replace(/(\Wmm)$/, "").replace(/\s*a$/i, "a")
        }, noMeridiemTimeFormat: function (t) {
            return t.longDateFormat("LT").replace(/\s*a$/i, "")
        }
    }, be = {
        smallDayDateFormat: function (t) {
            return t.isRTL ? "D dd" : "dd D"
        }, weekFormat: function (t) {
            return t.isRTL ? "w[ " + t.weekNumberTitle + "]" : "[" + t.weekNumberTitle + " ]w"
        }, smallWeekFormat: function (t) {
            return t.isRTL ? "w[" + t.weekNumberTitle + "]" : "[" + t.weekNumberTitle + "]w"
        }
    };
    Wt.lang("en", ge.englishDefaults), Wt.sourceNormalizers = [], Wt.sourceFetchers = [];
    var we = {dataType: "json", cache: !1}, _e = 1;
    ge.prototype.getPeerEvents = function (t, e) {
        var i, n, s = this.getEventCache(), o = [];
        for (i = 0; i < s.length; i++) n = s[i], e && e._id === n._id || o.push(n);
        return o
    };
    var xe = Wt.BasicView = pe.extend({
        dayGridClass: de,
        dayGrid: null,
        dayNumbersVisible: !1,
        weekNumbersVisible: !1,
        weekNumberWidth: null,
        headContainerEl: null,
        headRowEl: null,
        initialize: function () {
            this.dayGrid = this.instantiateDayGrid()
        },
        instantiateDayGrid: function () {
            var t = this.dayGridClass.extend(ke);
            return new t(this)
        },
        setRange: function (t) {
            pe.prototype.setRange.call(this, t), this.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit), this.dayGrid.setRange(t)
        },
        computeRange: function (t) {
            var e = pe.prototype.computeRange.call(this, t);
            return /year|month/.test(e.intervalUnit) && (e.start.startOf("week"), e.start = this.skipHiddenDays(e.start), e.end.weekday() && (e.end.add(1, "week").startOf("week"), e.end = this.skipHiddenDays(e.end, -1, !0))), e
        },
        renderDates: function () {
            this.dayNumbersVisible = this.dayGrid.rowCnt > 1, this.weekNumbersVisible = this.opt("weekNumbers"), this.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible, this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()), this.renderHead(), this.scrollerEl = this.el.find(".fc-day-grid-container"), this.dayGrid.setElement(this.el.find(".fc-day-grid")), this.dayGrid.renderDates(this.hasRigidRows())
        },
        renderHead: function () {
            this.headContainerEl = this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()), this.headRowEl = this.headContainerEl.find(".fc-row")
        },
        unrenderDates: function () {
            this.dayGrid.unrenderDates(), this.dayGrid.removeElement()
        },
        renderBusinessHours: function () {
            this.dayGrid.renderBusinessHours()
        },
        renderSkeletonHtml: function () {
            return '<table><thead class="fc-head"><tr><td class="fc-head-container ' + this.widgetHeaderClass + '"></td></tr></thead><tbody class="fc-body"><tr><td class="' + this.widgetContentClass + '"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'
        },
        weekNumberStyleAttr: function () {
            return null !== this.weekNumberWidth ? 'style="width:' + this.weekNumberWidth + 'px"' : ""
        },
        hasRigidRows: function () {
            var t = this.opt("eventLimit");
            return t && "number" != typeof t
        },
        updateWidth: function () {
            this.weekNumbersVisible && (this.weekNumberWidth = u(this.el.find(".fc-week-number")))
        },
        setHeight: function (t, e) {
            var i, n = this.opt("eventLimit");
            d(this.scrollerEl), o(this.headRowEl), this.dayGrid.removeSegPopover(), n && "number" == typeof n && this.dayGrid.limitRows(n), i = this.computeScrollerHeight(t), this.setGridHeight(i, e), n && "number" != typeof n && this.dayGrid.limitRows(n), !e && c(this.scrollerEl, i) && (s(this.headRowEl, v(this.scrollerEl)), i = this.computeScrollerHeight(t), this.scrollerEl.height(i))
        },
        setGridHeight: function (t, e) {
            e ? h(this.dayGrid.rowEls) : l(this.dayGrid.rowEls, t, !0)
        },
        prepareHits: function () {
            this.dayGrid.prepareHits()
        },
        releaseHits: function () {
            this.dayGrid.releaseHits()
        },
        queryHit: function (t, e) {
            return this.dayGrid.queryHit(t, e)
        },
        getHitSpan: function (t) {
            return this.dayGrid.getHitSpan(t)
        },
        getHitEl: function (t) {
            return this.dayGrid.getHitEl(t)
        },
        renderEvents: function (t) {
            this.dayGrid.renderEvents(t), this.updateHeight()
        },
        getEventSegs: function () {
            return this.dayGrid.getEventSegs()
        },
        unrenderEvents: function () {
            this.dayGrid.unrenderEvents()
        },
        renderDrag: function (t, e) {
            return this.dayGrid.renderDrag(t, e)
        },
        unrenderDrag: function () {
            this.dayGrid.unrenderDrag()
        },
        renderSelection: function (t) {
            this.dayGrid.renderSelection(t)
        },
        unrenderSelection: function () {
            this.dayGrid.unrenderSelection()
        }
    }), ke = {
        renderHeadIntroHtml: function () {
            var t = this.view;
            return t.weekNumbersVisible ? '<th class="fc-week-number ' + t.widgetHeaderClass + '" ' + t.weekNumberStyleAttr() + "><span>" + X(t.opt("weekNumberTitle")) + "</span></th>" : ""
        }, renderNumberIntroHtml: function (t) {
            var e = this.view;
            return e.weekNumbersVisible ? '<td class="fc-week-number" ' + e.weekNumberStyleAttr() + "><span>" + this.getCellDate(t, 0).format("w") + "</span></td>" : ""
        }, renderBgIntroHtml: function () {
            var t = this.view;
            return t.weekNumbersVisible ? '<td class="fc-week-number ' + t.widgetContentClass + '" ' + t.weekNumberStyleAttr() + "></td>" : ""
        }, renderIntroHtml: function () {
            var t = this.view;
            return t.weekNumbersVisible ? '<td class="fc-week-number" ' + t.weekNumberStyleAttr() + "></td>" : ""
        }
    }, Ce = Wt.MonthView = xe.extend({
        computeRange: function (t) {
            var e, i = xe.prototype.computeRange.call(this, t);
            return this.isFixedWeeks() && (e = Math.ceil(i.end.diff(i.start, "weeks", !0)), i.end.add(6 - e, "weeks")), i
        }, setGridHeight: function (t, e) {
            e = e || "variable" === this.opt("weekMode"), e && (t *= this.rowCnt / 6), l(this.dayGrid.rowEls, t, !e)
        }, isFixedWeeks: function () {
            var t = this.opt("weekMode");
            return t ? "fixed" === t : this.opt("fixedWeekCount")
        }
    });
    Yt.basic = {"class": xe}, Yt.basicDay = {type: "basic", duration: {days: 1}}, Yt.basicWeek = {
        type: "basic",
        duration: {weeks: 1}
    }, Yt.month = {"class": Ce, duration: {months: 1}, defaults: {fixedWeekCount: !0}};
    var De = Wt.AgendaView = pe.extend({
        timeGridClass: fe,
        timeGrid: null,
        dayGridClass: de,
        dayGrid: null,
        axisWidth: null,
        headContainerEl: null,
        noScrollRowEls: null,
        bottomRuleEl: null,
        bottomRuleHeight: null,
        initialize: function () {
            this.timeGrid = this.instantiateTimeGrid(), this.opt("allDaySlot") && (this.dayGrid = this.instantiateDayGrid())
        },
        instantiateTimeGrid: function () {
            var t = this.timeGridClass.extend(Se);
            return new t(this)
        },
        instantiateDayGrid: function () {
            var t = this.dayGridClass.extend(Te);
            return new t(this)
        },
        setRange: function (t) {
            pe.prototype.setRange.call(this, t), this.timeGrid.setRange(t), this.dayGrid && this.dayGrid.setRange(t)
        },
        renderDates: function () {
            this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()), this.renderHead(), this.scrollerEl = this.el.find(".fc-time-grid-container"), this.timeGrid.setElement(this.el.find(".fc-time-grid")), this.timeGrid.renderDates(), this.bottomRuleEl = t('<hr class="fc-divider ' + this.widgetHeaderClass + '"/>').appendTo(this.timeGrid.el), this.dayGrid && (this.dayGrid.setElement(this.el.find(".fc-day-grid")), this.dayGrid.renderDates(), this.dayGrid.bottomCoordPadding = this.dayGrid.el.next("hr").outerHeight()), this.noScrollRowEls = this.el.find(".fc-row:not(.fc-scroller *)")
        },
        renderHead: function () {
            this.headContainerEl = this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())
        },
        unrenderDates: function () {
            this.timeGrid.unrenderDates(), this.timeGrid.removeElement(), this.dayGrid && (this.dayGrid.unrenderDates(), this.dayGrid.removeElement())
        },
        renderBusinessHours: function () {
            this.timeGrid.renderBusinessHours(), this.dayGrid && this.dayGrid.renderBusinessHours()
        },
        renderSkeletonHtml: function () {
            return '<table><thead class="fc-head"><tr><td class="fc-head-container ' + this.widgetHeaderClass + '"></td></tr></thead><tbody class="fc-body"><tr><td class="' + this.widgetContentClass + '">' + (this.dayGrid ? '<div class="fc-day-grid"/><hr class="fc-divider ' + this.widgetHeaderClass + '"/>' : "") + '<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'
        },
        axisStyleAttr: function () {
            return null !== this.axisWidth ? 'style="width:' + this.axisWidth + 'px"' : ""
        },
        updateSize: function (t) {
            this.timeGrid.updateSize(t), pe.prototype.updateSize.call(this, t)
        },
        updateWidth: function () {
            this.axisWidth = u(this.el.find(".fc-axis"))
        },
        setHeight: function (t, e) {
            var i, n;
            null === this.bottomRuleHeight && (this.bottomRuleHeight = this.bottomRuleEl.outerHeight()), this.bottomRuleEl.hide(), this.scrollerEl.css("overflow", ""), d(this.scrollerEl), o(this.noScrollRowEls), this.dayGrid && (this.dayGrid.removeSegPopover(), i = this.opt("eventLimit"), i && "number" != typeof i && (i = Ee), i && this.dayGrid.limitRows(i)), e || (n = this.computeScrollerHeight(t), c(this.scrollerEl, n) ? (s(this.noScrollRowEls, v(this.scrollerEl)), n = this.computeScrollerHeight(t), this.scrollerEl.height(n)) : (this.scrollerEl.height(n).css("overflow", "hidden"), this.bottomRuleEl.show()))
        },
        computeInitialScroll: function () {
            var t = e.duration(this.opt("scrollTime")), i = this.timeGrid.computeTimeTop(t);
            return i = Math.ceil(i), i && i++, i
        },
        prepareHits: function () {
            this.timeGrid.prepareHits(), this.dayGrid && this.dayGrid.prepareHits()
        },
        releaseHits: function () {
            this.timeGrid.releaseHits(), this.dayGrid && this.dayGrid.releaseHits()
        },
        queryHit: function (t, e) {
            var i = this.timeGrid.queryHit(t, e);
            return !i && this.dayGrid && (i = this.dayGrid.queryHit(t, e)), i
        },
        getHitSpan: function (t) {
            return t.component.getHitSpan(t)
        },
        getHitEl: function (t) {
            return t.component.getHitEl(t)
        },
        renderEvents: function (t) {
            var e, i, n = [], s = [], o = [];
            for (i = 0; i < t.length; i++) t[i].allDay ? n.push(t[i]) : s.push(t[i]);
            e = this.timeGrid.renderEvents(s), this.dayGrid && (o = this.dayGrid.renderEvents(n)), this.updateHeight()
        },
        getEventSegs: function () {
            return this.timeGrid.getEventSegs().concat(this.dayGrid ? this.dayGrid.getEventSegs() : [])
        },
        unrenderEvents: function () {
            this.timeGrid.unrenderEvents(), this.dayGrid && this.dayGrid.unrenderEvents()
        },
        renderDrag: function (t, e) {
            return t.start.hasTime() ? this.timeGrid.renderDrag(t, e) : this.dayGrid ? this.dayGrid.renderDrag(t, e) : void 0
        },
        unrenderDrag: function () {
            this.timeGrid.unrenderDrag(), this.dayGrid && this.dayGrid.unrenderDrag()
        },
        renderSelection: function (t) {
            t.start.hasTime() || t.end.hasTime() ? this.timeGrid.renderSelection(t) : this.dayGrid && this.dayGrid.renderSelection(t)
        },
        unrenderSelection: function () {
            this.timeGrid.unrenderSelection(), this.dayGrid && this.dayGrid.unrenderSelection()
        }
    }), Se = {
        renderHeadIntroHtml: function () {
            var t, e = this.view;
            return e.opt("weekNumbers") ? (t = this.start.format(e.opt("smallWeekFormat")), '<th class="fc-axis fc-week-number ' + e.widgetHeaderClass + '" ' + e.axisStyleAttr() + "><span>" + X(t) + "</span></th>") : '<th class="fc-axis ' + e.widgetHeaderClass + '" ' + e.axisStyleAttr() + "></th>"
        }, renderBgIntroHtml: function () {
            var t = this.view;
            return '<td class="fc-axis ' + t.widgetContentClass + '" ' + t.axisStyleAttr() + "></td>"
        }, renderIntroHtml: function () {
            var t = this.view;
            return '<td class="fc-axis" ' + t.axisStyleAttr() + "></td>"
        }
    }, Te = {
        renderBgIntroHtml: function () {
            var t = this.view;
            return '<td class="fc-axis ' + t.widgetContentClass + '" ' + t.axisStyleAttr() + "><span>" + (t.opt("allDayHtml") || X(t.opt("allDayText"))) + "</span></td>"
        }, renderIntroHtml: function () {
            var t = this.view;
            return '<td class="fc-axis" ' + t.axisStyleAttr() + "></td>"
        }
    }, Ee = 5, Me = [{hours: 1}, {minutes: 30}, {minutes: 15}, {seconds: 30}, {seconds: 15}];
    return Yt.agenda = {
        "class": De,
        defaults: {
            allDaySlot: !0,
            allDayText: "all-day",
            slotDuration: "00:30:00",
            minTime: "00:00:00",
            maxTime: "24:00:00",
            slotEventOverlap: !0
        }
    }, Yt.agendaDay = {type: "agenda", duration: {days: 1}}, Yt.agendaWeek = {type: "agenda", duration: {weeks: 1}}, Wt
}), !function (t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(window.jQuery)
}(function (t) {
    "use strict";
    var e, i = function () {
        var e = function (t) {
            return function (e) {
                return t === e
            }
        }, i = function (t, e) {
            return t === e
        }, n = function (t) {
            return function (e, i) {
                return e[t] === i[t]
            }
        }, s = function () {
            return !0
        }, o = function () {
            return !1
        }, r = function (t) {
            return function () {
                return !t.apply(t, arguments)
            }
        }, a = function (t, e) {
            return function (i) {
                return t(i) && e(i)
            }
        }, l = function (t) {
            return t
        }, h = function (t, e) {
            return function () {
                return t[e].apply(t, arguments)
            }
        }, u = 0, c = function (t) {
            var e = ++u + "";
            return t ? t + e : e
        }, d = function (e) {
            var i = t(document);
            return {
                top: e.top + i.scrollTop(),
                left: e.left + i.scrollLeft(),
                width: e.right - e.left,
                height: e.bottom - e.top
            }
        }, f = function (t) {
            var e = {};
            for (var i in t) t.hasOwnProperty(i) && (e[t[i]] = i);
            return e
        }, p = function (t, e) {
            return e = e || "", e + t.split(".").map(function (t) {
                return t.substring(0, 1).toUpperCase() + t.substring(1)
            }).join("")
        };
        return {
            eq: e,
            eq2: i,
            peq2: n,
            ok: s,
            fail: o,
            self: l,
            not: r,
            and: a,
            invoke: h,
            uniqueId: c,
            rect2bnd: d,
            invertObject: f,
            namespaceToCamel: p
        }
    }(), n = function () {
        var e = function (t) {
            return t[0]
        }, n = function (t) {
            return t[t.length - 1]
        }, s = function (t) {
            return t.slice(0, t.length - 1)
        }, o = function (t) {
            return t.slice(1)
        }, r = function (t, e) {
            for (var i = 0, n = t.length; n > i; i++) {
                var s = t[i];
                if (e(s)) return s
            }
        }, a = function (t, e) {
            for (var i = 0, n = t.length; n > i; i++) if (!e(t[i])) return !1;
            return !0
        }, l = function (e, i) {
            return t.inArray(i, e)
        }, h = function (t, e) {
            return -1 !== l(t, e)
        }, u = function (t, e) {
            return e = e || i.self, t.reduce(function (t, i) {
                return t + e(i)
            }, 0)
        }, c = function (t) {
            for (var e = [], i = -1, n = t.length; ++i < n;) e[i] = t[i];
            return e
        }, d = function (t) {
            return !t || !t.length
        }, f = function (t, i) {
            if (!t.length) return [];
            var s = o(t);
            return s.reduce(function (t, e) {
                var s = n(t);
                return i(n(s), e) ? s[s.length] = e : t[t.length] = [e], t
            }, [[e(t)]])
        }, p = function (t) {
            for (var e = [], i = 0, n = t.length; n > i; i++) t[i] && e.push(t[i]);
            return e
        }, g = function (t) {
            for (var e = [], i = 0, n = t.length; n > i; i++) h(e, t[i]) || e.push(t[i]);
            return e
        }, m = function (t, e) {
            var i = l(t, e);
            return -1 === i ? null : t[i + 1]
        }, v = function (t, e) {
            var i = l(t, e);
            return -1 === i ? null : t[i - 1]
        };
        return {
            head: e,
            last: n,
            initial: s,
            tail: o,
            prev: v,
            next: m,
            find: r,
            contains: h,
            all: a,
            sum: u,
            from: c,
            isEmpty: d,
            clusterBy: f,
            compact: p,
            unique: g
        }
    }(), s = "function" == typeof define && define.amd, o = function (e) {
        var i = "Comic Sans MS" === e ? "Courier New" : "Comic Sans MS", n = t("<div>").css({
                position: "absolute",
                left: "-9999px",
                top: "-9999px",
                fontSize: "200px"
            }).text("mmmmmmmmmwwwwwww").appendTo(document.body), s = n.css("fontFamily", i).width(),
            o = n.css("fontFamily", e + "," + i).width();
        return n.remove(), s !== o
    }, r = navigator.userAgent, a = /MSIE|Trident/i.test(r);
    if (a) {
        var l = /MSIE (\d+[.]\d+)/.exec(r);
        l && (e = parseFloat(l[1])), l = /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(r), l && (e = parseFloat(l[1]))
    }
    var h = {
        isMac: navigator.appVersion.indexOf("Mac") > -1,
        isMSIE: a,
        isFF: /firefox/i.test(r),
        isWebkit: /webkit/i.test(r),
        isSafari: /safari/i.test(r),
        browserVersion: e,
        jqueryVersion: parseFloat(t.fn.jquery),
        isSupportAmd: s,
        hasCodeMirror: s ? require.specified("codemirror") : !!window.CodeMirror,
        isFontInstalled: o,
        isW3CRangeSupport: !!document.createRange
    }, u = String.fromCharCode(160), c = "\ufeff", d = function () {
        var e = function (e) {
            return e && t(e).hasClass("note-editable")
        }, s = function (e) {
            return e && t(e).hasClass("note-control-sizing")
        }, o = function (t) {
            return t = t.toUpperCase(), function (e) {
                return e && e.nodeName.toUpperCase() === t
            }
        }, r = function (t) {
            return t && 3 === t.nodeType
        }, a = function (t) {
            return t && 1 === t.nodeType
        }, l = function (t) {
            return t && /^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())
        }, f = function (t) {
            return e(t) ? !1 : t && /^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())
        }, p = function (t) {
            return t && /^H[1-7]/.test(t.nodeName.toUpperCase())
        }, g = o("PRE"), m = o("LI"), v = function (t) {
            return f(t) && !m(t)
        }, y = o("TABLE"), b = function (t) {
            return !(C(t) || w(t) || _(t) || f(t) || y(t) || k(t))
        }, w = function (t) {
            return t && /^UL|^OL/.test(t.nodeName.toUpperCase())
        }, _ = o("HR"), x = function (t) {
            return t && /^TD|^TH/.test(t.nodeName.toUpperCase())
        }, k = o("BLOCKQUOTE"), C = function (t) {
            return x(t) || k(t) || e(t)
        }, D = o("A"), S = function (t) {
            return b(t) && !!F(t, f)
        }, T = function (t) {
            return b(t) && !F(t, f)
        }, E = o("BODY"), M = function (t, e) {
            return t.nextSibling === e || t.previousSibling === e
        }, N = function (t, e) {
            e = e || i.ok;
            var n = [];
            return t.previousSibling && e(t.previousSibling) && n.push(t.previousSibling), n.push(t), t.nextSibling && e(t.nextSibling) && n.push(t.nextSibling), n
        }, I = h.isMSIE && h.browserVersion < 11 ? "&nbsp;" : "<br>", H = function (t) {
            return r(t) ? t.nodeValue.length : t.childNodes.length
        }, P = function (t) {
            var e = H(t);
            return 0 === e ? !0 : r(t) || 1 !== e || t.innerHTML !== I ? n.all(t.childNodes, r) && "" === t.innerHTML ? !0 : !1 : !0
        }, A = function (t) {
            l(t) || H(t) || (t.innerHTML = I)
        }, F = function (t, i) {
            for (; t;) {
                if (i(t)) return t;
                if (e(t)) break;
                t = t.parentNode
            }
            return null
        }, R = function (t, i) {
            for (t = t.parentNode; t && 1 === H(t);) {
                if (i(t)) return t;
                if (e(t)) break;
                t = t.parentNode
            }
            return null
        }, z = function (t, n) {
            n = n || i.fail;
            var s = [];
            return F(t, function (t) {
                return e(t) || s.push(t), n(t)
            }), s
        }, O = function (t, e) {
            var i = z(t);
            return n.last(i.filter(e))
        }, L = function (e, i) {
            for (var n = z(e), s = i; s; s = s.parentNode) if (t.inArray(s, n) > -1) return s;
            return null
        }, B = function (t, e) {
            e = e || i.fail;
            for (var n = []; t && !e(t);) n.push(t), t = t.previousSibling;
            return n
        }, W = function (t, e) {
            e = e || i.fail;
            for (var n = []; t && !e(t);) n.push(t), t = t.nextSibling;
            return n
        }, Y = function (t, e) {
            var n = [];
            return e = e || i.ok, function s(i) {
                t !== i && e(i) && n.push(i);
                for (var o = 0, r = i.childNodes.length; r > o; o++) s(i.childNodes[o])
            }(t), n
        }, U = function (e, i) {
            var n = e.parentNode, s = t("<" + i + ">")[0];
            return n.insertBefore(s, e), s.appendChild(e), s
        }, j = function (t, e) {
            var i = e.nextSibling, n = e.parentNode;
            return i ? n.insertBefore(t, i) : n.appendChild(t), t
        }, V = function (e, i) {
            return t.each(i, function (t, i) {
                e.appendChild(i)
            }), e
        }, $ = function (t) {
            return 0 === t.offset
        }, G = function (t) {
            return t.offset === H(t.node)
        }, q = function (t) {
            return $(t) || G(t)
        }, K = function (t, e) {
            for (; t && t !== e;) {
                if (0 !== J(t)) return !1;
                t = t.parentNode
            }
            return !0
        }, X = function (t, e) {
            for (; t && t !== e;) {
                if (J(t) !== H(t.parentNode) - 1) return !1;
                t = t.parentNode
            }
            return !0
        }, Z = function (t, e) {
            return $(t) && K(t.node, e)
        }, Q = function (t, e) {
            return G(t) && X(t.node, e)
        }, J = function (t) {
            for (var e = 0; t = t.previousSibling;) e += 1;
            return e
        }, tt = function (t) {
            return !!(t && t.childNodes && t.childNodes.length)
        }, et = function (t, i) {
            var n, s;
            if (0 === t.offset) {
                if (e(t.node)) return null;
                n = t.node.parentNode, s = J(t.node)
            } else tt(t.node) ? (n = t.node.childNodes[t.offset - 1], s = H(n)) : (n = t.node, s = i ? 0 : t.offset - 1);
            return {node: n, offset: s}
        }, it = function (t, i) {
            var n, s;
            if (H(t.node) === t.offset) {
                if (e(t.node)) return null;
                n = t.node.parentNode, s = J(t.node) + 1
            } else tt(t.node) ? (n = t.node.childNodes[t.offset], s = 0) : (n = t.node, s = i ? H(t.node) : t.offset + 1);
            return {node: n, offset: s}
        }, nt = function (t, e) {
            return t.node === e.node && t.offset === e.offset
        }, st = function (t) {
            if (r(t.node) || !tt(t.node) || P(t.node)) return !0;
            var e = t.node.childNodes[t.offset - 1], i = t.node.childNodes[t.offset];
            return e && !l(e) || i && !l(i) ? !1 : !0
        }, ot = function (t, e) {
            for (; t;) {
                if (e(t)) return t;
                t = et(t)
            }
            return null
        }, rt = function (t, e) {
            for (; t;) {
                if (e(t)) return t;
                t = it(t)
            }
            return null
        }, at = function (t) {
            if (!r(t.node)) return !1;
            var e = t.node.nodeValue.charAt(t.offset - 1);
            return e && " " !== e && e !== u
        }, lt = function (t, e, i, n) {
            for (var s = t; s && (i(s), !nt(s, e));) {
                var o = n && t.node !== s.node && e.node !== s.node;
                s = it(s, o)
            }
        }, ht = function (t, e) {
            var n = z(e, i.eq(t));
            return n.map(J).reverse()
        }, ut = function (t, e) {
            for (var i = t, n = 0, s = e.length; s > n; n++) i = i.childNodes.length <= e[n] ? i.childNodes[i.childNodes.length - 1] : i.childNodes[e[n]];
            return i
        }, ct = function (t, e) {
            var i = e && e.isSkipPaddingBlankHTML, n = e && e.isNotSplitEdgePoint;
            if (q(t) && (r(t.node) || n)) {
                if ($(t)) return t.node;
                if (G(t)) return t.node.nextSibling
            }
            if (r(t.node)) return t.node.splitText(t.offset);
            var s = t.node.childNodes[t.offset], o = j(t.node.cloneNode(!1), t.node);
            return V(o, W(s)), i || (A(t.node), A(o)), o
        }, dt = function (t, e, n) {
            var s = z(e.node, i.eq(t));
            return s.length ? 1 === s.length ? ct(e, n) : s.reduce(function (t, i) {
                return t === e.node && (t = ct(e, n)), ct({node: i, offset: t ? d.position(t) : H(i)}, n)
            }) : null
        }, ft = function (t, e) {
            var i, s, o = e ? f : C, r = z(t.node, o), a = n.last(r) || t.node;
            o(a) ? (i = r[r.length - 2], s = a) : (i = a, s = i.parentNode);
            var l = i && dt(i, t, {isSkipPaddingBlankHTML: e, isNotSplitEdgePoint: e});
            return l || s !== t.node || (l = t.node.childNodes[t.offset]), {rightNode: l, container: s}
        }, pt = function (t) {
            return document.createElement(t)
        }, gt = function (t) {
            return document.createTextNode(t)
        }, mt = function (t, e) {
            if (t && t.parentNode) {
                if (t.removeNode) return t.removeNode(e);
                var i = t.parentNode;
                if (!e) {
                    var n, s, o = [];
                    for (n = 0, s = t.childNodes.length; s > n; n++) o.push(t.childNodes[n]);
                    for (n = 0, s = o.length; s > n; n++) i.insertBefore(o[n], t)
                }
                i.removeChild(t)
            }
        }, vt = function (t, i) {
            for (; t && !e(t) && i(t);) {
                var n = t.parentNode;
                mt(t), t = n
            }
        }, yt = function (t, e) {
            if (t.nodeName.toUpperCase() === e.toUpperCase()) return t;
            var i = pt(e);
            return t.style.cssText && (i.style.cssText = t.style.cssText), V(i, n.from(t.childNodes)), j(i, t), mt(t), i
        }, bt = o("TEXTAREA"), wt = function (t, e) {
            var i = bt(t[0]) ? t.val() : t.html();
            return e ? i.replace(/[\n\r]/g, "") : i
        }, _t = function (e, i) {
            var n = wt(e);
            if (i) {
                var s = /<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;
                n = n.replace(s, function (t, e, i) {
                    i = i.toUpperCase();
                    var n = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i) && !!e,
                        s = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);
                    return t + (n || s ? "\n" : "")
                }), n = t.trim(n)
            }
            return n
        }, xt = function (e) {
            var i = t(e), n = i.offset(), s = i.outerHeight(!0);
            return {left: n.left, top: n.top + s}
        }, kt = function (t, e) {
            Object.keys(e).forEach(function (i) {
                t.on(i, e[i])
            })
        }, Ct = function (t, e) {
            Object.keys(e).forEach(function (i) {
                t.off(i, e[i])
            })
        };
        return {
            NBSP_CHAR: u,
            ZERO_WIDTH_NBSP_CHAR: c,
            blank: I,
            emptyPara: "<p>" + I + "</p>",
            makePredByNodeName: o,
            isEditable: e,
            isControlSizing: s,
            isText: r,
            isElement: a,
            isVoid: l,
            isPara: f,
            isPurePara: v,
            isHeading: p,
            isInline: b,
            isBlock: i.not(b),
            isBodyInline: T,
            isBody: E,
            isParaInline: S,
            isPre: g,
            isList: w,
            isTable: y,
            isCell: x,
            isBlockquote: k,
            isBodyContainer: C,
            isAnchor: D,
            isDiv: o("DIV"),
            isLi: m,
            isBR: o("BR"),
            isSpan: o("SPAN"),
            isB: o("B"),
            isU: o("U"),
            isS: o("S"),
            isI: o("I"),
            isImg: o("IMG"),
            isTextarea: bt,
            isEmpty: P,
            isEmptyAnchor: i.and(D, P),
            isClosestSibling: M,
            withClosestSiblings: N,
            nodeLength: H,
            isLeftEdgePoint: $,
            isRightEdgePoint: G,
            isEdgePoint: q,
            isLeftEdgeOf: K,
            isRightEdgeOf: X,
            isLeftEdgePointOf: Z,
            isRightEdgePointOf: Q,
            prevPoint: et,
            nextPoint: it,
            isSamePoint: nt,
            isVisiblePoint: st,
            prevPointUntil: ot,
            nextPointUntil: rt,
            isCharPoint: at,
            walkPoint: lt,
            ancestor: F,
            singleChildAncestor: R,
            listAncestor: z,
            lastAncestor: O,
            listNext: W,
            listPrev: B,
            listDescendant: Y,
            commonAncestor: L,
            wrap: U,
            insertAfter: j,
            appendChildNodes: V,
            position: J,
            hasChildren: tt,
            makeOffsetPath: ht,
            fromOffsetPath: ut,
            splitTree: dt,
            splitPoint: ft,
            create: pt,
            createText: gt,
            remove: mt,
            removeWhile: vt,
            replace: yt,
            html: _t,
            value: wt,
            posFromPlaceholder: xt,
            attachEvents: kt,
            detachEvents: Ct
        }
    }(), f = function (e, s) {
        var o = this, r = t.summernote.ui;
        return this.memos = {}, this.modules = {}, this.layoutInfo = {}, this.options = s, this.initialize = function () {
            return this.layoutInfo = r.createLayout(e, s), this._initialize(), e.hide(), this
        }, this.destroy = function () {
            this._destroy(), e.removeData("summernote"), r.removeLayout(e, this.layoutInfo)
        }, this.reset = function () {
            this.code(d.emptyPara), this._destroy(), this._initialize()
        }, this._initialize = function () {
            var e = t.extend({}, this.options.buttons);
            Object.keys(e).forEach(function (t) {
                o.memo("button." + t, e[t])
            });
            var i = t.extend({}, this.options.modules, t.summernote.plugins || {});
            Object.keys(i).forEach(function (t) {
                o.module(t, i[t], !0)
            }), Object.keys(this.modules).forEach(function (t) {
                o.initializeModule(t)
            })
        }, this._destroy = function () {
            Object.keys(this.modules).reverse().forEach(function (t) {
                o.removeModule(t)
            }), Object.keys(this.memos).forEach(function (t) {
                o.removeMemo(t)
            })
        }, this.code = function (t) {
            var i = this.invoke("codeview.isActivated");
            return void 0 === t ? (this.invoke("codeview.sync"), i ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html()) : (i ? this.layoutInfo.codable.val(t) : this.layoutInfo.editable.html(t),
                e.val(t), void this.triggerEvent("change", t))
        }, this.isDisabled = function () {
            return "false" === this.layoutInfo.editable.attr("contenteditable")
        }, this.enable = function () {
            this.layoutInfo.editable.attr("contenteditable", !0), this.invoke("toolbar.activate", !0)
        }, this.disable = function () {
            this.invoke("codeview.isActivated") && this.invoke("codeview.deactivate"), this.layoutInfo.editable.attr("contenteditable", !1), this.invoke("toolbar.deactivate", !0)
        }, this.triggerEvent = function () {
            var t = n.head(arguments), s = n.tail(n.from(arguments)),
                o = this.options.callbacks[i.namespaceToCamel(t, "on")];
            o && o.apply(e[0], s), e.trigger("summernote." + t, s)
        }, this.initializeModule = function (t) {
            var n = this.modules[t];
            n.shouldInitialize = n.shouldInitialize || i.ok, n.shouldInitialize() && (n.initialize && n.initialize(), n.events && d.attachEvents(e, n.events))
        }, this.module = function (t, e, i) {
            return 1 === arguments.length ? this.modules[t] : (this.modules[t] = new e(this), void(i || this.initializeModule(t)))
        }, this.removeModule = function (t) {
            var i = this.modules[t];
            i.shouldInitialize() && (i.events && d.detachEvents(e, i.events), i.destroy && i.destroy()), delete this.modules[t]
        }, this.memo = function (t, e) {
            return 1 === arguments.length ? this.memos[t] : void(this.memos[t] = e)
        }, this.removeMemo = function (t) {
            this.memos[t] && this.memos[t].destroy && this.memos[t].destroy(), delete this.memos[t]
        }, this.createInvokeHandler = function (e, i) {
            return function (n) {
                n.preventDefault(), o.invoke(e, i || t(n.target).closest("[data-value]").data("value"))
            }
        }, this.invoke = function () {
            var t = n.head(arguments), e = n.tail(n.from(arguments)), i = t.split("."), s = i.length > 1,
                o = s && n.head(i), r = s ? n.last(i) : n.head(i), a = this.modules[o || "editor"];
            return !o && this[r] ? this[r].apply(this, e) : a && a[r] && a.shouldInitialize() ? a[r].apply(a, e) : void 0
        }, this.initialize()
    };
    t.summernote = t.summernote || {lang: {}}, t.fn.extend({
        summernote: function () {
            var e = t.type(n.head(arguments)), i = "string" === e, s = "object" === e, o = s ? n.head(arguments) : {};
            o = t.extend({}, t.summernote.options, o), o.langInfo = t.extend(!0, {}, t.summernote.lang["en-US"], t.summernote.lang[o.lang]), this.each(function (e, i) {
                var n = t(i);
                if (!n.data("summernote")) {
                    var s = new f(n, o);
                    n.data("summernote", s), n.data("summernote").triggerEvent("init", s.layoutInfo)
                }
            });
            var r = this.first();
            if (r.length) {
                var a = r.data("summernote");
                if (i) return a.invoke.apply(a, n.from(arguments));
                o.focus && a.invoke("editor.focus")
            }
            return this
        }
    });
    var p = function (e, i, n, s) {
            this.render = function (o) {
                var r = t(e);
                if (n && n.contents && r.html(n.contents), n && n.className && r.addClass(n.className), n && n.data && t.each(n.data, function (t, e) {
                        r.attr("data-" + t, e)
                    }), n && n.click && r.on("click", n.click), i) {
                    var a = r.find(".note-children-container");
                    i.forEach(function (t) {
                        t.render(a.length ? a : r)
                    })
                }
                return s && s(r, n), n && n.callback && n.callback(r), o && o.append(r), r
            }
        }, g = {
            create: function (e, i) {
                return function () {
                    var n = t.isArray(arguments[0]) ? arguments[0] : [],
                        s = "object" == typeof arguments[1] ? arguments[1] : arguments[0];
                    return s && s.children && (n = s.children), new p(e, n, s, i)
                }
            }
        }, m = g.create('<div class="note-editor note-frame panel panel-default"/>'),
        v = g.create('<div class="note-toolbar panel-heading"/>'), y = g.create('<div class="note-editing-area"/>'),
        b = g.create('<textarea class="note-codable"/>'),
        w = g.create('<div class="note-editable panel-body" contentEditable="true"/>'),
        _ = g.create(['<div class="note-statusbar">', '  <div class="note-resizebar">', '    <div class="note-icon-bar"/>', '    <div class="note-icon-bar"/>', '    <div class="note-icon-bar"/>', "  </div>", "</div>"].join("")),
        x = g.create('<div class="note-editor"/>'), k = g.create('<div class="note-editable" contentEditable="true"/>'),
        C = g.create('<div class="note-btn-group btn-group">'),
        D = g.create('<button type="button" class="note-btn btn btn-default btn-sm">', function (t, e) {
            e && e.tooltip && t.attr({title: e.tooltip}).tooltip({
                container: "body",
                trigger: "hover",
                placement: "bottom"
            })
        }), S = g.create('<div class="dropdown-menu">', function (e, i) {
            var n = t.isArray(i.items) ? i.items.map(function (t) {
                var e = "string" == typeof t ? t : t.value || "", n = i.template ? i.template(t) : t;
                return '<li><a href="#" data-value="' + e + '">' + n + "</a></li>"
            }).join("") : i.items;
            e.html(n)
        }), T = g.create('<div class="dropdown-menu note-check">', function (e, i) {
            var n = t.isArray(i.items) ? i.items.map(function (t) {
                var e = "string" == typeof t ? t : t.value || "", n = i.template ? i.template(t) : t;
                return '<li><a href="#" data-value="' + e + '">' + I(i.checkClassName) + " " + n + "</a></li>"
            }).join("") : i.items;
            e.html(n)
        }), E = g.create('<div class="note-color-palette"/>', function (t, e) {
            for (var i = [], n = 0, s = e.colors.length; s > n; n++) {
                for (var o = e.eventName, r = e.colors[n], a = [], l = 0, h = r.length; h > l; l++) {
                    var u = r[l];
                    a.push(['<button type="button" class="note-color-btn"', 'style="background-color:', u, '" ', 'data-event="', o, '" ', 'data-value="', u, '" ', 'title="', u, '" ', 'data-toggle="button" tabindex="-1"></button>'].join(""))
                }
                i.push('<div class="note-color-row">' + a.join("") + "</div>")
            }
            t.html(i.join("")), t.find(".note-color-btn").tooltip({
                container: "body",
                trigger: "hover",
                placement: "bottom"
            })
        }), M = g.create('<div class="modal" aria-hidden="false" tabindex="-1"/>', function (t, e) {
            e.fade && t.addClass("fade"), t.html(['<div class="modal-dialog">', '  <div class="modal-content">', e.title ? '    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">' + e.title + "</h4>    </div>" : "", '    <div class="modal-body">' + e.body + "</div>", e.footer ? '    <div class="modal-footer">' + e.footer + "</div>" : "", "  </div>", "</div>"].join(""))
        }),
        N = g.create(['<div class="note-popover popover in">', '  <div class="arrow"/>', '  <div class="popover-content note-children-container"/>', "</div>"].join(""), function (t, e) {
            var i = "undefined" != typeof e.direction ? e.direction : "bottom";
            t.addClass(i), e.hideArrow && t.find(".arrow").hide()
        }), I = function (t, e) {
            return e = e || "i", "<" + e + ' class="' + t + '"/>'
        }, H = {
            editor: m,
            toolbar: v,
            editingArea: y,
            codable: b,
            editable: w,
            statusbar: _,
            airEditor: x,
            airEditable: k,
            buttonGroup: C,
            button: D,
            dropdown: S,
            dropdownCheck: T,
            palette: E,
            dialog: M,
            popover: N,
            icon: I,
            toggleBtn: function (t, e) {
                t.toggleClass("disabled", !e), t.attr("disabled", !e)
            },
            toggleBtnActive: function (t, e) {
                t.toggleClass("active", e)
            },
            onDialogShown: function (t, e) {
                t.one("shown.bs.modal", e)
            },
            onDialogHidden: function (t, e) {
                t.one("hidden.bs.modal", e)
            },
            showDialog: function (t) {
                t.modal("show")
            },
            hideDialog: function (t) {
                t.modal("hide")
            },
            createLayout: function (t, e) {
                var i = (e.airMode ? H.airEditor([H.editingArea([H.airEditable()])]) : H.editor([H.toolbar(), H.editingArea([H.codable(), H.editable()]), H.statusbar()])).render();
                return i.insertAfter(t), {
                    note: t,
                    editor: i,
                    toolbar: i.find(".note-toolbar"),
                    editingArea: i.find(".note-editing-area"),
                    editable: i.find(".note-editable"),
                    codable: i.find(".note-codable"),
                    statusbar: i.find(".note-statusbar")
                }
            },
            removeLayout: function (t, e) {
                t.html(e.editable.html()), e.editor.remove(), t.show()
            }
        };
    t.extend(t.summernote.lang, {
        "en-US": {
            font: {
                bold: "Bold",
                italic: "Italic",
                underline: "Underline",
                clear: "Remove Font Style",
                height: "Line Height",
                name: "Font Family",
                strikethrough: "Strikethrough",
                subscript: "Subscript",
                superscript: "Superscript",
                size: "Font Size"
            },
            image: {
                image: "Picture",
                insert: "Insert Image",
                resizeFull: "Resize Full",
                resizeHalf: "Resize Half",
                resizeQuarter: "Resize Quarter",
                floatLeft: "Float Left",
                floatRight: "Float Right",
                floatNone: "Float None",
                shapeRounded: "Shape: Rounded",
                shapeCircle: "Shape: Circle",
                shapeThumbnail: "Shape: Thumbnail",
                shapeNone: "Shape: None",
                dragImageHere: "Drag image or text here",
                dropImage: "Drop image or Text",
                selectFromFiles: "Select from files",
                maximumFileSize: "Maximum file size",
                maximumFileSizeError: "Maximum file size exceeded.",
                url: "Image URL",
                remove: "Remove Image"
            },
            video: {
                video: "Video",
                videoLink: "Video Link",
                insert: "Insert Video",
                url: "Video URL?",
                providers: "(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"
            },
            link: {
                link: "Link",
                insert: "Insert Link",
                unlink: "Unlink",
                edit: "Edit",
                textToDisplay: "Text to display",
                url: "To what URL should this link go?",
                openInNewWindow: "Open in new window"
            },
            table: {table: "Table"},
            hr: {insert: "Insert Horizontal Rule"},
            style: {
                style: "Style",
                normal: "Normal",
                blockquote: "Quote",
                pre: "Code",
                h1: "Header 1",
                h2: "Header 2",
                h3: "Header 3",
                h4: "Header 4",
                h5: "Header 5",
                h6: "Header 6"
            },
            lists: {unordered: "Unordered list", ordered: "Ordered list"},
            options: {help: "Help", fullscreen: "Full Screen", codeview: "Code View"},
            paragraph: {
                paragraph: "Paragraph",
                outdent: "Outdent",
                indent: "Indent",
                left: "Align left",
                center: "Align center",
                right: "Align right",
                justify: "Justify full"
            },
            color: {
                recent: "Recent Color",
                more: "More Color",
                background: "Background Color",
                foreground: "Foreground Color",
                transparent: "Transparent",
                setTransparent: "Set transparent",
                reset: "Reset",
                resetToDefault: "Reset to default"
            },
            shortcut: {
                shortcuts: "Keyboard shortcuts",
                close: "Close",
                textFormatting: "Text formatting",
                action: "Action",
                paragraphFormatting: "Paragraph formatting",
                documentStyle: "Document Style",
                extraKeys: "Extra keys"
            },
            help: {
                insertParagraph: "Insert Paragraph",
                undo: "Undoes the last command",
                redo: "Redoes the last command",
                tab: "Tab",
                untab: "Untab",
                bold: "Set a bold style",
                italic: "Set a italic style",
                underline: "Set a underline style",
                strikethrough: "Set a strikethrough style",
                removeFormat: "Clean a style",
                justifyLeft: "Set left align",
                justifyCenter: "Set center align",
                justifyRight: "Set right align",
                justifyFull: "Set full align",
                insertUnorderedList: "Toggle unordered list",
                insertOrderedList: "Toggle ordered list",
                outdent: "Outdent on current paragraph",
                indent: "Indent on current paragraph",
                formatPara: "Change current block's format as a paragraph(P tag)",
                formatH1: "Change current block's format as H1",
                formatH2: "Change current block's format as H2",
                formatH3: "Change current block's format as H3",
                formatH4: "Change current block's format as H4",
                formatH5: "Change current block's format as H5",
                formatH6: "Change current block's format as H6",
                insertHorizontalRule: "Insert horizontal rule",
                "linkDialog.show": "Show Link Dialog"
            },
            history: {undo: "Undo", redo: "Redo"},
            specialChar: {specialChar: "SPECIAL CHARACTERS", select: "Select Special characters"}
        }
    });
    var P, A = function () {
        var t = {
            BACKSPACE: 8,
            TAB: 9,
            ENTER: 13,
            SPACE: 32,
            LEFT: 37,
            UP: 38,
            RIGHT: 39,
            DOWN: 40,
            NUM0: 48,
            NUM1: 49,
            NUM2: 50,
            NUM3: 51,
            NUM4: 52,
            NUM5: 53,
            NUM6: 54,
            NUM7: 55,
            NUM8: 56,
            B: 66,
            E: 69,
            I: 73,
            J: 74,
            K: 75,
            L: 76,
            R: 82,
            S: 83,
            U: 85,
            V: 86,
            Y: 89,
            Z: 90,
            SLASH: 191,
            LEFTBRACKET: 219,
            BACKSLASH: 220,
            RIGHTBRACKET: 221
        };
        return {
            isEdit: function (e) {
                return n.contains([t.BACKSPACE, t.TAB, t.ENTER, t.SPACe], e)
            }, isMove: function (e) {
                return n.contains([t.LEFT, t.UP, t.RIGHT, t.DOWN], e)
            }, nameFromCode: i.invertObject(t), code: t
        }
    }(), F = function () {
        var e = function (t, e) {
            var i, s, o = t.parentElement(), r = document.body.createTextRange(), a = n.from(o.childNodes);
            for (i = 0; i < a.length; i++) if (!d.isText(a[i])) {
                if (r.moveToElementText(a[i]), r.compareEndPoints("StartToStart", t) >= 0) break;
                s = a[i]
            }
            if (0 !== i && d.isText(a[i - 1])) {
                var l = document.body.createTextRange(), h = null;
                l.moveToElementText(s || o), l.collapse(!s), h = s ? s.nextSibling : o.firstChild;
                var u = t.duplicate();
                u.setEndPoint("StartToStart", l);
                for (var c = u.text.replace(/[\r\n]/g, "").length; c > h.nodeValue.length && h.nextSibling;) c -= h.nodeValue.length, h = h.nextSibling;
                h.nodeValue, e && h.nextSibling && d.isText(h.nextSibling) && c === h.nodeValue.length && (c -= h.nodeValue.length, h = h.nextSibling), o = h, i = c
            }
            return {cont: o, offset: i}
        }, s = function (t) {
            var e = function (t, s) {
                var o, r;
                if (d.isText(t)) {
                    var a = d.listPrev(t, i.not(d.isText)), l = n.last(a).previousSibling;
                    o = l || t.parentNode, s += n.sum(n.tail(a), d.nodeLength), r = !l
                } else {
                    if (o = t.childNodes[s] || t, d.isText(o)) return e(o, 0);
                    s = 0, r = !1
                }
                return {node: o, collapseToStart: r, offset: s}
            }, s = document.body.createTextRange(), o = e(t.node, t.offset);
            return s.moveToElementText(o.node), s.collapse(o.collapseToStart), s.moveStart("character", o.offset), s
        }, o = function (e, r, a, l) {
            this.sc = e, this.so = r, this.ec = a, this.eo = l;
            var u = function () {
                if (h.isW3CRangeSupport) {
                    var t = document.createRange();
                    return t.setStart(e, r), t.setEnd(a, l), t
                }
                var i = s({node: e, offset: r});
                return i.setEndPoint("EndToEnd", s({node: a, offset: l})), i
            };
            this.getPoints = function () {
                return {sc: e, so: r, ec: a, eo: l}
            }, this.getStartPoint = function () {
                return {node: e, offset: r}
            }, this.getEndPoint = function () {
                return {node: a, offset: l}
            }, this.select = function () {
                var t = u();
                if (h.isW3CRangeSupport) {
                    var e = document.getSelection();
                    e.rangeCount > 0 && e.removeAllRanges(), e.addRange(t)
                } else t.select();
                return this
            }, this.scrollIntoView = function (t) {
                return t[0].scrollTop + t.height() < this.sc.offsetTop && (t[0].scrollTop += Math.abs(t[0].scrollTop + t.height() - this.sc.offsetTop)), this
            }, this.normalize = function () {
                var t = function (t, e) {
                    if (d.isVisiblePoint(t) && !d.isEdgePoint(t) || d.isVisiblePoint(t) && d.isRightEdgePoint(t) && !e || d.isVisiblePoint(t) && d.isLeftEdgePoint(t) && e || d.isVisiblePoint(t) && d.isBlock(t.node) && d.isEmpty(t.node)) return t;
                    var i = d.ancestor(t.node, d.isBlock);
                    if ((d.isLeftEdgePointOf(t, i) || d.isVoid(d.prevPoint(t).node)) && !e || (d.isRightEdgePointOf(t, i) || d.isVoid(d.nextPoint(t).node)) && e) {
                        if (d.isVisiblePoint(t)) return t;
                        e = !e
                    }
                    var n = e ? d.nextPointUntil(d.nextPoint(t), d.isVisiblePoint) : d.prevPointUntil(d.prevPoint(t), d.isVisiblePoint);
                    return n || t
                }, e = t(this.getEndPoint(), !1), i = this.isCollapsed() ? e : t(this.getStartPoint(), !0);
                return new o(i.node, i.offset, e.node, e.offset)
            }, this.nodes = function (t, e) {
                t = t || i.ok;
                var s = e && e.includeAncestor, o = e && e.fullyContains, r = this.getStartPoint(),
                    a = this.getEndPoint(), l = [], h = [];
                return d.walkPoint(r, a, function (e) {
                    if (!d.isEditable(e.node)) {
                        var i;
                        o ? (d.isLeftEdgePoint(e) && h.push(e.node), d.isRightEdgePoint(e) && n.contains(h, e.node) && (i = e.node)) : i = s ? d.ancestor(e.node, t) : e.node, i && t(i) && l.push(i)
                    }
                }, !0), n.unique(l)
            }, this.commonAncestor = function () {
                return d.commonAncestor(e, a)
            }, this.expand = function (t) {
                var i = d.ancestor(e, t), n = d.ancestor(a, t);
                if (!i && !n) return new o(e, r, a, l);
                var s = this.getPoints();
                return i && (s.sc = i, s.so = 0), n && (s.ec = n, s.eo = d.nodeLength(n)), new o(s.sc, s.so, s.ec, s.eo)
            }, this.collapse = function (t) {
                return t ? new o(e, r, e, r) : new o(a, l, a, l)
            }, this.splitText = function () {
                var t = e === a, i = this.getPoints();
                return d.isText(a) && !d.isEdgePoint(this.getEndPoint()) && a.splitText(l), d.isText(e) && !d.isEdgePoint(this.getStartPoint()) && (i.sc = e.splitText(r), i.so = 0, t && (i.ec = i.sc, i.eo = l - r)), new o(i.sc, i.so, i.ec, i.eo)
            }, this.deleteContents = function () {
                if (this.isCollapsed()) return this;
                var e = this.splitText(), i = e.nodes(null, {fullyContains: !0}),
                    s = d.prevPointUntil(e.getStartPoint(), function (t) {
                        return !n.contains(i, t.node)
                    }), r = [];
                return t.each(i, function (t, e) {
                    var i = e.parentNode;
                    s.node !== i && 1 === d.nodeLength(i) && r.push(i), d.remove(e, !1)
                }), t.each(r, function (t, e) {
                    d.remove(e, !1)
                }), new o(s.node, s.offset, s.node, s.offset).normalize()
            };
            var c = function (t) {
                return function () {
                    var i = d.ancestor(e, t);
                    return !!i && i === d.ancestor(a, t)
                }
            };
            this.isOnEditable = c(d.isEditable), this.isOnList = c(d.isList), this.isOnAnchor = c(d.isAnchor), this.isOnCell = c(d.isCell), this.isLeftEdgeOf = function (t) {
                if (!d.isLeftEdgePoint(this.getStartPoint())) return !1;
                var e = d.ancestor(this.sc, t);
                return e && d.isLeftEdgeOf(this.sc, e)
            }, this.isCollapsed = function () {
                return e === a && r === l
            }, this.wrapBodyInlineWithPara = function () {
                if (d.isBodyContainer(e) && d.isEmpty(e)) return e.innerHTML = d.emptyPara, new o(e.firstChild, 0, e.firstChild, 0);
                var t = this.normalize();
                if (d.isParaInline(e) || d.isPara(e)) return t;
                var s;
                if (d.isInline(t.sc)) {
                    var r = d.listAncestor(t.sc, i.not(d.isInline));
                    s = n.last(r), d.isInline(s) || (s = r[r.length - 2] || t.sc.childNodes[t.so])
                } else s = t.sc.childNodes[t.so > 0 ? t.so - 1 : 0];
                var a = d.listPrev(s, d.isParaInline).reverse();
                if (a = a.concat(d.listNext(s.nextSibling, d.isParaInline)), a.length) {
                    var l = d.wrap(n.head(a), "p");
                    d.appendChildNodes(l, n.tail(a))
                }
                return this.normalize()
            }, this.insertNode = function (t) {
                var e = this.wrapBodyInlineWithPara().deleteContents(),
                    i = d.splitPoint(e.getStartPoint(), d.isInline(t));
                return i.rightNode ? i.rightNode.parentNode.insertBefore(t, i.rightNode) : i.container.appendChild(t), t
            }, this.pasteHTML = function (e) {
                var i = t("<div></div>").html(e)[0], s = n.from(i.childNodes),
                    o = this.wrapBodyInlineWithPara().deleteContents();
                return s.reverse().map(function (t) {
                    return o.insertNode(t)
                }).reverse()
            }, this.toString = function () {
                var t = u();
                return h.isW3CRangeSupport ? t.toString() : t.text
            }, this.getWordRange = function (t) {
                var e = this.getEndPoint();
                if (!d.isCharPoint(e)) return this;
                var i = d.prevPointUntil(e, function (t) {
                    return !d.isCharPoint(t)
                });
                return t && (e = d.nextPointUntil(e, function (t) {
                    return !d.isCharPoint(t)
                })), new o(i.node, i.offset, e.node, e.offset)
            }, this.bookmark = function (t) {
                return {s: {path: d.makeOffsetPath(t, e), offset: r}, e: {path: d.makeOffsetPath(t, a), offset: l}}
            }, this.paraBookmark = function (t) {
                return {
                    s: {path: n.tail(d.makeOffsetPath(n.head(t), e)), offset: r},
                    e: {path: n.tail(d.makeOffsetPath(n.last(t), a)), offset: l}
                }
            }, this.getClientRects = function () {
                var t = u();
                return t.getClientRects()
            }
        };
        return {
            create: function (t, i, n, s) {
                if (arguments.length) 2 === arguments.length && (n = t, s = i); else if (h.isW3CRangeSupport) {
                    var r = document.getSelection();
                    if (!r || 0 === r.rangeCount) return null;
                    if (d.isBody(r.anchorNode)) return null;
                    var a = r.getRangeAt(0);
                    t = a.startContainer, i = a.startOffset, n = a.endContainer, s = a.endOffset
                } else {
                    var l = document.selection.createRange(), u = l.duplicate();
                    u.collapse(!1);
                    var c = l;
                    c.collapse(!0);
                    var f = e(c, !0), p = e(u, !1);
                    d.isText(f.node) && d.isLeftEdgePoint(f) && d.isTextNode(p.node) && d.isRightEdgePoint(p) && p.node.nextSibling === f.node && (f = p), t = f.cont, i = f.offset, n = p.cont, s = p.offset
                }
                return new o(t, i, n, s)
            }, createFromNode: function (t) {
                var e = t, i = 0, n = t, s = d.nodeLength(n);
                return d.isVoid(e) && (i = d.listPrev(e).length - 1, e = e.parentNode), d.isBR(n) ? (s = d.listPrev(n).length - 1, n = n.parentNode) : d.isVoid(n) && (s = d.listPrev(n).length, n = n.parentNode), this.create(e, i, n, s)
            }, createFromNodeBefore: function (t) {
                return this.createFromNode(t).collapse(!0)
            }, createFromNodeAfter: function (t) {
                return this.createFromNode(t).collapse()
            }, createFromBookmark: function (t, e) {
                var i = d.fromOffsetPath(t, e.s.path), n = e.s.offset, s = d.fromOffsetPath(t, e.e.path),
                    r = e.e.offset;
                return new o(i, n, s, r)
            }, createFromParaBookmark: function (t, e) {
                var i = t.s.offset, s = t.e.offset, r = d.fromOffsetPath(n.head(e), t.s.path),
                    a = d.fromOffsetPath(n.last(e), t.e.path);
                return new o(r, i, a, s)
            }
        }
    }(), R = function () {
        var e = function (e) {
            return t.Deferred(function (i) {
                t.extend(new FileReader, {
                    onload: function (t) {
                        var e = t.target.result;
                        i.resolve(e)
                    }, onerror: function () {
                        i.reject(this)
                    }
                }).readAsDataURL(e)
            }).promise()
        }, i = function (e) {
            return t.Deferred(function (i) {
                var n = t("<img>");
                n.one("load", function () {
                    n.off("error abort"), i.resolve(n)
                }).one("error abort", function () {
                    n.off("load").detach(), i.reject(n)
                }).css({display: "none"}).appendTo(document.body).attr("src", e)
            }).promise()
        };
        return {readFileAsDataURL: e, createImage: i}
    }(), z = function (t) {
        var e = [], i = -1, n = t[0], s = function () {
            var e = F.create(), i = {s: {path: [], offset: 0}, e: {path: [], offset: 0}};
            return {contents: t.html(), bookmark: e ? e.bookmark(n) : i}
        }, o = function (e) {
            null !== e.contents && t.html(e.contents), null !== e.bookmark && F.createFromBookmark(n, e.bookmark).select()
        };
        this.rewind = function () {
            t.html() !== e[i].contents && this.recordUndo(), i = 0, o(e[i])
        }, this.reset = function () {
            e = [], i = -1, t.html(""), this.recordUndo()
        }, this.undo = function () {
            t.html() !== e[i].contents && this.recordUndo(), i > 0 && (i--, o(e[i]))
        }, this.redo = function () {
            e.length - 1 > i && (i++, o(e[i]))
        }, this.recordUndo = function () {
            i++, e.length > i && (e = e.slice(0, i)), e.push(s())
        }
    }, O = function () {
        var e = function (e, i) {
            if (h.jqueryVersion < 1.9) {
                var n = {};
                return t.each(i, function (t, i) {
                    n[i] = e.css(i)
                }), n
            }
            return e.css.call(e, i)
        };
        this.fromNode = function (t) {
            var i = ["font-family", "font-size", "text-align", "list-style-type", "line-height"], n = e(t, i) || {};
            return n["font-size"] = parseInt(n["font-size"], 10), n
        }, this.stylePara = function (e, i) {
            t.each(e.nodes(d.isPara, {includeAncestor: !0}), function (e, n) {
                t(n).css(i)
            })
        }, this.styleNodes = function (e, s) {
            e = e.splitText();
            var o = s && s.nodeName || "SPAN", r = !(!s || !s.expandClosestSibling),
                a = !(!s || !s.onlyPartialContains);
            if (e.isCollapsed()) return [e.insertNode(d.create(o))];
            var l = d.makePredByNodeName(o), h = e.nodes(d.isText, {fullyContains: !0}).map(function (t) {
                return d.singleChildAncestor(t, l) || d.wrap(t, o)
            });
            if (r) {
                if (a) {
                    var u = e.nodes();
                    l = i.and(l, function (t) {
                        return n.contains(u, t)
                    })
                }
                return h.map(function (e) {
                    var i = d.withClosestSiblings(e, l), s = n.head(i), o = n.tail(i);
                    return t.each(o, function (t, e) {
                        d.appendChildNodes(s, e.childNodes), d.remove(e)
                    }), n.head(i)
                })
            }
            return h
        }, this.current = function (e) {
            var i = t(d.isElement(e.sc) ? e.sc : e.sc.parentNode), n = this.fromNode(i);
            try {
                n = t.extend(n, {
                    "font-bold": document.queryCommandState("bold") ? "bold" : "normal",
                    "font-italic": document.queryCommandState("italic") ? "italic" : "normal",
                    "font-underline": document.queryCommandState("underline") ? "underline" : "normal",
                    "font-subscript": document.queryCommandState("subscript") ? "subscript" : "normal",
                    "font-superscript": document.queryCommandState("superscript") ? "superscript" : "normal",
                    "font-strikethrough": document.queryCommandState("strikethrough") ? "strikethrough" : "normal"
                })
            } catch (s) {
            }
            if (e.isOnList()) {
                var o = ["circle", "disc", "disc-leading-zero", "square"], r = t.inArray(n["list-style-type"], o) > -1;
                n["list-style"] = r ? "unordered" : "ordered"
            } else n["list-style"] = "none";
            var a = d.ancestor(e.sc, d.isPara);
            if (a && a.style["line-height"]) n["line-height"] = a.style.lineHeight; else {
                var l = parseInt(n["line-height"], 10) / parseInt(n["font-size"], 10);
                n["line-height"] = l.toFixed(1)
            }
            return n.anchor = e.isOnAnchor() && d.ancestor(e.sc, d.isAnchor), n.ancestors = d.listAncestor(e.sc, d.isEditable), n.range = e, n
        }
    }, L = function () {
        this.insertOrderedList = function () {
            this.toggleList("OL")
        }, this.insertUnorderedList = function () {
            this.toggleList("UL")
        }, this.indent = function () {
            var e = this, s = F.create().wrapBodyInlineWithPara(), o = s.nodes(d.isPara, {includeAncestor: !0}),
                r = n.clusterBy(o, i.peq2("parentNode"));
            t.each(r, function (i, s) {
                var o = n.head(s);
                d.isLi(o) ? e.wrapList(s, o.parentNode.nodeName) : t.each(s, function (e, i) {
                    t(i).css("marginLeft", function (t, e) {
                        return (parseInt(e, 10) || 0) + 25
                    })
                })
            }), s.select()
        }, this.outdent = function () {
            var e = this, s = F.create().wrapBodyInlineWithPara(), o = s.nodes(d.isPara, {includeAncestor: !0}),
                r = n.clusterBy(o, i.peq2("parentNode"));
            t.each(r, function (i, s) {
                var o = n.head(s);
                d.isLi(o) ? e.releaseList([s]) : t.each(s, function (e, i) {
                    t(i).css("marginLeft", function (t, e) {
                        return e = parseInt(e, 10) || 0, e > 25 ? e - 25 : ""
                    })
                })
            }), s.select()
        }, this.toggleList = function (e) {
            var s = this, o = F.create().wrapBodyInlineWithPara(), r = o.nodes(d.isPara, {includeAncestor: !0}),
                a = o.paraBookmark(r), l = n.clusterBy(r, i.peq2("parentNode"));
            if (n.find(r, d.isPurePara)) {
                var h = [];
                t.each(l, function (t, i) {
                    h = h.concat(s.wrapList(i, e))
                }), r = h
            } else {
                var u = o.nodes(d.isList, {includeAncestor: !0}).filter(function (i) {
                    return !t.nodeName(i, e)
                });
                u.length ? t.each(u, function (t, i) {
                    d.replace(i, e)
                }) : r = this.releaseList(l, !0)
            }
            F.createFromParaBookmark(a, r).select()
        }, this.wrapList = function (t, e) {
            var i = n.head(t), s = n.last(t), o = d.isList(i.previousSibling) && i.previousSibling,
                r = d.isList(s.nextSibling) && s.nextSibling, a = o || d.insertAfter(d.create(e || "UL"), s);
            return t = t.map(function (t) {
                return d.isPurePara(t) ? d.replace(t, "LI") : t
            }), d.appendChildNodes(a, t), r && (d.appendChildNodes(a, n.from(r.childNodes)), d.remove(r)), t
        }, this.releaseList = function (e, i) {
            var s = [];
            return t.each(e, function (e, o) {
                var r = n.head(o), a = n.last(o), l = i ? d.lastAncestor(r, d.isList) : r.parentNode,
                    h = l.childNodes.length > 1 ? d.splitTree(l, {
                        node: a.parentNode,
                        offset: d.position(a) + 1
                    }, {isSkipPaddingBlankHTML: !0}) : null,
                    u = d.splitTree(l, {node: r.parentNode, offset: d.position(r)}, {isSkipPaddingBlankHTML: !0});
                o = i ? d.listDescendant(u, d.isLi) : n.from(u.childNodes).filter(d.isLi), (i || !d.isList(l.parentNode)) && (o = o.map(function (t) {
                    return d.replace(t, "P")
                })), t.each(n.from(o).reverse(), function (t, e) {
                    d.insertAfter(e, l)
                });
                var c = n.compact([l, u, h]);
                t.each(c, function (e, i) {
                    var n = [i].concat(d.listDescendant(i, d.isList));
                    t.each(n.reverse(), function (t, e) {
                        d.nodeLength(e) || d.remove(e, !0)
                    })
                }), s = s.concat(o)
            }), s
        }
    }, B = function () {
        var e = new L;
        this.insertTab = function (t, e, i) {
            var n = d.createText(new Array(i + 1).join(d.NBSP_CHAR));
            e = e.deleteContents(), e.insertNode(n, !0), e = F.create(n, i), e.select()
        }, this.insertParagraph = function (i) {
            var n = F.create();
            n = n.deleteContents(), n = n.wrapBodyInlineWithPara();
            var s, o = d.ancestor(n.sc, d.isPara);
            if (o) {
                if (d.isEmpty(o) && d.isLi(o)) return void e.toggleList(o.parentNode.nodeName);
                if (d.isEmpty(o) && d.isPara(o) && d.isBlockquote(o.parentNode)) d.insertAfter(o, o.parentNode), s = o; else {
                    s = d.splitTree(o, n.getStartPoint());
                    var r = d.listDescendant(o, d.isEmptyAnchor);
                    r = r.concat(d.listDescendant(s, d.isEmptyAnchor)), t.each(r, function (t, e) {
                        d.remove(e)
                    }), (d.isHeading(s) || d.isPre(s)) && d.isEmpty(s) && (s = d.replace(s, "p"))
                }
            } else {
                var a = n.sc.childNodes[n.so];
                s = t(d.emptyPara)[0], a ? n.sc.insertBefore(s, a) : n.sc.appendChild(s)
            }
            F.create(s, 0).normalize().select().scrollIntoView(i)
        }
    }, W = function () {
        this.tab = function (t, e) {
            var i = d.ancestor(t.commonAncestor(), d.isCell), s = d.ancestor(i, d.isTable),
                o = d.listDescendant(s, d.isCell), r = n[e ? "prev" : "next"](o, i);
            r && F.create(r, 0).select()
        }, this.createTable = function (e, i, n) {
            for (var s, o = [], r = 0; e > r; r++) o.push("<td>" + d.blank + "</td>");
            s = o.join("");
            for (var a, l = [], h = 0; i > h; h++) l.push("<tr>" + s + "</tr>");
            a = l.join("");
            var u = t("<table>" + a + "</table>");
            return n && n.tableClassName && u.addClass(n.tableClassName), u[0]
        }
    }, Y = "bogus", U = function (e) {
        var i = this, s = e.layoutInfo.note, o = e.layoutInfo.editor, r = e.layoutInfo.editable, a = e.options,
            l = a.langInfo, u = new O, c = new W, f = new B, p = new L, g = new z(r);
        this.initialize = function () {
            r.on("keydown", function (t) {
                t.keyCode === A.code.ENTER && e.triggerEvent("enter", t), e.triggerEvent("keydown", t), a.shortcuts && !t.isDefaultPrevented() && i.handleKeyMap(t)
            }).on("keyup", function (t) {
                e.triggerEvent("keyup", t)
            }).on("focus", function (t) {
                e.triggerEvent("focus", t)
            }).on("blur", function (t) {
                e.triggerEvent("blur", t)
            }).on("mousedown", function (t) {
                e.triggerEvent("mousedown", t)
            }).on("mouseup", function (t) {
                e.triggerEvent("mouseup", t)
            }).on("scroll", function (t) {
                e.triggerEvent("scroll", t)
            }).on("paste", function (t) {
                e.triggerEvent("paste", t)
            });
            var t = h.isMSIE ? "DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted" : "input";
            r.on(t, function () {
                e.triggerEvent("change", r.html())
            }), o.on("focusin", function (t) {
                e.triggerEvent("focusin", t)
            }).on("focusout", function (t) {
                e.triggerEvent("focusout", t)
            }), !a.airMode && a.height && r.outerHeight(a.height), !a.airMode && a.maxHeight && r.css("max-height", a.maxHeight), !a.airMode && a.minHeight && r.css("min-height", a.minHeight), r.html(d.html(s) || d.emptyPara), g.recordUndo()
        }, this.destroy = function () {
            r.off()
        }, this.handleKeyMap = function (t) {
            var i = a.keyMap[h.isMac ? "mac" : "pc"], n = [];
            t.metaKey && n.push("CMD"), t.ctrlKey && !t.altKey && n.push("CTRL"), t.shiftKey && n.push("SHIFT");
            var s = A.nameFromCode[t.keyCode];
            s && n.push(s);
            var o = i[n.join("+")];
            o ? (t.preventDefault(), e.invoke(o)) : A.isEdit(t.keyCode) && this.afterCommand()
        }, this.createRange = function () {
            return this.focus(), F.create()
        }, this.saveRange = function (t) {
            this.focus(), r.data("range", F.create()), t && F.create().collapse().select()
        }, this.restoreRange = function () {
            var t = r.data("range");
            t && (t.select(), this.focus())
        }, this.saveTarget = function (t) {
            r.data("target", t)
        }, this.clearTarget = function () {
            r.removeData("target")
        }, this.restoreTarget = function () {
            return r.data("target")
        }, this.currentStyle = function () {
            var t = F.create();
            return t && (t = t.normalize()), t ? u.current(t) : u.fromNode(r)
        }, this.styleFromNode = function (t) {
            return u.fromNode(t)
        }, this.undo = function () {
            e.triggerEvent("before.command", r.html()), g.undo(), e.triggerEvent("change", r.html())
        }, e.memo("help.undo", l.help.undo), this.redo = function () {
            e.triggerEvent("before.command", r.html()), g.redo(), e.triggerEvent("change", r.html())
        }, e.memo("help.redo", l.help.redo);
        for (var m = this.beforeCommand = function () {
            e.triggerEvent("before.command", r.html()), i.focus()
        }, v = this.afterCommand = function (t) {
            g.recordUndo(), t || e.triggerEvent("change", r.html())
        }, y = ["bold", "italic", "underline", "strikethrough", "superscript", "subscript", "justifyLeft", "justifyCenter", "justifyRight", "justifyFull", "formatBlock", "removeFormat", "backColor", "foreColor", "fontName"], b = 0, w = y.length; w > b; b++) this[y[b]] = function (t) {
            return function (e) {
                m(), document.execCommand(t, !1, e), v(!0)
            }
        }(y[b]), e.memo("help." + y[b], l.help[y[b]]);
        this.tab = function () {
            var t = this.createRange();
            t.isCollapsed() && t.isOnCell() ? c.tab(t) : (m(), f.insertTab(r, t, a.tabSize), v())
        }, e.memo("help.tab", l.help.tab), this.untab = function () {
            var t = this.createRange();
            t.isCollapsed() && t.isOnCell() && c.tab(t, !0)
        }, e.memo("help.untab", l.help.untab), this.wrapCommand = function (t) {
            return function () {
                m(), t.apply(i, arguments), v()
            }
        }, this.insertParagraph = this.wrapCommand(function () {
            f.insertParagraph(r)
        }), e.memo("help.insertParagraph", l.help.insertParagraph), this.insertOrderedList = this.wrapCommand(function () {
            p.insertOrderedList(r)
        }), e.memo("help.insertOrderedList", l.help.insertOrderedList), this.insertUnorderedList = this.wrapCommand(function () {
            p.insertUnorderedList(r)
        }), e.memo("help.insertUnorderedList", l.help.insertUnorderedList), this.indent = this.wrapCommand(function () {
            p.indent(r)
        }), e.memo("help.indent", l.help.indent), this.outdent = this.wrapCommand(function () {
            p.outdent(r)
        }), e.memo("help.outdent", l.help.outdent), this.insertImage = function (t, i) {
            return R.createImage(t, i).then(function (t) {
                m(), "function" == typeof i ? i(t) : ("string" == typeof i && t.attr("data-filename", i), t.css("width", Math.min(r.width(), t.width()))), t.show(), F.create().insertNode(t[0]), F.createFromNodeAfter(t[0]).select(), v()
            }).fail(function () {
                e.triggerEvent("image.upload.error")
            })
        }, this.insertImages = function (n) {
            t.each(n, function (t, n) {
                var s = n.name;
                a.maximumImageFileSize && a.maximumImageFileSize < n.size ? e.triggerEvent("image.upload.error", l.image.maximumFileSizeError) : R.readFileAsDataURL(n).then(function (t) {
                    return i.insertImage(t, s)
                }).fail(function () {
                    e.triggerEvent("image.upload.error")
                })
            })
        }, this.insertImagesOrCallback = function (t) {
            var i = a.callbacks;
            i.onImageUpload ? e.triggerEvent("image.upload", t) : this.insertImages(t)
        }, this.insertNode = this.wrapCommand(function (t) {
            F.create().insertNode(t), F.createFromNodeAfter(t).select()
        }), this.insertText = this.wrapCommand(function (t) {
            var e = F.create().insertNode(d.createText(t));
            F.create(e, d.nodeLength(e)).select()
        }), this.getSelectedText = function () {
            var t = this.createRange();
            return t.isOnAnchor() && (t = F.createFromNode(d.ancestor(t.sc, d.isAnchor))), t.toString()
        }, this.pasteHTML = this.wrapCommand(function (t) {
            var e = F.create().pasteHTML(t);
            F.createFromNodeAfter(n.last(e)).select()
        }), this.formatBlock = this.wrapCommand(function (t) {
            t = h.isMSIE ? "<" + t + ">" : t, document.execCommand("FormatBlock", !1, t)
        }), this.formatPara = function () {
            this.formatBlock("P")
        }, e.memo("help.formatPara", l.help.formatPara);
        for (var b = 1; 6 >= b; b++) this["formatH" + b] = function (t) {
            return function () {
                this.formatBlock("H" + t)
            }
        }(b), e.memo("help.formatH" + b, l.help["formatH" + b]);
        this.fontSize = function (e) {
            this.focus();
            var i = F.create();
            if (i && i.isCollapsed()) {
                var s = u.styleNodes(i), o = n.head(s);
                t(s).css({"font-size": e + "px"}), o && !d.nodeLength(o) && (o.innerHTML = d.ZERO_WIDTH_NBSP_CHAR, F.createFromNodeAfter(o.firstChild).select(), r.data(Y, o))
            } else m(), t(u.styleNodes(i)).css({"font-size": e + "px"}), v()
        }, this.insertHorizontalRule = this.wrapCommand(function () {
            var e = F.create(), i = e.insertNode(t("<HR/>")[0]);
            i.nextSibling && F.create(i.nextSibling, 0).normalize().select()
        }), e.memo("help.insertHorizontalRule", l.help.insertHorizontalRule), this.removeBogus = function () {
            var t = r.data(Y);
            if (t) {
                var e = n.find(n.from(t.childNodes), d.isText), i = e.nodeValue.indexOf(d.ZERO_WIDTH_NBSP_CHAR);
                -1 !== i && e.deleteData(i, 1), d.isEmpty(t) && d.remove(t), r.removeData(Y)
            }
        }, this.lineHeight = this.wrapCommand(function (t) {
            u.stylePara(F.create(), {lineHeight: t})
        }), this.unlink = function () {
            var t = this.createRange();
            if (t.isOnAnchor()) {
                var e = d.ancestor(t.sc, d.isAnchor);
                t = F.createFromNode(e), t.select(), m(), document.execCommand("unlink"), v()
            }
        }, this.createLink = this.wrapCommand(function (e) {
            var i = e.url, s = e.text, o = e.isNewWindow, r = e.range || this.createRange(), l = r.toString() !== s;
            a.onCreateLink && (i = a.onCreateLink(i));
            var h = [];
            if (l) {
                var c = r.insertNode(t("<A>" + s + "</A>")[0]);
                h.push(c)
            } else h = u.styleNodes(r, {nodeName: "A", expandClosestSibling: !0, onlyPartialContains: !0});
            t.each(h, function (e, n) {
                t(n).attr("href", i), o ? t(n).attr("target", "_blank") : t(n).removeAttr("target")
            });
            var d = F.createFromNodeBefore(n.head(h)), f = d.getStartPoint(), p = F.createFromNodeAfter(n.last(h)),
                g = p.getEndPoint();
            F.create(f.node, f.offset, g.node, g.offset).select()
        }), this.getLinkInfo = function () {
            this.focus();
            var e = F.create().expand(d.isAnchor), i = t(n.head(e.nodes(d.isAnchor)));
            return {
                range: e,
                text: e.toString(),
                isNewWindow: i.length ? "_blank" === i.attr("target") : !1,
                url: i.length ? i.attr("href") : ""
            }
        }, this.color = this.wrapCommand(function (t) {
            var e = t.foreColor, i = t.backColor;
            e && document.execCommand("foreColor", !1, e), i && document.execCommand("backColor", !1, i)
        }), this.insertTable = this.wrapCommand(function (t) {
            var e = t.split("x"), i = F.create().deleteContents();
            i.insertNode(c.createTable(e[0], e[1], a))
        }), this.floatMe = this.wrapCommand(function (e) {
            var i = t(this.restoreTarget());
            i.css("float", e)
        }), this.resize = this.wrapCommand(function (e) {
            var i = t(this.restoreTarget());
            i.css({width: 100 * e + "%", height: ""})
        }), this.resizeTo = function (t, e, i) {
            var n;
            if (i) {
                var s = t.y / t.x, o = e.data("ratio");
                n = {width: o > s ? t.x : t.y / o, height: o > s ? t.x * o : t.y}
            } else n = {width: t.x, height: t.y};
            e.css(n)
        }, this.removeMedia = this.wrapCommand(function () {
            var i = t(this.restoreTarget()).detach();
            e.triggerEvent("media.delete", i, r)
        }), this.hasFocus = function () {
            return r.is(":focus")
        }, this.focus = function () {
            this.hasFocus() || (r.focus(), !this.hasFocus() && h.isFF && F.createFromNode(r[0]).normalize().collapse().select())
        }, this.isEmpty = function () {
            return d.isEmpty(r[0]) || d.emptyPara === r.html()
        }, this.empty = function () {
            e.invoke("code", d.emptyPara)
        }
    }, j = function (e) {
        var i = this, s = e.layoutInfo.editable;
        this.events = {
            "summernote.keydown": function (t, n) {
                i.needKeydownHook() && (n.ctrlKey || n.metaKey) && n.keyCode === A.code.V && (e.invoke("editor.saveRange"), i.$paste.focus(), setTimeout(function () {
                    i.pasteByHook()
                }, 0))
            }
        }, this.needKeydownHook = function () {
            return h.isMSIE && h.browserVersion > 10 || h.isFF
        }, this.initialize = function () {
            this.needKeydownHook() ? (this.$paste = t("<div />").attr("contenteditable", !0).css({
                position: "absolute",
                left: -1e5,
                opacity: 0
            }), s.before(this.$paste), this.$paste.on("paste", function (t) {
                e.triggerEvent("paste", t)
            })) : s.on("paste", this.pasteByEvent)
        }, this.destroy = function () {
            this.needKeydownHook() && (this.$paste.remove(), this.$paste = null)
        }, this.pasteByHook = function () {
            var i = this.$paste[0].firstChild;
            if (d.isImg(i)) {
                for (var n = i.src, s = atob(n.split(",")[1]), o = new Uint8Array(s.length), r = 0; r < s.length; r++) o[r] = s.charCodeAt(r);
                var a = new Blob([o], {type: "image/png"});
                a.name = "clipboard.png", e.invoke("editor.restoreRange"), e.invoke("editor.focus"), e.invoke("editor.insertImagesOrCallback", [a])
            } else {
                var l = t("<div />").html(this.$paste.html()).html();
                e.invoke("editor.restoreRange"), e.invoke("editor.focus"), l && e.invoke("editor.pasteHTML", l)
            }
            this.$paste.empty()
        }, this.pasteByEvent = function (t) {
            var i = t.originalEvent.clipboardData;
            if (i && i.items && i.items.length) {
                var s = n.head(i.items);
                "file" === s.kind && -1 !== s.type.indexOf("image/") && e.invoke("editor.insertImagesOrCallback", [s.getAsFile()]), e.invoke("editor.afterCommand")
            }
        }
    }, V = function (e) {
        var i = t(document), n = e.layoutInfo.editor, s = e.layoutInfo.editable, o = e.options, r = o.langInfo,
            a = t(['<div class="note-dropzone">', '  <div class="note-dropzone-message"/>', "</div>"].join("")).prependTo(n);
        this.initialize = function () {
            o.disableDragAndDrop ? i.on("drop", function (t) {
                t.preventDefault()
            }) : this.attachDragAndDropEvent()
        }, this.attachDragAndDropEvent = function () {
            var o = t(), l = a.find(".note-dropzone-message");
            i.on("dragenter", function (t) {
                var i = e.invoke("codeview.isActivated"), s = n.width() > 0 && n.height() > 0;
                i || o.length || !s || (n.addClass("dragover"), a.width(n.width()), a.height(n.height()), l.text(r.image.dragImageHere)), o = o.add(t.target)
            }).on("dragleave", function (t) {
                o = o.not(t.target), o.length || n.removeClass("dragover")
            }).on("drop", function () {
                o = t(), n.removeClass("dragover")
            }), a.on("dragenter", function () {
                a.addClass("hover"), l.text(r.image.dropImage)
            }).on("dragleave", function () {
                a.removeClass("hover"), l.text(r.image.dragImageHere)
            }), a.on("drop", function (i) {
                var n = i.originalEvent.dataTransfer;
                n && n.files && n.files.length ? (i.preventDefault(), s.focus(), e.invoke("editor.insertImagesOrCallback", n.files)) : t.each(n.types, function (i, s) {
                    var o = n.getData(s);
                    s.toLowerCase().indexOf("text") > -1 ? e.invoke("editor.pasteHTML", o) : t(o).each(function () {
                        e.invoke("editor.insertNode", this)
                    })
                })
            }).on("dragover", !1)
        }
    };
    h.hasCodeMirror && (h.isSupportAmd ? require(["codemirror"], function (t) {
        P = t
    }) : P = window.CodeMirror);
    var $ = function (t) {
        var e = t.layoutInfo.editor, i = t.layoutInfo.editable, n = t.layoutInfo.codable, s = t.options;
        this.sync = function () {
            var t = this.isActivated();
            t && h.hasCodeMirror && n.data("cmEditor").save()
        }, this.isActivated = function () {
            return e.hasClass("codeview")
        }, this.toggle = function () {
            this.isActivated() ? this.deactivate() : this.activate(), t.triggerEvent("codeview.toggled")
        }, this.activate = function () {
            if (n.val(d.html(i, s.prettifyHtml)), n.height(i.height()), t.invoke("toolbar.updateCodeview", !0), e.addClass("codeview"), n.focus(), h.hasCodeMirror) {
                var o = P.fromTextArea(n[0], s.codemirror);
                if (s.codemirror.tern) {
                    var r = new P.TernServer(s.codemirror.tern);
                    o.ternServer = r, o.on("cursorActivity", function (t) {
                        r.updateArgHints(t)
                    })
                }
                o.setSize(null, i.outerHeight()), n.data("cmEditor", o)
            }
        }, this.deactivate = function () {
            if (h.hasCodeMirror) {
                var o = n.data("cmEditor");
                n.val(o.getValue()), o.toTextArea()
            }
            var r = d.value(n, s.prettifyHtml) || d.emptyPara, a = i.html() !== r;
            i.html(r), i.height(s.height ? n.height() : "auto"), e.removeClass("codeview"), a && t.triggerEvent("change", i.html(), i), i.focus(), t.invoke("toolbar.updateCodeview", !1)
        }, this.destroy = function () {
            this.isActivated() && this.deactivate()
        }
    }, G = 24, q = function (e) {
        var i = t(document), n = e.layoutInfo.statusbar, s = e.layoutInfo.editable, o = e.options;
        this.initialize = function () {
            o.airMode || o.disableResizeEditor || n.on("mousedown", function (t) {
                t.preventDefault(), t.stopPropagation();
                var e = s.offset().top - i.scrollTop();
                i.on("mousemove", function (t) {
                    var i = t.clientY - (e + G);
                    i = o.minheight > 0 ? Math.max(i, o.minheight) : i, i = o.maxHeight > 0 ? Math.min(i, o.maxHeight) : i, s.height(i)
                }).one("mouseup", function () {
                    i.off("mousemove")
                })
            })
        }, this.destroy = function () {
            n.off()
        }
    }, K = function (e) {
        var i = e.layoutInfo.editor, n = e.layoutInfo.toolbar, s = e.layoutInfo.editable, o = e.layoutInfo.codable,
            r = t(window), a = t("html, body");
        this.toggle = function () {
            var t = function (t) {
                s.css("height", t.h), o.css("height", t.h), o.data("cmeditor") && o.data("cmeditor").setsize(null, t.h)
            };
            i.toggleClass("fullscreen");
            var l = i.hasClass("fullscreen");
            l ? (s.data("orgHeight", s.css("height")), r.on("resize", function () {
                t({h: r.height() - n.outerHeight()})
            }).trigger("resize"), a.css("overflow", "hidden")) : (r.off("resize"), t({h: s.data("orgHeight")}), a.css("overflow", "visible")), e.invoke("toolbar.updateFullscreen", l)
        }
    }, X = function (e) {
        var i = this, n = t(document), s = e.layoutInfo.editingArea, o = e.options;
        this.events = {
            "summernote.mousedown": function (t, e) {
                i.update(e.target) && e.preventDefault()
            }, "summernote.keyup summernote.scroll summernote.change summernote.dialog.shown": function () {
                i.update()
            }
        }, this.initialize = function () {
            this.$handle = t(['<div class="note-handle">', '<div class="note-control-selection">', '<div class="note-control-selection-bg"></div>', '<div class="note-control-holder note-control-nw"></div>', '<div class="note-control-holder note-control-ne"></div>', '<div class="note-control-holder note-control-sw"></div>', '<div class="', o.disableResizeImage ? "note-control-holder" : "note-control-sizing", ' note-control-se"></div>', o.disableResizeImage ? "" : '<div class="note-control-selection-info"></div>', "</div>", "</div>"].join("")).prependTo(s), this.$handle.on("mousedown", function (t) {
                if (d.isControlSizing(t.target)) {
                    t.preventDefault(), t.stopPropagation();
                    var s = i.$handle.find(".note-control-selection").data("target"), o = s.offset(), r = n.scrollTop();
                    n.on("mousemove", function (t) {
                        e.invoke("editor.resizeTo", {
                            x: t.clientX - o.left,
                            y: t.clientY - (o.top - r)
                        }, s, !t.shiftKey), i.update(s[0])
                    }).one("mouseup", function (t) {
                        t.preventDefault(), n.off("mousemove"), e.invoke("editor.afterCommand")
                    }), s.data("ratio") || s.data("ratio", s.height() / s.width())
                }
            })
        }, this.destroy = function () {
            this.$handle.remove()
        }, this.update = function (i) {
            var n = d.isImg(i), s = this.$handle.find(".note-control-selection");
            if (e.invoke("imagePopover.update", i), n) {
                var o = t(i), r = o.position(), a = {w: o.outerWidth(!0), h: o.outerHeight(!0)};
                s.css({display: "block", left: r.left, top: r.top, width: a.w, height: a.h}).data("target", o);
                var l = a.w + "x" + a.h;
                s.find(".note-control-selection-info").text(l), e.invoke("editor.saveTarget", i)
            } else this.hide();
            return n
        }, this.hide = function () {
            e.invoke("editor.clearTarget"), this.$handle.children().hide()
        }
    }, Z = function (e) {
        var i = this, s = "http://",
            o = /^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;
        this.events = {
            "summernote.keyup": function (t, e) {
                e.isDefaultPrevented() || i.handleKeyup(e)
            }, "summernote.keydown": function (t, e) {
                i.handleKeydown(e)
            }
        }, this.initialize = function () {
            this.lastWordRange = null
        }, this.destroy = function () {
            this.lastWordRange = null
        }, this.replace = function () {
            if (this.lastWordRange) {
                var i = this.lastWordRange.toString(), n = i.match(o);
                if (n && (n[1] || n[2])) {
                    var r = n[1] ? i : s + i, a = t("<a />").html(i).attr("href", r)[0];
                    this.lastWordRange.insertNode(a), this.lastWordRange = null, e.invoke("editor.focus")
                }
            }
        }, this.handleKeydown = function (t) {
            if (n.contains([A.code.ENTER, A.code.SPACE], t.keyCode)) {
                var i = e.invoke("editor.createRange").getWordRange();
                this.lastWordRange = i
            }
        }, this.handleKeyup = function (t) {
            n.contains([A.code.ENTER, A.code.SPACE], t.keyCode) && this.replace()
        }
    }, Q = function (t) {
        var e = t.layoutInfo.note;
        this.events = {
            "summernote.change": function () {
                e.val(t.invoke("code"))
            }
        }, this.shouldInitialize = function () {
            return d.isTextarea(e[0])
        }
    }, J = function (e) {
        var i = this, n = e.layoutInfo.editingArea, s = e.options;
        this.events = {
            "summernote.init summernote.change": function () {
                i.update()
            }, "summernote.codeview.toggled": function () {
                i.update()
            }
        }, this.shouldInitialize = function () {
            return !!s.placeholder
        }, this.initialize = function () {
            this.$placeholder = t('<div class="note-placeholder">'), this.$placeholder.on("click", function () {
                e.invoke("focus")
            }).text(s.placeholder).prependTo(n)
        }, this.destroy = function () {
            this.$placeholder.remove()
        }, this.update = function () {
            var t = !e.invoke("codeview.isActivated") && e.invoke("editor.isEmpty");
            this.$placeholder.toggle(t)
        }
    }, tt = function (e) {
        var s = this, o = t.summernote.ui, r = e.layoutInfo.toolbar, a = e.options, l = a.langInfo,
            u = i.invertObject(a.keyMap[h.isMac ? "mac" : "pc"]), c = this.representShortcut = function (t) {
                var e = u[t];
                return h.isMac && (e = e.replace("CMD", "").replace("SHIFT", "")), e = e.replace("BACKSLASH", "\\").replace("SLASH", "/").replace("LEFTBRACKET", "[").replace("RIGHTBRACKET", "]"), " (" + e + ")"
            };
        this.initialize = function () {
            this.addToolbarButtons(), this.addImagePopoverButtons(), this.addLinkPopoverButtons()
        }, this.addToolbarButtons = function () {
            e.memo("button.style", function () {
                return o.buttonGroup([o.button({
                    className: "dropdown-toggle",
                    contents: o.icon(a.icons.magic) + " " + o.icon(a.icons.caret, "span"),
                    tooltip: l.style.style,
                    data: {toggle: "dropdown"}
                }), o.dropdown({
                    className: "dropdown-style", items: e.options.styleTags, template: function (t) {
                        "string" == typeof t && (t = {tag: t, title: t});
                        var e = t.tag, i = t.title, n = t.style ? ' style="' + t.style + '" ' : "",
                            s = t.className ? ' className="' + t.className + '"' : "";
                        return "<" + e + n + s + ">" + i + "</" + e + ">"
                    }, click: e.createInvokeHandler("editor.formatBlock")
                })]).render()
            }), e.memo("button.bold", function () {
                return o.button({
                    className: "note-btn-bold",
                    contents: o.icon(a.icons.bold),
                    tooltip: l.font.bold + c("bold"),
                    click: e.createInvokeHandler("editor.bold")
                }).render()
            }), e.memo("button.italic", function () {
                return o.button({
                    className: "note-btn-italic",
                    contents: o.icon(a.icons.italic),
                    tooltip: l.font.italic + c("italic"),
                    click: e.createInvokeHandler("editor.italic")
                }).render()
            }), e.memo("button.underline", function () {
                return o.button({
                    className: "note-btn-underline",
                    contents: o.icon(a.icons.underline),
                    tooltip: l.font.underline + c("underline"),
                    click: e.createInvokeHandler("editor.underline")
                }).render()
            }), e.memo("button.clear", function () {
                return o.button({
                    contents: o.icon(a.icons.eraser),
                    tooltip: l.font.clear + c("removeFormat"),
                    click: e.createInvokeHandler("editor.removeFormat")
                }).render()
            }), e.memo("button.strikethrough", function () {
                return o.button({
                    className: "note-btn-strikethrough",
                    contents: o.icon(a.icons.strikethrough),
                    tooltip: l.font.strikethrough + c("strikethrough"),
                    click: e.createInvokeHandler("editor.strikethrough")
                }).render()
            }), e.memo("button.superscript", function () {
                return o.button({
                    className: "note-btn-superscript",
                    contents: o.icon(a.icons.superscript),
                    tooltip: l.font.superscript,
                    click: e.createInvokeHandler("editor.superscript")
                }).render()
            }), e.memo("button.subscript", function () {
                return o.button({
                    className: "note-btn-subscript",
                    contents: o.icon(a.icons.subscript),
                    tooltip: l.font.subscript,
                    click: e.createInvokeHandler("editor.subscript")
                }).render()
            }), e.memo("button.fontname", function () {
                return o.buttonGroup([o.button({
                    className: "dropdown-toggle",
                    contents: '<span class="note-current-fontname"/> ' + o.icon(a.icons.caret, "span"),
                    tooltip: l.font.name,
                    data: {toggle: "dropdown"}
                }), o.dropdownCheck({
                    className: "dropdown-fontname",
                    checkClassName: a.icons.menuCheck,
                    items: a.fontNames.filter(function (t) {
                        return h.isFontInstalled(t) || n.contains(a.fontNamesIgnoreCheck, t)
                    }),
                    template: function (t) {
                        return '<span style="font-family:' + t + '">' + t + "</span>"
                    },
                    click: e.createInvokeHandler("editor.fontName")
                })]).render()
            }), e.memo("button.fontsize", function () {
                return o.buttonGroup([o.button({
                    className: "dropdown-toggle",
                    contents: '<span class="note-current-fontsize"/>' + o.icon(a.icons.caret, "span"),
                    tooltip: l.font.size,
                    data: {toggle: "dropdown"}
                }), o.dropdownCheck({
                    className: "dropdown-fontsize",
                    checkClassName: a.icons.menuCheck,
                    items: a.fontSizes,
                    click: e.createInvokeHandler("editor.fontSize")
                })]).render()
            }), e.memo("button.color", function () {
                return o.buttonGroup({
                    className: "note-color",
                    children: [o.button({
                        className: "note-current-color-button",
                        contents: o.icon(a.icons.font + " note-recent-color"),
                        tooltip: l.color.recent,
                        click: e.createInvokeHandler("editor.color"),
                        callback: function (t) {
                            var e = t.find(".note-recent-color");
                            e.css({"background-color": "yellow"}), t.data("value", {backColor: "yellow"})
                        }
                    }), o.button({
                        className: "dropdown-toggle",
                        contents: o.icon(a.icons.caret, "span"),
                        tooltip: l.color.more,
                        data: {toggle: "dropdown"}
                    }), o.dropdown({
                        items: ["<li>", '<div class="btn-group">', '  <div class="note-palette-title">' + l.color.background + "</div>", "  <div>", '    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">', l.color.transparent, "    </button>", "  </div>", '  <div class="note-holder" data-event="backColor"/>', "</div>", '<div class="btn-group">', '  <div class="note-palette-title">' + l.color.foreground + "</div>", "  <div>", '    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">', l.color.resetToDefault, "    </button>", "  </div>", '  <div class="note-holder" data-event="foreColor"/>', "</div>", "</li>"].join(""),
                        callback: function (e) {
                            e.find(".note-holder").each(function () {
                                var e = t(this);
                                e.append(o.palette({colors: a.colors, eventName: e.data("event")}).render())
                            })
                        },
                        click: function (i) {
                            var n = t(i.target), s = n.data("event"), o = n.data("value");
                            if (s && o) {
                                var r = "backColor" === s ? "background-color" : "color",
                                    a = n.closest(".note-color").find(".note-recent-color"),
                                    l = n.closest(".note-color").find(".note-current-color-button"),
                                    h = l.data("value");
                                h[s] = o, a.css(r, o), l.data("value", h), e.invoke("editor." + s, o)
                            }
                        }
                    })]
                }).render()
            }), e.memo("button.ol", function () {
                return o.button({
                    contents: o.icon(a.icons.unorderedlist),
                    tooltip: l.lists.unordered + c("insertUnorderedList"),
                    click: e.createInvokeHandler("editor.insertUnorderedList")
                }).render()
            }), e.memo("button.ul", function () {
                return o.button({
                    contents: o.icon(a.icons.orderedlist),
                    tooltip: l.lists.ordered + c("insertOrderedList"),
                    click: e.createInvokeHandler("editor.insertOrderedList")
                }).render()
            });
            var r = o.button({
                contents: o.icon(a.icons.alignLeft),
                tooltip: l.paragraph.left + c("justifyLeft"),
                click: e.createInvokeHandler("editor.justifyLeft")
            }), u = o.button({
                contents: o.icon(a.icons.alignCenter),
                tooltip: l.paragraph.center + c("justifyCenter"),
                click: e.createInvokeHandler("editor.justifyCenter")
            }), d = o.button({
                contents: o.icon(a.icons.alignRight),
                tooltip: l.paragraph.right + c("justifyRight"),
                click: e.createInvokeHandler("editor.justifyRight")
            }), f = o.button({
                contents: o.icon(a.icons.alignJustify),
                tooltip: l.paragraph.justify + c("justifyFull"),
                click: e.createInvokeHandler("editor.justifyFull")
            }), p = o.button({
                contents: o.icon(a.icons.outdent),
                tooltip: l.paragraph.outdent + c("outdent"),
                click: e.createInvokeHandler("editor.outdent")
            }), g = o.button({
                contents: o.icon(a.icons.indent),
                tooltip: l.paragraph.indent + c("indent"),
                click: e.createInvokeHandler("editor.indent")
            });
            e.memo("button.justifyLeft", i.invoke(r, "render")), e.memo("button.justifyCenter", i.invoke(u, "render")), e.memo("button.justifyRight", i.invoke(d, "render")), e.memo("button.justifyFull", i.invoke(f, "render")), e.memo("button.outdent", i.invoke(p, "render")), e.memo("button.indent", i.invoke(g, "render")), e.memo("button.paragraph", function () {
                return o.buttonGroup([o.button({
                    className: "dropdown-toggle",
                    contents: o.icon(a.icons.align) + " " + o.icon(a.icons.caret, "span"),
                    tooltip: l.paragraph.paragraph,
                    data: {toggle: "dropdown"}
                }), o.dropdown([o.buttonGroup({
                    className: "note-align",
                    children: [r, u, d, f]
                }), o.buttonGroup({className: "note-list", children: [p, g]})])]).render()
            }), e.memo("button.height", function () {
                return o.buttonGroup([o.button({
                    className: "dropdown-toggle",
                    contents: o.icon(a.icons.textHeight) + " " + o.icon(a.icons.caret, "span"),
                    tooltip: l.font.height,
                    data: {toggle: "dropdown"}
                }), o.dropdownCheck({
                    items: a.lineHeights,
                    checkClassName: a.icons.menuCheck,
                    className: "dropdown-line-height",
                    click: e.createInvokeHandler("editor.lineHeight")
                })]).render()
            }), e.memo("button.table", function () {
                return o.buttonGroup([o.button({
                    className: "dropdown-toggle",
                    contents: o.icon(a.icons.table) + " " + o.icon(a.icons.caret, "span"),
                    tooltip: l.table.table,
                    data: {toggle: "dropdown"}
                }), o.dropdown({
                    className: "note-table",
                    items: ['<div class="note-dimension-picker">', '  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>', '  <div class="note-dimension-picker-highlighted"/>', '  <div class="note-dimension-picker-unhighlighted"/>', "</div>", '<div class="note-dimension-display">1 x 1</div>'].join("")
                })], {
                    callback: function (t) {
                        var i = t.find(".note-dimension-picker-mousecatcher");
                        i.css({
                            width: a.insertTableMaxSize.col + "em",
                            height: a.insertTableMaxSize.row + "em"
                        }).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove", s.tableMoveHandler)
                    }
                }).render()
            }), e.memo("button.link", function () {
                return o.button({
                    contents: o.icon(a.icons.link),
                    tooltip: l.link.link,
                    click: e.createInvokeHandler("linkDialog.show")
                }).render()
            }), e.memo("button.picture", function () {
                return o.button({
                    contents: o.icon(a.icons.picture),
                    tooltip: l.image.image,
                    click: e.createInvokeHandler("imageDialog.show")
                }).render()
            }), e.memo("button.video", function () {
                return o.button({
                    contents: o.icon(a.icons.video),
                    tooltip: l.video.video,
                    click: e.createInvokeHandler("videoDialog.show")
                }).render()
            }), e.memo("button.hr", function () {
                return o.button({
                    contents: o.icon(a.icons.minus),
                    tooltip: l.hr.insert + c("insertHorizontalRule"),
                    click: e.createInvokeHandler("editor.insertHorizontalRule")
                }).render()
            }), e.memo("button.fullscreen", function () {
                return o.button({
                    className: "btn-fullscreen",
                    contents: o.icon(a.icons.arrowsAlt),
                    tooltip: l.options.fullscreen,
                    click: e.createInvokeHandler("fullscreen.toggle")
                }).render()
            }), e.memo("button.codeview", function () {
                return o.button({
                    className: "btn-codeview",
                    contents: o.icon(a.icons.code),
                    tooltip: l.options.codeview,
                    click: e.createInvokeHandler("codeview.toggle")
                }).render()
            }), e.memo("button.redo", function () {
                return o.button({
                    contents: o.icon(a.icons.redo),
                    tooltip: l.history.redo + c("redo"),
                    click: e.createInvokeHandler("editor.redo")
                }).render()
            }), e.memo("button.undo", function () {
                return o.button({
                    contents: o.icon(a.icons.undo),
                    tooltip: l.history.undo + c("undo"),
                    click: e.createInvokeHandler("editor.undo")
                }).render()
            }), e.memo("button.help", function () {
                return o.button({
                    contents: o.icon(a.icons.question),
                    tooltip: l.options.help,
                    click: e.createInvokeHandler("helpDialog.show")
                }).render()
            })
        }, this.addImagePopoverButtons = function () {
            e.memo("button.imageSize100", function () {
                return o.button({
                    contents: '<span class="note-fontsize-10">100%</span>',
                    tooltip: l.image.resizeFull,
                    click: e.createInvokeHandler("editor.resize", "1")
                }).render()
            }), e.memo("button.imageSize50", function () {
                return o.button({
                    contents: '<span class="note-fontsize-10">50%</span>',
                    tooltip: l.image.resizeHalf,
                    click: e.createInvokeHandler("editor.resize", "0.5")
                }).render()
            }), e.memo("button.imageSize25", function () {
                return o.button({
                    contents: '<span class="note-fontsize-10">25%</span>',
                    tooltip: l.image.resizeQuarter,
                    click: e.createInvokeHandler("editor.resize", "0.25")
                }).render()
            }), e.memo("button.floatLeft", function () {
                return o.button({
                    contents: o.icon(a.icons.alignLeft),
                    tooltip: l.image.floatLeft,
                    click: e.createInvokeHandler("editor.floatMe", "left")
                }).render()
            }), e.memo("button.floatRight", function () {
                return o.button({
                    contents: o.icon(a.icons.alignRight),
                    tooltip: l.image.floatRight,
                    click: e.createInvokeHandler("editor.floatMe", "right")
                }).render()
            }), e.memo("button.floatNone", function () {
                return o.button({
                    contents: o.icon(a.icons.alignJustify),
                    tooltip: l.image.floatNone,
                    click: e.createInvokeHandler("editor.floatMe", "none")
                }).render()
            }), e.memo("button.removeMedia", function () {
                return o.button({
                    contents: o.icon(a.icons.trash),
                    tooltip: l.image.remove,
                    click: e.createInvokeHandler("editor.removeMedia")
                }).render()
            })
        }, this.addLinkPopoverButtons = function () {
            e.memo("button.linkDialogShow", function () {
                return o.button({
                    contents: o.icon(a.icons.link),
                    tooltip: l.link.edit,
                    click: e.createInvokeHandler("linkDialog.show")
                }).render()
            }), e.memo("button.unlink", function () {
                return o.button({
                    contents: o.icon(a.icons.unlink),
                    tooltip: l.link.unlink,
                    click: e.createInvokeHandler("editor.unlink")
                }).render()
            })
        }, this.build = function (t, i) {
            for (var n = 0, s = i.length; s > n; n++) {
                for (var r = i[n], a = r[0], l = r[1], h = o.buttonGroup({className: "note-" + a}).render(), u = 0, c = l.length; c > u; u++) {
                    var d = e.memo("button." + l[u]);
                    d && h.append("function" == typeof d ? d() : d)
                }
                h.appendTo(t)
            }
        }, this.updateCurrentStyle = function () {
            var i = e.invoke("editor.currentStyle");
            if (this.updateBtnStates({
                    ".note-btn-bold": function () {
                        return "bold" === i["font-bold"]
                    }, ".note-btn-italic": function () {
                        return "italic" === i["font-italic"]
                    }, ".note-btn-underline": function () {
                        return "underline" === i["font-underline"]
                    }, ".note-btn-subscript": function () {
                        return "subscript" === i["font-subscript"]
                    }, ".note-btn-superscript": function () {
                        return "superscript" === i["font-superscript"]
                    }, ".note-btn-strikethrough": function () {
                        return "strikethrough" === i["font-strikethrough"]
                    }
                }), i["font-family"]) {
                var s = i["font-family"].split(",").map(function (t) {
                    return t.replace(/[\'\"]/g, "").replace(/\s+$/, "").replace(/^\s+/, "")
                }), o = n.find(s, function (t) {
                    return h.isFontInstalled(t) || n.contains(a.fontNamesIgnoreCheck, t)
                });
                r.find(".dropdown-fontname li a").each(function () {
                    var e = t(this).data("value") + "" == o + "";
                    this.className = e ? "checked" : ""
                }), r.find(".note-current-fontname").text(o)
            }
            if (i["font-size"]) {
                var l = i["font-size"];
                r.find(".dropdown-fontsize li a").each(function () {
                    var e = t(this).data("value") + "" == l + "";
                    this.className = e ? "checked" : ""
                }), r.find(".note-current-fontsize").text(l)
            }
            if (i["line-height"]) {
                var u = i["line-height"];
                r.find(".dropdown-line-height li a").each(function () {
                    var e = t(this).data("value") + "" == u + "";
                    this.className = e ? "checked" : ""
                })
            }
        }, this.updateBtnStates = function (e) {
            t.each(e, function (t, e) {
                o.toggleBtnActive(r.find(t), e())
            })
        }, this.tableMoveHandler = function (e) {
            var i, n = 18, s = t(e.target.parentNode), o = s.next(), r = s.find(".note-dimension-picker-mousecatcher"),
                l = s.find(".note-dimension-picker-highlighted"), h = s.find(".note-dimension-picker-unhighlighted");
            if (void 0 === e.offsetX) {
                var u = t(e.target).offset();
                i = {x: e.pageX - u.left, y: e.pageY - u.top}
            } else i = {x: e.offsetX, y: e.offsetY};
            var c = {c: Math.ceil(i.x / n) || 1, r: Math.ceil(i.y / n) || 1};
            l.css({
                width: c.c + "em",
                height: c.r + "em"
            }), r.data("value", c.c + "x" + c.r), 3 < c.c && c.c < a.insertTableMaxSize.col && h.css({width: c.c + 1 + "em"}), 3 < c.r && c.r < a.insertTableMaxSize.row && h.css({height: c.r + 1 + "em"}), o.html(c.c + " x " + c.r)
        }
    }, et = function (e) {
        var i = t.summernote.ui, n = e.layoutInfo.note, s = e.layoutInfo.toolbar, o = e.options;
        this.shouldInitialize = function () {
            return !o.airMode
        }, this.initialize = function () {
            o.toolbar = o.toolbar || [], o.toolbar.length ? e.invoke("buttons.build", s, o.toolbar) : s.hide(), o.toolbarContainer && s.appendTo(o.toolbarContainer), n.on("summernote.keyup summernote.mouseup summernote.change", function () {
                e.invoke("buttons.updateCurrentStyle")
            }), e.invoke("buttons.updateCurrentStyle")
        }, this.destroy = function () {
            s.children().remove()
        }, this.updateFullscreen = function (t) {
            i.toggleBtnActive(s.find(".btn-fullscreen"), t)
        }, this.updateCodeview = function (t) {
            i.toggleBtnActive(s.find(".btn-codeview"), t), t ? this.deactivate() : this.activate()
        }, this.activate = function (t) {
            var e = s.find("button");
            t || (e = e.not(".btn-codeview")), i.toggleBtn(e, !0)
        }, this.deactivate = function (t) {
            var e = s.find("button");
            t || (e = e.not(".btn-codeview")), i.toggleBtn(e, !1)
        }
    }, it = function (e) {
        var i = this, n = t.summernote.ui, s = e.layoutInfo.editor, o = e.options, r = o.langInfo;
        this.initialize = function () {
            var e = o.dialogsInBody ? t(document.body) : s,
                i = '<div class="form-group"><label>' + r.link.textToDisplay + '</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>' + r.link.url + '</label><input class="note-link-url form-control" type="text" value="http://" /></div>' + (o.disableLinkTarget ? "" : '<div class="checkbox"><label><input type="checkbox" checked> ' + r.link.openInNewWindow + "</label></div>"),
                a = '<button href="#" class="btn btn-primary note-link-btn disabled" disabled>' + r.link.insert + "</button>";
            this.$dialog = n.dialog({
                className: "link-dialog",
                title: r.link.insert,
                fade: o.dialogsFade,
                body: i,
                footer: a
            }).render().appendTo(e)
        }, this.destroy = function () {
            n.hideDialog(this.$dialog), this.$dialog.remove()
        }, this.bindEnterKey = function (t, e) {
            t.on("keypress", function (t) {
                t.keyCode === A.code.ENTER && e.trigger("click")
            })
        }, this.showLinkDialog = function (s) {
            return t.Deferred(function (t) {
                var o = i.$dialog.find(".note-link-text"), r = i.$dialog.find(".note-link-url"),
                    a = i.$dialog.find(".note-link-btn"), l = i.$dialog.find("input[type=checkbox]");
                n.onDialogShown(i.$dialog, function () {
                    e.triggerEvent("dialog.shown"), o.val(s.text), o.on("input", function () {
                        n.toggleBtn(a, o.val() && r.val()), s.text = o.val()
                    }), s.url || (s.url = s.text || "http://", n.toggleBtn(a, s.text)), r.on("input", function () {
                        n.toggleBtn(a, o.val() && r.val()), s.text || o.val(r.val())
                    }).val(s.url).trigger("focus"), i.bindEnterKey(r, a), i.bindEnterKey(o, a), l.prop("checked", s.isNewWindow), a.one("click", function (e) {
                        e.preventDefault(), t.resolve({
                            range: s.range,
                            url: r.val(),
                            text: o.val(),
                            isNewWindow: l.is(":checked")
                        }), i.$dialog.modal("hide")
                    })
                }), n.onDialogHidden(i.$dialog, function () {
                    o.off("input keypress"), r.off("input keypress"), a.off("click"), "pending" === t.state() && t.reject()
                }), n.showDialog(i.$dialog)
            }).promise()
        }, this.show = function () {
            var t = e.invoke("editor.getLinkInfo");
            e.invoke("editor.saveRange"), this.showLinkDialog(t).then(function (t) {
                e.invoke("editor.restoreRange"), e.invoke("editor.createLink", t)
            }).fail(function () {
                e.invoke("editor.restoreRange")
            })
        }, e.memo("help.linkDialog.show", o.langInfo.help["linkDialog.show"])
    }, nt = function (e) {
        var i = this, s = t.summernote.ui, o = e.options;
        this.events = {
            "summernote.keyup summernote.mouseup summernote.change summernote.scroll": function () {
                i.update()
            }, "summernote.dialog.shown": function () {
                i.hide()
            }
        }, this.shouldInitialize = function () {
            return !n.isEmpty(o.popover.link)
        }, this.initialize = function () {
            this.$popover = s.popover({
                className: "note-link-popover", callback: function (t) {
                    var e = t.find(".popover-content");
                    e.prepend('<span><a target="_blank"></a>&nbsp;</span>')
                }
            }).render().appendTo("body");
            var t = this.$popover.find(".popover-content");
            e.invoke("buttons.build", t, o.popover.link)
        }, this.destroy = function () {
            this.$popover.remove()
        }, this.update = function () {
            if (!e.invoke("editor.hasFocus")) return void this.hide();
            var i = e.invoke("editor.createRange");
            if (i.isCollapsed() && i.isOnAnchor()) {
                var n = d.ancestor(i.sc, d.isAnchor), s = t(n).attr("href");
                this.$popover.find("a").attr("href", s).html(s);
                var o = d.posFromPlaceholder(n);
                this.$popover.css({display: "block", left: o.left, top: o.top})
            } else this.hide()
        }, this.hide = function () {
            this.$popover.hide()
        }
    }, st = function (e) {
        var i = this, n = t.summernote.ui, s = e.layoutInfo.editor, o = e.options, r = o.langInfo;
        this.initialize = function () {
            var e = o.dialogsInBody ? t(document.body) : s, i = "";
            if (o.maximumImageFileSize) {
                var a = Math.floor(Math.log(o.maximumImageFileSize) / Math.log(1024)),
                    l = 1 * (o.maximumImageFileSize / Math.pow(1024, a)).toFixed(2) + " " + " KMGTP"[a] + "B";
                i = "<small>" + r.image.maximumFileSize + " : " + l + "</small>"
            }
            var h = '<div class="form-group note-group-select-from-files"><label>' + r.image.selectFromFiles + '</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />' + i + '</div><div class="form-group" style="overflow:auto;"><label>' + r.image.url + '</label><input class="note-image-url form-control col-md-12" type="text" /></div>',
                u = '<button href="#" class="btn btn-primary note-image-btn disabled" disabled>' + r.image.insert + "</button>";
            this.$dialog = n.dialog({
                title: r.image.insert,
                fade: o.dialogsFade,
                body: h,
                footer: u
            }).render().appendTo(e)
        }, this.destroy = function () {
            n.hideDialog(this.$dialog), this.$dialog.remove()
        }, this.bindEnterKey = function (t, e) {
            t.on("keypress", function (t) {
                t.keyCode === A.code.ENTER && e.trigger("click")
            })
        }, this.show = function () {
            e.invoke("editor.saveRange"), this.showImageDialog().then(function (t) {
                n.hideDialog(i.$dialog), e.invoke("editor.restoreRange"), "string" == typeof t ? e.invoke("editor.insertImage", t) : e.invoke("editor.insertImagesOrCallback", t)
            }).fail(function () {
                e.invoke("editor.restoreRange")
            })
        }, this.showImageDialog = function () {
            return t.Deferred(function (t) {
                var s = i.$dialog.find(".note-image-input"), o = i.$dialog.find(".note-image-url"),
                    r = i.$dialog.find(".note-image-btn");
                n.onDialogShown(i.$dialog, function () {
                    e.triggerEvent("dialog.shown"), s.replaceWith(s.clone().on("change", function () {
                        t.resolve(this.files || this.value)
                    }).val("")), r.click(function (e) {
                        e.preventDefault(), t.resolve(o.val())
                    }), o.on("keyup paste", function () {
                        var t = o.val();
                        n.toggleBtn(r, t)
                    }).val("").trigger("focus"), i.bindEnterKey(o, r)
                }), n.onDialogHidden(i.$dialog, function () {
                    s.off("change"), o.off("keyup paste keypress"), r.off("click"), "pending" === t.state() && t.reject()
                }), n.showDialog(i.$dialog)
            })
        }
    }, ot = function (e) {
        var i = t.summernote.ui, s = e.options;
        this.shouldInitialize = function () {
            return !n.isEmpty(s.popover.image)
        }, this.initialize = function () {
            this.$popover = i.popover({className: "note-image-popover"}).render().appendTo("body");
            var t = this.$popover.find(".popover-content");
            e.invoke("buttons.build", t, s.popover.image)
        }, this.destroy = function () {
            this.$popover.remove()
        }, this.update = function (t) {
            if (d.isImg(t)) {
                var e = d.posFromPlaceholder(t);
                this.$popover.css({display: "block", left: e.left, top: e.top})
            } else this.hide()
        }, this.hide = function () {
            this.$popover.hide()
        }
    }, rt = function (e) {
        var i = this, n = t.summernote.ui, s = e.layoutInfo.editor, o = e.options, r = o.langInfo;
        this.initialize = function () {
            var e = o.dialogsInBody ? t(document.body) : s,
                i = '<div class="form-group row-fluid"><label>' + r.video.url + ' <small class="text-muted">' + r.video.providers + '</small></label><input class="note-video-url form-control span12" type="text" /></div>',
                a = '<button href="#" class="btn btn-primary note-video-btn disabled" disabled>' + r.video.insert + "</button>";
            this.$dialog = n.dialog({
                title: r.video.insert,
                fade: o.dialogsFade,
                body: i,
                footer: a
            }).render().appendTo(e)
        }, this.destroy = function () {
            n.hideDialog(this.$dialog), this.$dialog.remove()
        }, this.bindEnterKey = function (t, e) {
            t.on("keypress", function (t) {
                t.keyCode === A.code.ENTER && e.trigger("click")
            })
        }, this.createVideoNode = function (e) {
            var i,
                n = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,
                s = e.match(n), o = /\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/, r = e.match(o),
                a = /\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/, l = e.match(a),
                h = /\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/, u = e.match(h),
                c = /.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/, d = e.match(c),
                f = /\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/, p = e.match(f), g = /^.+.(mp4|m4v)$/, m = e.match(g),
                v = /^.+.(ogg|ogv)$/, y = e.match(v), b = /^.+.(webm)$/, w = e.match(b);
            if (s && 11 === s[1].length) {
                var _ = s[1];
                i = t("<iframe>").attr("frameborder", 0).attr("src", "//www.youtube.com/embed/" + _).attr("width", "640").attr("height", "360")
            } else if (r && r[0].length) i = t("<iframe>").attr("frameborder", 0).attr("src", r[0] + "/embed/").attr("width", "612").attr("height", "710").attr("scrolling", "no").attr("allowtransparency", "true"); else if (l && l[0].length) i = t("<iframe>").attr("frameborder", 0).attr("src", l[0] + "/embed/simple").attr("width", "600").attr("height", "600").attr("class", "vine-embed"); else if (u && u[3].length) i = t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("src", "//player.vimeo.com/video/" + u[3]).attr("width", "640").attr("height", "360"); else if (d && d[2].length) i = t("<iframe>").attr("frameborder", 0).attr("src", "//www.dailymotion.com/embed/video/" + d[2]).attr("width", "640").attr("height", "360"); else if (p && p[1].length) i = t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("height", "498").attr("width", "510").attr("src", "//player.youku.com/embed/" + p[1]); else {
                if (!(m || y || w)) return !1;
                i = t("<video controls>").attr("src", e).attr("width", "640").attr("height", "360")
            }
            return i.addClass("note-video-clip"), i[0]
        }, this.show = function () {
            var t = e.invoke("editor.getSelectedText");
            e.invoke("editor.saveRange"), this.showVideoDialog(t).then(function (t) {
                n.hideDialog(i.$dialog), e.invoke("editor.restoreRange");
                var s = i.createVideoNode(t);
                s && e.invoke("editor.insertNode", s)
            }).fail(function () {
                e.invoke("editor.restoreRange")
            })
        }, this.showVideoDialog = function (s) {
            return t.Deferred(function (t) {
                var o = i.$dialog.find(".note-video-url"), r = i.$dialog.find(".note-video-btn");
                n.onDialogShown(i.$dialog, function () {
                    e.triggerEvent("dialog.shown"), o.val(s).on("input", function () {
                        n.toggleBtn(r, o.val())
                    }).trigger("focus"), r.click(function (e) {
                        e.preventDefault(), t.resolve(o.val())
                    }), i.bindEnterKey(o, r)
                }), n.onDialogHidden(i.$dialog, function () {
                    o.off("input"), r.off("click"), "pending" === t.state() && t.reject()
                }), n.showDialog(i.$dialog)
            })
        }
    }, at = function (e) {
        var i = this, n = t.summernote.ui, s = e.layoutInfo.editor, o = e.options, r = o.langInfo;
        this.createShortCutList = function () {
            var i = o.keyMap[h.isMac ? "mac" : "pc"];
            return Object.keys(i).map(function (n) {
                var s = i[n], o = t('<div><div class="help-list-item"/></div>');
                return o.append(t("<label><kbd>" + n + "</kdb></label>").css({
                    width: 180,
                    "margin-right": 10
                })).append(t("<span/>").html(e.memo("help." + s) || s)), o.html()
            }).join("")
        }, this.initialize = function () {
            var e = o.dialogsInBody ? t(document.body) : s,
                i = ['<p class="text-center">', '<a href="//summernote.org/" target="_blank">Summernote 0.7.3</a>  ', '<a href="//github.com/summernote/summernote" target="_blank">Project</a>  ', '<a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a>', "</p>"].join("");
            this.$dialog = n.dialog({
                title: r.options.help,
                fade: o.dialogsFade,
                body: this.createShortCutList(),
                footer: i,
                callback: function (t) {
                    t.find(".modal-body").css({"max-height": 300, overflow: "scroll"})
                }
            }).render().appendTo(e)
        }, this.destroy = function () {
            n.hideDialog(this.$dialog), this.$dialog.remove()
        }, this.showHelpDialog = function () {
            return t.Deferred(function (t) {
                n.onDialogShown(i.$dialog, function () {
                    e.triggerEvent("dialog.shown"), t.resolve()
                }), n.showDialog(i.$dialog)
            }).promise()
        }, this.show = function () {
            e.invoke("editor.saveRange"), this.showHelpDialog().then(function () {
                e.invoke("editor.restoreRange")
            })
        }
    }, lt = function (e) {
        var s = this, o = t.summernote.ui, r = e.options, a = 20;
        this.events = {
            "summernote.keyup summernote.mouseup summernote.scroll": function () {
                s.update()
            }, "summernote.change summernote.dialog.shown": function () {
                s.hide()
            }, "summernote.focusout": function (t, e) {
                h.isFF || e.relatedTarget && d.ancestor(e.relatedTarget, i.eq(s.$popover[0])) || s.hide()
            }
        }, this.shouldInitialize = function () {
            return r.airMode && !n.isEmpty(r.popover.air)
        }, this.initialize = function () {
            this.$popover = o.popover({className: "note-air-popover"}).render().appendTo("body");
            var t = this.$popover.find(".popover-content");
            e.invoke("buttons.build", t, r.popover.air)
        }, this.destroy = function () {
            this.$popover.remove()
        }, this.update = function () {
            var t = e.invoke("editor.currentStyle");
            if (t.range && !t.range.isCollapsed()) {
                var s = n.last(t.range.getClientRects());
                if (s) {
                    var o = i.rect2bnd(s);
                    this.$popover.css({
                        display: "block",
                        left: Math.max(o.left + o.width / 2, 0) - a,
                        top: o.top + o.height
                    })
                }
            } else this.hide()
        }, this.hide = function () {
            this.$popover.hide()
        }
    }, ht = function (e) {
        var s = this, o = t.summernote.ui, r = 5, a = e.options.hint || [], l = e.options.hintDirection || "bottom",
            h = t.isArray(a) ? a : [a];
        this.events = {
            "summernote.keyup": function (t, e) {
                e.isDefaultPrevented() || s.handleKeyup(e)
            }, "summernote.keydown": function (t, e) {
                s.handleKeydown(e)
            }, "summernote.dialog.shown": function () {
                s.hide()
            }
        }, this.shouldInitialize = function () {
            return h.length > 0
        }, this.initialize = function () {
            this.lastWordRange = null, this.$popover = o.popover({
                className: "note-hint-popover",
                hideArrow: !0,
                direction: ""
            }).render().appendTo("body"), this.$popover.hide(), this.$content = this.$popover.find(".popover-content"), this.$content.on("click", ".note-hint-item", function () {
                s.$content.find(".active").removeClass("active"), t(this).addClass("active"), s.replace()
            })
        }, this.destroy = function () {
            this.$popover.remove()
        }, this.selectItem = function (t) {
            this.$content.find(".active").removeClass("active"), t.addClass("active"), this.$content[0].scrollTop = t[0].offsetTop - this.$content.innerHeight() / 2
        }, this.moveDown = function () {
            var t = this.$content.find(".note-hint-item.active"), e = t.next();
            if (e.length) this.selectItem(e); else {
                var i = t.parent().next();
                i.length || (i = this.$content.find(".note-hint-group").first()), this.selectItem(i.find(".note-hint-item").first())
            }
        }, this.moveUp = function () {
            var t = this.$content.find(".note-hint-item.active"), e = t.prev();
            if (e.length) this.selectItem(e); else {
                var i = t.parent().prev();
                i.length || (i = this.$content.find(".note-hint-group").last()), this.selectItem(i.find(".note-hint-item").last())
            }
        }, this.replace = function () {
            var t = this.$content.find(".note-hint-item.active");
            if (t.length) {
                var i = this.nodeFromItem(t);
                this.lastWordRange.insertNode(i), F.createFromNode(i).collapse().select(), this.lastWordRange = null, this.hide(), e.invoke("editor.focus")
            }
        }, this.nodeFromItem = function (t) {
            var e = h[t.data("index")], i = t.data("item"), n = e.content ? e.content(i) : i;
            return "string" == typeof n && (n = d.createText(n)), n
        }, this.createItemTemplates = function (e, i) {
            var n = h[e];
            return i.map(function (i, s) {
                var o = t('<div class="note-hint-item"/>');
                return o.append(n.template ? n.template(i) : i + ""), o.data({
                    index: e,
                    item: i
                }), 0 === e && 0 === s && o.addClass("active"), o
            })
        }, this.handleKeydown = function (t) {
            this.$popover.is(":visible") && (t.keyCode === A.code.ENTER ? (t.preventDefault(), this.replace()) : t.keyCode === A.code.UP ? (t.preventDefault(), this.moveUp()) : t.keyCode === A.code.DOWN && (t.preventDefault(), this.moveDown()))
        }, this.searchKeyword = function (t, e, i) {
            var n = h[t];
            if (n && n.match.test(e) && n.search) {
                var s = n.match.exec(e);
                n.search(s[1], i)
            } else i()
        }, this.createGroup = function (e, i) {
            var n = t('<div class="note-hint-group note-hint-group-' + e + '"/>');
            return this.searchKeyword(e, i, function (t) {
                t = t || [], t.length && (n.html(s.createItemTemplates(e, t)), s.show())
            }), n
        }, this.handleKeyup = function (t) {
            if (n.contains([A.code.ENTER, A.code.UP, A.code.DOWN], t.keyCode)) {
                if (t.keyCode === A.code.ENTER && this.$popover.is(":visible")) return
            } else {
                var o = e.invoke("editor.createRange").getWordRange(), a = o.toString();
                if (h.length && a) {
                    this.$content.empty();
                    var u = i.rect2bnd(n.last(o.getClientRects()));
                    u && (this.$popover.hide(), this.lastWordRange = o, h.forEach(function (t, e) {
                        t.match.test(a) && s.createGroup(e, a).appendTo(s.$content)
                    }), "top" === l ? this.$popover.css({
                        left: u.left,
                        top: u.top - this.$popover.outerHeight() - r
                    }) : this.$popover.css({left: u.left, top: u.top + u.height + r}))
                } else this.hide()
            }
        }, this.show = function () {
            this.$popover.show()
        }, this.hide = function () {
            this.$popover.hide()
        }
    };
    t.summernote = t.extend(t.summernote, {
        version: "0.7.3",
        ui: H,
        plugins: {},
        options: {
            modules: {
                editor: U,
                clipboard: j,
                dropzone: V,
                codeview: $,
                statusbar: q,
                fullscreen: K,
                handle: X,
                hintPopover: ht,
                autoLink: Z,
                autoSync: Q,
                placeholder: J,
                buttons: tt,
                toolbar: et,
                linkDialog: it,
                linkPopover: nt,
                imageDialog: st,
                imagePopover: ot,
                videoDialog: rt,
                helpDialog: at,
                airPopover: lt
            },
            buttons: {},
            lang: "en-US",
            toolbar: [["style", ["style"]], ["font", ["bold", "underline", "clear"]], ["fontname", ["fontname"]], ["color", ["color"]], ["para", ["ul", "ol", "paragraph"]], ["table", ["table"]], ["insert", ["link", "picture", "video"]], ["view", ["fullscreen", "codeview", "help"]]],
            popover: {
                image: [["imagesize", ["imageSize100", "imageSize50", "imageSize25"]], ["float", ["floatLeft", "floatRight", "floatNone"]], ["remove", ["removeMedia"]]],
                link: [["link", ["linkDialogShow", "unlink"]]],
                air: [["color", ["color"]], ["font", ["bold", "underline", "clear"]], ["para", ["ul", "paragraph"]], ["table", ["table"]], ["insert", ["link", "picture"]]]
            },
            airMode: !1,
            width: null,
            height: null,
            focus: !1,
            tabSize: 4,
            styleWithSpan: !0,
            shortcuts: !0,
            textareaAutoSync: !0,
            direction: null,
            styleTags: ["p", "blockquote", "pre", "h1", "h2", "h3", "h4", "h5", "h6"],
            fontNames: ["Arial", "Arial Black", "Comic Sans MS", "Courier New", "Helvetica Neue", "Helvetica", "Impact", "Lucida Grande", "Tahoma", "Times New Roman", "Verdana"],
            fontSizes: ["8", "9", "10", "11", "12", "14", "18", "24", "36"],
            colors: [["#000000", "#424242", "#636363", "#9C9C94", "#CEC6CE", "#EFEFEF", "#F7F7F7", "#FFFFFF"], ["#FF0000", "#FF9C00", "#FFFF00", "#00FF00", "#00FFFF", "#0000FF", "#9C00FF", "#FF00FF"], ["#F7C6CE", "#FFE7CE", "#FFEFC6", "#D6EFD6", "#CEDEE7", "#CEE7F7", "#D6D6E7", "#E7D6DE"], ["#E79C9C", "#FFC69C", "#FFE79C", "#B5D6A5", "#A5C6CE", "#9CC6EF", "#B5A5D6", "#D6A5BD"], ["#E76363", "#F7AD6B", "#FFD663", "#94BD7B", "#73A5AD", "#6BADDE", "#8C7BC6", "#C67BA5"], ["#CE0000", "#E79439", "#EFC631", "#6BA54A", "#4A7B8C", "#3984C6", "#634AA5", "#A54A7B"], ["#9C0000", "#B56308", "#BD9400", "#397B21", "#104A5A", "#085294", "#311873", "#731842"], ["#630000", "#7B3900", "#846300", "#295218", "#083139", "#003163", "#21104A", "#4A1031"]],
            lineHeights: ["1.0", "1.2", "1.4", "1.5", "1.6", "1.8", "2.0", "3.0"],
            tableClassName: "table table-bordered",
            insertTableMaxSize: {col: 10, row: 10},
            dialogsInBody: !1,
            dialogsFade: !1,
            maximumImageFileSize: null,
            callbacks: {
                onInit: null,
                onFocus: null,
                onBlur: null,
                onEnter: null,
                onKeyup: null,
                onKeydown: null,
                onSubmit: null,
                onImageUpload: null,
                onImageUploadError: null
            },
            codemirror: {mode: "text/html", htmlMode: !0, lineNumbers: !0},
            keyMap: {
                pc: {
                    ENTER: "insertParagraph",
                    "CTRL+Z": "undo",
                    "CTRL+Y": "redo",
                    TAB: "tab",
                    "SHIFT+TAB": "untab",
                    "CTRL+B": "bold",
                    "CTRL+I": "italic",
                    "CTRL+U": "underline",
                    "CTRL+SHIFT+S": "strikethrough",
                    "CTRL+BACKSLASH": "removeFormat",
                    "CTRL+SHIFT+L": "justifyLeft",
                    "CTRL+SHIFT+E": "justifyCenter",
                    "CTRL+SHIFT+R": "justifyRight",
                    "CTRL+SHIFT+J": "justifyFull",
                    "CTRL+SHIFT+NUM7": "insertUnorderedList",
                    "CTRL+SHIFT+NUM8": "insertOrderedList",
                    "CTRL+LEFTBRACKET": "outdent",
                    "CTRL+RIGHTBRACKET": "indent",
                    "CTRL+NUM0": "formatPara",
                    "CTRL+NUM1": "formatH1",
                    "CTRL+NUM2": "formatH2",
                    "CTRL+NUM3": "formatH3",
                    "CTRL+NUM4": "formatH4",
                    "CTRL+NUM5": "formatH5",
                    "CTRL+NUM6": "formatH6",
                    "CTRL+ENTER": "insertHorizontalRule",
                    "CTRL+K": "linkDialog.show"
                },
                mac: {
                    ENTER: "insertParagraph",
                    "CMD+Z": "undo",
                    "CMD+SHIFT+Z": "redo",
                    TAB: "tab",
                    "SHIFT+TAB": "untab",
                    "CMD+B": "bold",
                    "CMD+I": "italic",
                    "CMD+U": "underline",
                    "CMD+SHIFT+S": "strikethrough",
                    "CMD+BACKSLASH": "removeFormat",
                    "CMD+SHIFT+L": "justifyLeft",
                    "CMD+SHIFT+E": "justifyCenter",
                    "CMD+SHIFT+R": "justifyRight",
                    "CMD+SHIFT+J": "justifyFull",
                    "CMD+SHIFT+NUM7": "insertUnorderedList",
                    "CMD+SHIFT+NUM8": "insertOrderedList",
                    "CMD+LEFTBRACKET": "outdent",
                    "CMD+RIGHTBRACKET": "indent",
                    "CMD+NUM0": "formatPara",
                    "CMD+NUM1": "formatH1",
                    "CMD+NUM2": "formatH2",
                    "CMD+NUM3": "formatH3",
                    "CMD+NUM4": "formatH4",
                    "CMD+NUM5": "formatH5",
                    "CMD+NUM6": "formatH6",
                    "CMD+ENTER": "insertHorizontalRule",
                    "CMD+K": "linkDialog.show"
                }
            },
            icons: {
                align: "fa fa-align-left",
                alignCenter: "fa fa-align-center",
                alignJustify: "fa fa-align-justify",
                alignLeft: "fa fa-align-left",
                alignRight: "fa fa-align-right",
                indent: "fa fa-indent",
                outdent: "fa fa-outdent",
                arrowsAlt: "fa fa-arrows-alt",
                bold: "fa fa-bold",
                caret: "caret",
                circle: "fa fa-circle",
                close: "fa fa-close",
                code: "fa fa-code",
                eraser: "fa fa-eraser",
                font: "fa fa-font",
                frame: "fa fa-frame",
                italic: "fa fa-italic",
                link: "fa fa-link",
                unlink: "fa fa-chain-broken",
                magic: "fa fa-magic",
                menuCheck: "fa fa-check",
                minus: "fa fa-minus",
                orderedlist: "fa fa-list-ol",
                pencil: "fa fa-pencil",
                picture: "fa fa-picture-o",
                question: "fa fa-question",
                redo: "fa fa-repeat",
                square: "fa fa-square",
                strikethrough: "fa fa-strikethrough",
                subscript: "fa fa-subscript",
                superscript: "fa fa-superscript",
                table: "fa fa-table",
                textHeight: "fa fa-text-height",
                trash: "fa fa-trash",
                underline: "fa fa-underline",
                undo: "fa fa-undo",
                unorderedlist: "fa fa-list-ul",
                video: "fa fa-youtube-play"
            }
        }
    })
}), function (t) {
    var e, i, n = "0.4.2", s = "hasOwnProperty", o = /[\.\/]/, r = "*", a = function () {
    }, l = function (t, e) {
        return t - e
    }, h = {n: {}}, u = function (t, n) {
        t = String(t);
        var s, o = i, r = Array.prototype.slice.call(arguments, 2), a = u.listeners(t), h = 0, c = [], d = {}, f = [],
            p = e;
        e = t, i = 0;
        for (var g = 0, m = a.length; m > g; g++) "zIndex" in a[g] && (c.push(a[g].zIndex), a[g].zIndex < 0 && (d[a[g].zIndex] = a[g]));
        for (c.sort(l); c[h] < 0;) if (s = d[c[h++]], f.push(s.apply(n, r)), i) return i = o, f;
        for (g = 0; m > g; g++) if (s = a[g], "zIndex" in s) if (s.zIndex == c[h]) {
            if (f.push(s.apply(n, r)), i) break;
            do if (h++, s = d[c[h]], s && f.push(s.apply(n, r)), i) break; while (s)
        } else d[s.zIndex] = s; else if (f.push(s.apply(n, r)), i) break;
        return i = o, e = p, f.length ? f : null
    };
    u._events = h, u.listeners = function (t) {
        var e, i, n, s, a, l, u, c, d = t.split(o), f = h, p = [f], g = [];
        for (s = 0, a = d.length; a > s; s++) {
            for (c = [], l = 0, u = p.length; u > l; l++) for (f = p[l].n, i = [f[d[s]], f[r]], n = 2; n--;) e = i[n], e && (c.push(e), g = g.concat(e.f || []));
            p = c
        }
        return g
    }, u.on = function (t, e) {
        if (t = String(t), "function" != typeof e) return function () {
        };
        for (var i = t.split(o), n = h, s = 0, r = i.length; r > s; s++) n = n.n, n = n.hasOwnProperty(i[s]) && n[i[s]] || (n[i[s]] = {n: {}});
        for (n.f = n.f || [], s = 0, r = n.f.length; r > s; s++) if (n.f[s] == e) return a;
        return n.f.push(e), function (t) {
            +t == +t && (e.zIndex = +t)
        }
    }, u.f = function (t) {
        var e = [].slice.call(arguments, 1);
        return function () {
            u.apply(null, [t, null].concat(e).concat([].slice.call(arguments, 0)))
        }
    }, u.stop = function () {
        i = 1
    }, u.nt = function (t) {
        return t ? new RegExp("(?:\\.|\\/|^)" + t + "(?:\\.|\\/|$)").test(e) : e
    }, u.nts = function () {
        return e.split(o)
    }, u.off = u.unbind = function (t, e) {
        if (!t) return void(u._events = h = {n: {}});
        var i, n, a, l, c, d, f, p = t.split(o), g = [h];
        for (l = 0, c = p.length; c > l; l++) for (d = 0; d < g.length; d += a.length - 2) {
            if (a = [d, 1], i = g[d].n, p[l] != r) i[p[l]] && a.push(i[p[l]]); else for (n in i) i[s](n) && a.push(i[n]);
            g.splice.apply(g, a)
        }
        for (l = 0, c = g.length; c > l; l++) for (i = g[l]; i.n;) {
            if (e) {
                if (i.f) {
                    for (d = 0, f = i.f.length; f > d; d++) if (i.f[d] == e) {
                        i.f.splice(d, 1);
                        break
                    }
                    !i.f.length && delete i.f
                }
                for (n in i.n) if (i.n[s](n) && i.n[n].f) {
                    var m = i.n[n].f;
                    for (d = 0, f = m.length; f > d; d++) if (m[d] == e) {
                        m.splice(d, 1);
                        break
                    }
                    !m.length && delete i.n[n].f
                }
            } else {
                delete i.f;
                for (n in i.n) i.n[s](n) && i.n[n].f && delete i.n[n].f
            }
            i = i.n
        }
    }, u.once = function (t, e) {
        var i = function () {
            return u.unbind(t, i), e.apply(this, arguments)
        };
        return u.on(t, i)
    }, u.version = n, u.toString = function () {
        return "You are running Eve " + n
    }, "undefined" != typeof module && module.exports ? module.exports = u : "undefined" != typeof define ? define("eve", [], function () {
        return u
    }) : t.eve = u
}(window || this), function (t, e) {
    "function" == typeof define && define.amd ? define(["eve"], function (i) {
        return e(t, i)
    }) : e(t, t.eve || "function" == typeof require && require("eve"))
}(this, function (t, e) {
    function i(t) {
        if (i.is(t, "function")) return w ? t() : e.on("raphael.DOMload", t);
        if (i.is(t, G)) return i._engine.create[M](i, t.splice(0, 3 + i.is(t[0], V))).add(t);
        var n = Array.prototype.slice.call(arguments, 0);
        if (i.is(n[n.length - 1], "function")) {
            var s = n.pop();
            return w ? s.call(i._engine.create[M](i, n)) : e.on("raphael.DOMload", function () {
                s.call(i._engine.create[M](i, n))
            })
        }
        return i._engine.create[M](i, arguments)
    }

    function n(t) {
        if ("function" == typeof t || Object(t) !== t) return t;
        var e = new t.constructor;
        for (var i in t) t[D](i) && (e[i] = n(t[i]));
        return e
    }

    function s(t, e) {
        for (var i = 0, n = t.length; n > i; i++) if (t[i] === e) return t.push(t.splice(i, 1)[0])
    }

    function o(t, e, i) {
        function n() {
            var o = Array.prototype.slice.call(arguments, 0), r = o.join(""), a = n.cache = n.cache || {},
                l = n.count = n.count || [];
            return a[D](r) ? (s(l, r), i ? i(a[r]) : a[r]) : (l.length >= 1e3 && delete a[l.shift()], l.push(r), a[r] = t[M](e, o), i ? i(a[r]) : a[r])
        }

        return n
    }

    function r() {
        return this.hex
    }

    function a(t, e) {
        for (var i = [], n = 0, s = t.length; s - 2 * !e > n; n += 2) {
            var o = [{x: +t[n - 2], y: +t[n - 1]}, {x: +t[n], y: +t[n + 1]}, {
                x: +t[n + 2],
                y: +t[n + 3]
            }, {x: +t[n + 4], y: +t[n + 5]}];
            e ? n ? s - 4 == n ? o[3] = {x: +t[0], y: +t[1]} : s - 2 == n && (o[2] = {
                x: +t[0],
                y: +t[1]
            }, o[3] = {x: +t[2], y: +t[3]}) : o[0] = {
                x: +t[s - 2],
                y: +t[s - 1]
            } : s - 4 == n ? o[3] = o[2] : n || (o[0] = {
                x: +t[n],
                y: +t[n + 1]
            }), i.push(["C", (-o[0].x + 6 * o[1].x + o[2].x) / 6, (-o[0].y + 6 * o[1].y + o[2].y) / 6, (o[1].x + 6 * o[2].x - o[3].x) / 6, (o[1].y + 6 * o[2].y - o[3].y) / 6, o[2].x, o[2].y])
        }
        return i
    }

    function l(t, e, i, n, s) {
        var o = -3 * e + 9 * i - 9 * n + 3 * s, r = t * o + 6 * e - 12 * i + 6 * n;
        return t * r - 3 * e + 3 * i
    }

    function h(t, e, i, n, s, o, r, a, h) {
        null == h && (h = 1), h = h > 1 ? 1 : 0 > h ? 0 : h;
        for (var u = h / 2, c = 12, d = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], f = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], p = 0, g = 0; c > g; g++) {
            var m = u * d[g] + u, v = l(m, t, i, s, r), y = l(m, e, n, o, a), b = v * v + y * y;
            p += f[g] * L.sqrt(b)
        }
        return u * p
    }

    function u(t, e, i, n, s, o, r, a, l) {
        if (!(0 > l || h(t, e, i, n, s, o, r, a) < l)) {
            var u, c = 1, d = c / 2, f = c - d, p = .01;
            for (u = h(t, e, i, n, s, o, r, a, f); Y(u - l) > p;) d /= 2, f += (l > u ? 1 : -1) * d, u = h(t, e, i, n, s, o, r, a, f);
            return f
        }
    }

    function c(t, e, i, n, s, o, r, a) {
        if (!(B(t, i) < W(s, r) || W(t, i) > B(s, r) || B(e, n) < W(o, a) || W(e, n) > B(o, a))) {
            var l = (t * n - e * i) * (s - r) - (t - i) * (s * a - o * r),
                h = (t * n - e * i) * (o - a) - (e - n) * (s * a - o * r), u = (t - i) * (o - a) - (e - n) * (s - r);
            if (u) {
                var c = l / u, d = h / u, f = +c.toFixed(2), p = +d.toFixed(2);
                if (!(f < +W(t, i).toFixed(2) || f > +B(t, i).toFixed(2) || f < +W(s, r).toFixed(2) || f > +B(s, r).toFixed(2) || p < +W(e, n).toFixed(2) || p > +B(e, n).toFixed(2) || p < +W(o, a).toFixed(2) || p > +B(o, a).toFixed(2))) return {
                    x: c,
                    y: d
                }
            }
        }
    }

    function d(t, e, n) {
        var s = i.bezierBBox(t), o = i.bezierBBox(e);
        if (!i.isBBoxIntersect(s, o)) return n ? 0 : [];
        for (var r = h.apply(0, t), a = h.apply(0, e), l = B(~~(r / 5), 1), u = B(~~(a / 5), 1), d = [], f = [], p = {}, g = n ? 0 : [], m = 0; l + 1 > m; m++) {
            var v = i.findDotsAtSegment.apply(i, t.concat(m / l));
            d.push({x: v.x, y: v.y, t: m / l})
        }
        for (m = 0; u + 1 > m; m++) v = i.findDotsAtSegment.apply(i, e.concat(m / u)), f.push({
            x: v.x,
            y: v.y,
            t: m / u
        });
        for (m = 0; l > m; m++) for (var y = 0; u > y; y++) {
            var b = d[m], w = d[m + 1], _ = f[y], x = f[y + 1], k = Y(w.x - b.x) < .001 ? "y" : "x",
                C = Y(x.x - _.x) < .001 ? "y" : "x", D = c(b.x, b.y, w.x, w.y, _.x, _.y, x.x, x.y);
            if (D) {
                if (p[D.x.toFixed(4)] == D.y.toFixed(4)) continue;
                p[D.x.toFixed(4)] = D.y.toFixed(4);
                var S = b.t + Y((D[k] - b[k]) / (w[k] - b[k])) * (w.t - b.t),
                    T = _.t + Y((D[C] - _[C]) / (x[C] - _[C])) * (x.t - _.t);
                S >= 0 && 1.001 >= S && T >= 0 && 1.001 >= T && (n ? g++ : g.push({
                    x: D.x,
                    y: D.y,
                    t1: W(S, 1),
                    t2: W(T, 1)
                }))
            }
        }
        return g
    }

    function f(t, e, n) {
        t = i._path2curve(t), e = i._path2curve(e);
        for (var s, o, r, a, l, h, u, c, f, p, g = n ? 0 : [], m = 0, v = t.length; v > m; m++) {
            var y = t[m];
            if ("M" == y[0]) s = l = y[1], o = h = y[2]; else {
                "C" == y[0] ? (f = [s, o].concat(y.slice(1)), s = f[6], o = f[7]) : (f = [s, o, s, o, l, h, l, h], s = l, o = h);
                for (var b = 0, w = e.length; w > b; b++) {
                    var _ = e[b];
                    if ("M" == _[0]) r = u = _[1], a = c = _[2]; else {
                        "C" == _[0] ? (p = [r, a].concat(_.slice(1)), r = p[6], a = p[7]) : (p = [r, a, r, a, u, c, u, c], r = u, a = c);
                        var x = d(f, p, n);
                        if (n) g += x; else {
                            for (var k = 0, C = x.length; C > k; k++) x[k].segment1 = m, x[k].segment2 = b, x[k].bez1 = f, x[k].bez2 = p;
                            g = g.concat(x)
                        }
                    }
                }
            }
        }
        return g
    }

    function p(t, e, i, n, s, o) {
        null != t ? (this.a = +t, this.b = +e, this.c = +i, this.d = +n, this.e = +s, this.f = +o) : (this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.e = 0, this.f = 0)
    }

    function g() {
        return this.x + P + this.y + P + this.width + "  " + this.height
    }

    function m(t, e, i, n, s, o) {
        function r(t) {
            return ((c * t + u) * t + h) * t
        }

        function a(t, e) {
            var i = l(t, e);
            return ((p * i + f) * i + d) * i
        }

        function l(t, e) {
            var i, n, s, o, a, l;
            for (s = t, l = 0; 8 > l; l++) {
                if (o = r(s) - t, Y(o) < e) return s;
                if (a = (3 * c * s + 2 * u) * s + h, Y(a) < 1e-6) break;
                s -= o / a
            }
            if (i = 0, n = 1, s = t, i > s) return i;
            if (s > n) return n;
            for (; n > i;) {
                if (o = r(s), Y(o - t) < e) return s;
                t > o ? i = s : n = s, s = (n - i) / 2 + i
            }
            return s
        }

        var h = 3 * e, u = 3 * (n - e) - h, c = 1 - h - u, d = 3 * i, f = 3 * (s - i) - d, p = 1 - d - f;
        return a(t, 1 / (200 * o))
    }

    function v(t, e) {
        var i = [], n = {};
        if (this.ms = e, this.times = 1, t) {
            for (var s in t) t[D](s) && (n[J(s)] = t[s], i.push(J(s)));
            i.sort(ct)
        }
        this.anim = n, this.top = i[i.length - 1], this.percents = i
    }

    function y(t, n, s, o, r, a) {
        s = J(s);
        var l, h, u, c, d, f, g = t.ms, v = {}, y = {}, b = {};
        if (o) for (_ = 0, k = le.length; k > _; _++) {
            var w = le[_];
            if (w.el.id == n.id && w.anim == t) {
                w.percent != s ? (le.splice(_, 1), u = 1) : h = w, n.attr(w.totalOrigin);
                break
            }
        } else o = +y;
        for (var _ = 0, k = t.percents.length; k > _; _++) {
            if (t.percents[_] == s || t.percents[_] > o * t.top) {
                s = t.percents[_], d = t.percents[_ - 1] || 0, g = g / t.top * (s - d), c = t.percents[_ + 1], l = t.anim[s];
                break
            }
            o && n.attr(t.anim[t.percents[_]])
        }
        if (l) {
            if (h) h.initstatus = o, h.start = new Date - h.ms * o; else {
                for (var C in l) if (l[D](C) && (nt[D](C) || n.paper.customAttributes[D](C))) switch (v[C] = n.attr(C), null == v[C] && (v[C] = it[C]), y[C] = l[C], nt[C]) {
                    case V:
                        b[C] = (y[C] - v[C]) / g;
                        break;
                    case"colour":
                        v[C] = i.getRGB(v[C]);
                        var S = i.getRGB(y[C]);
                        b[C] = {r: (S.r - v[C].r) / g, g: (S.g - v[C].g) / g, b: (S.b - v[C].b) / g};
                        break;
                    case"path":
                        var T = Rt(v[C], y[C]), E = T[1];
                        for (v[C] = T[0], b[C] = [], _ = 0, k = v[C].length; k > _; _++) {
                            b[C][_] = [0];
                            for (var M = 1, I = v[C][_].length; I > M; M++) b[C][_][M] = (E[_][M] - v[C][_][M]) / g
                        }
                        break;
                    case"transform":
                        var H = n._, P = Wt(H[C], y[C]);
                        if (P) for (v[C] = P.from, y[C] = P.to, b[C] = [], b[C].real = !0, _ = 0, k = v[C].length; k > _; _++) for (b[C][_] = [v[C][_][0]], M = 1, I = v[C][_].length; I > M; M++) b[C][_][M] = (y[C][_][M] - v[C][_][M]) / g; else {
                            var R = n.matrix || new p, z = {
                                _: {transform: H.transform}, getBBox: function () {
                                    return n.getBBox(1)
                                }
                            };
                            v[C] = [R.a, R.b, R.c, R.d, R.e, R.f], Lt(z, y[C]), y[C] = z._.transform, b[C] = [(z.matrix.a - R.a) / g, (z.matrix.b - R.b) / g, (z.matrix.c - R.c) / g, (z.matrix.d - R.d) / g, (z.matrix.e - R.e) / g, (z.matrix.f - R.f) / g]
                        }
                        break;
                    case"csv":
                        var O = A(l[C])[F](x), L = A(v[C])[F](x);
                        if ("clip-rect" == C) for (v[C] = L, b[C] = [], _ = L.length; _--;) b[C][_] = (O[_] - v[C][_]) / g;
                        y[C] = O;
                        break;
                    default:
                        for (O = [][N](l[C]), L = [][N](v[C]), b[C] = [], _ = n.paper.customAttributes[C].length; _--;) b[C][_] = ((O[_] || 0) - (L[_] || 0)) / g
                }
                var B = l.easing, W = i.easing_formulas[B];
                if (!W) if (W = A(B).match(Z), W && 5 == W.length) {
                    var Y = W;
                    W = function (t) {
                        return m(t, +Y[1], +Y[2], +Y[3], +Y[4], g)
                    }
                } else W = ft;
                if (f = l.start || t.start || +new Date, w = {
                        anim: t,
                        percent: s,
                        timestamp: f,
                        start: f + (t.del || 0),
                        status: 0,
                        initstatus: o || 0,
                        stop: !1,
                        ms: g,
                        easing: W,
                        from: v,
                        diff: b,
                        to: y,
                        el: n,
                        callback: l.callback,
                        prev: d,
                        next: c,
                        repeat: a || t.times,
                        origin: n.attr(),
                        totalOrigin: r
                    }, le.push(w), o && !h && !u && (w.stop = !0, w.start = new Date - g * o, 1 == le.length)) return ue();
                u && (w.start = new Date - w.ms * o), 1 == le.length && he(ue)
            }
            e("raphael.anim.start." + n.id, n, t)
        }
    }

    function b(t) {
        for (var e = 0; e < le.length; e++) le[e].el.paper == t && le.splice(e--, 1)
    }

    i.version = "2.1.2", i.eve = e;
    var w, _, x = /[, ]+/, k = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1}, C = /\{(\d+)\}/g,
        D = "hasOwnProperty", S = {doc: document, win: t},
        T = {was: Object.prototype[D].call(S.win, "Raphael"), is: S.win.Raphael}, E = function () {
            this.ca = this.customAttributes = {}
        }, M = "apply", N = "concat", I = "ontouchstart" in S.win || S.win.DocumentTouch && S.doc instanceof DocumentTouch,
        H = "", P = " ", A = String, F = "split",
        R = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[F](P),
        z = {mousedown: "touchstart", mousemove: "touchmove", mouseup: "touchend"}, O = A.prototype.toLowerCase,
        L = Math, B = L.max, W = L.min, Y = L.abs, U = L.pow, j = L.PI, V = "number", $ = "string", G = "array",
        q = Object.prototype.toString,
        K = (i._ISURL = /^url\(['"]?(.+?)['"]?\)$/i, /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),
        X = {NaN: 1, Infinity: 1, "-Infinity": 1}, Z = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,
        Q = L.round, J = parseFloat, tt = parseInt, et = A.prototype.toUpperCase, it = i._availableAttrs = {
            "arrow-end": "none",
            "arrow-start": "none",
            blur: 0,
            "clip-rect": "0 0 1e9 1e9",
            cursor: "default",
            cx: 0,
            cy: 0,
            fill: "#fff",
            "fill-opacity": 1,
            font: '10px "Arial"',
            "font-family": '"Arial"',
            "font-size": "10",
            "font-style": "normal",
            "font-weight": 400,
            gradient: 0,
            height: 0,
            href: "http://raphaeljs.com/",
            "letter-spacing": 0,
            opacity: 1,
            path: "M0,0",
            r: 0,
            rx: 0,
            ry: 0,
            src: "",
            stroke: "#000",
            "stroke-dasharray": "",
            "stroke-linecap": "butt",
            "stroke-linejoin": "butt",
            "stroke-miterlimit": 0,
            "stroke-opacity": 1,
            "stroke-width": 1,
            target: "_blank",
            "text-anchor": "middle",
            title: "Raphael",
            transform: "",
            width: 0,
            x: 0,
            y: 0
        }, nt = i._availableAnimAttrs = {
            blur: V,
            "clip-rect": "csv",
            cx: V,
            cy: V,
            fill: "colour",
            "fill-opacity": V,
            "font-size": V,
            height: V,
            opacity: V,
            path: "path",
            r: V,
            rx: V,
            ry: V,
            stroke: "colour",
            "stroke-opacity": V,
            "stroke-width": V,
            transform: "transform",
            width: V,
            x: V,
            y: V
        },
        st = /[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
        ot = {hs: 1, rg: 1}, rt = /,?([achlmqrstvxz]),?/gi,
        at = /([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,
        lt = /([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,
        ht = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,
        ut = (i._radial_gradient = /^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/, {}),
        ct = function (t, e) {
            return J(t) - J(e)
        }, dt = function () {
        }, ft = function (t) {
            return t
        }, pt = i._rectPath = function (t, e, i, n, s) {
            return s ? [["M", t + s, e], ["l", i - 2 * s, 0], ["a", s, s, 0, 0, 1, s, s], ["l", 0, n - 2 * s], ["a", s, s, 0, 0, 1, -s, s], ["l", 2 * s - i, 0], ["a", s, s, 0, 0, 1, -s, -s], ["l", 0, 2 * s - n], ["a", s, s, 0, 0, 1, s, -s], ["z"]] : [["M", t, e], ["l", i, 0], ["l", 0, n], ["l", -i, 0], ["z"]]
        }, gt = function (t, e, i, n) {
            return null == n && (n = i), [["M", t, e], ["m", 0, -n], ["a", i, n, 0, 1, 1, 0, 2 * n], ["a", i, n, 0, 1, 1, 0, -2 * n], ["z"]]
        }, mt = i._getPath = {
            path: function (t) {
                return t.attr("path")
            }, circle: function (t) {
                var e = t.attrs;
                return gt(e.cx, e.cy, e.r)
            }, ellipse: function (t) {
                var e = t.attrs;
                return gt(e.cx, e.cy, e.rx, e.ry)
            }, rect: function (t) {
                var e = t.attrs;
                return pt(e.x, e.y, e.width, e.height, e.r)
            }, image: function (t) {
                var e = t.attrs;
                return pt(e.x, e.y, e.width, e.height)
            }, text: function (t) {
                var e = t._getBBox();
                return pt(e.x, e.y, e.width, e.height)
            }, set: function (t) {
                var e = t._getBBox();
                return pt(e.x, e.y, e.width, e.height)
            }
        }, vt = i.mapPath = function (t, e) {
            if (!e) return t;
            var i, n, s, o, r, a, l;
            for (t = Rt(t), s = 0, r = t.length; r > s; s++) for (l = t[s], o = 1, a = l.length; a > o; o += 2) i = e.x(l[o], l[o + 1]), n = e.y(l[o], l[o + 1]), l[o] = i, l[o + 1] = n;
            return t
        };
    if (i._g = S, i.type = S.win.SVGAngle || S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML", "VML" == i.type) {
        var yt, bt = S.doc.createElement("div");
        if (bt.innerHTML = '<v:shape adj="1"/>', yt = bt.firstChild, yt.style.behavior = "url(#default#VML)", !yt || "object" != typeof yt.adj) return i.type = H;
        bt = null
    }
    i.svg = !(i.vml = "VML" == i.type), i._Paper = E, i.fn = _ = E.prototype = i.prototype, i._id = 0, i._oid = 0, i.is = function (t, e) {
        return e = O.call(e), "finite" == e ? !X[D](+t) : "array" == e ? t instanceof Array : "null" == e && null === t || e == typeof t && null !== t || "object" == e && t === Object(t) || "array" == e && Array.isArray && Array.isArray(t) || q.call(t).slice(8, -1).toLowerCase() == e
    }, i.angle = function (t, e, n, s, o, r) {
        if (null == o) {
            var a = t - n, l = e - s;
            return a || l ? (180 + 180 * L.atan2(-l, -a) / j + 360) % 360 : 0
        }
        return i.angle(t, e, o, r) - i.angle(n, s, o, r)
    }, i.rad = function (t) {
        return t % 360 * j / 180
    }, i.deg = function (t) {
        return Math.round(180 * t / j % 360 * 1e3) / 1e3
    }, i.snapTo = function (t, e, n) {
        if (n = i.is(n, "finite") ? n : 10, i.is(t, G)) {
            for (var s = t.length; s--;) if (Y(t[s] - e) <= n) return t[s]
        } else {
            t = +t;
            var o = e % t;
            if (n > o) return e - o;
            if (o > t - n) return e - o + t
        }
        return e
    };
    i.createUUID = function (t, e) {
        return function () {
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t, e).toUpperCase()
        }
    }(/[xy]/g, function (t) {
        var e = 16 * L.random() | 0, i = "x" == t ? e : 3 & e | 8;
        return i.toString(16)
    });
    i.setWindow = function (t) {
        e("raphael.setWindow", i, S.win, t), S.win = t, S.doc = S.win.document, i._engine.initWin && i._engine.initWin(S.win)
    };
    var wt = function (t) {
        if (i.vml) {
            var e, n = /^\s+|\s+$/g;
            try {
                var s = new ActiveXObject("htmlfile");
                s.write("<body>"), s.close(), e = s.body
            } catch (r) {
                e = createPopup().document.body
            }
            var a = e.createTextRange();
            wt = o(function (t) {
                try {
                    e.style.color = A(t).replace(n, H);
                    var i = a.queryCommandValue("ForeColor");
                    return i = (255 & i) << 16 | 65280 & i | (16711680 & i) >>> 16, "#" + ("000000" + i.toString(16)).slice(-6)
                } catch (s) {
                    return "none"
                }
            })
        } else {
            var l = S.doc.createElement("i");
            l.title = "Raphal Colour Picker", l.style.display = "none", S.doc.body.appendChild(l), wt = o(function (t) {
                return l.style.color = t, S.doc.defaultView.getComputedStyle(l, H).getPropertyValue("color")
            })
        }
        return wt(t)
    }, _t = function () {
        return "hsb(" + [this.h, this.s, this.b] + ")"
    }, xt = function () {
        return "hsl(" + [this.h, this.s, this.l] + ")"
    }, kt = function () {
        return this.hex
    }, Ct = function (t, e, n) {
        if (null == e && i.is(t, "object") && "r" in t && "g" in t && "b" in t && (n = t.b, e = t.g, t = t.r), null == e && i.is(t, $)) {
            var s = i.getRGB(t);
            t = s.r, e = s.g, n = s.b
        }
        return (t > 1 || e > 1 || n > 1) && (t /= 255, e /= 255, n /= 255), [t, e, n]
    }, Dt = function (t, e, n, s) {
        t *= 255, e *= 255, n *= 255;
        var o = {r: t, g: e, b: n, hex: i.rgb(t, e, n), toString: kt};
        return i.is(s, "finite") && (o.opacity = s), o
    };
    i.color = function (t) {
        var e;
        return i.is(t, "object") && "h" in t && "s" in t && "b" in t ? (e = i.hsb2rgb(t), t.r = e.r, t.g = e.g, t.b = e.b, t.hex = e.hex) : i.is(t, "object") && "h" in t && "s" in t && "l" in t ? (e = i.hsl2rgb(t), t.r = e.r, t.g = e.g, t.b = e.b, t.hex = e.hex) : (i.is(t, "string") && (t = i.getRGB(t)), i.is(t, "object") && "r" in t && "g" in t && "b" in t ? (e = i.rgb2hsl(t), t.h = e.h, t.s = e.s, t.l = e.l, e = i.rgb2hsb(t), t.v = e.b) : (t = {hex: "none"}, t.r = t.g = t.b = t.h = t.s = t.v = t.l = -1)), t.toString = kt, t
    }, i.hsb2rgb = function (t, e, i, n) {
        this.is(t, "object") && "h" in t && "s" in t && "b" in t && (i = t.b, e = t.s, n = t.o, t = t.h), t *= 360;
        var s, o, r, a, l;
        return t = t % 360 / 60, l = i * e, a = l * (1 - Y(t % 2 - 1)), s = o = r = i - l, t = ~~t, s += [l, a, 0, 0, a, l][t], o += [a, l, l, a, 0, 0][t], r += [0, 0, a, l, l, a][t], Dt(s, o, r, n)
    }, i.hsl2rgb = function (t, e, i, n) {
        this.is(t, "object") && "h" in t && "s" in t && "l" in t && (i = t.l, e = t.s, t = t.h), (t > 1 || e > 1 || i > 1) && (t /= 360, e /= 100, i /= 100), t *= 360;
        var s, o, r, a, l;
        return t = t % 360 / 60, l = 2 * e * (.5 > i ? i : 1 - i), a = l * (1 - Y(t % 2 - 1)), s = o = r = i - l / 2, t = ~~t, s += [l, a, 0, 0, a, l][t], o += [a, l, l, a, 0, 0][t], r += [0, 0, a, l, l, a][t], Dt(s, o, r, n)
    }, i.rgb2hsb = function (t, e, i) {
        i = Ct(t, e, i), t = i[0], e = i[1], i = i[2];
        var n, s, o, r;
        return o = B(t, e, i), r = o - W(t, e, i), n = 0 == r ? null : o == t ? (e - i) / r : o == e ? (i - t) / r + 2 : (t - e) / r + 4, n = (n + 360) % 6 * 60 / 360, s = 0 == r ? 0 : r / o, {
            h: n,
            s: s,
            b: o,
            toString: _t
        }
    }, i.rgb2hsl = function (t, e, i) {
        i = Ct(t, e, i), t = i[0], e = i[1], i = i[2];
        var n, s, o, r, a, l;
        return r = B(t, e, i), a = W(t, e, i), l = r - a, n = 0 == l ? null : r == t ? (e - i) / l : r == e ? (i - t) / l + 2 : (t - e) / l + 4, n = (n + 360) % 6 * 60 / 360, o = (r + a) / 2, s = 0 == l ? 0 : .5 > o ? l / (2 * o) : l / (2 - 2 * o), {
            h: n,
            s: s,
            l: o,
            toString: xt
        }
    }, i._path2string = function () {
        return this.join(",").replace(rt, "$1")
    };
    i._preload = function (t, e) {
        var i = S.doc.createElement("img");
        i.style.cssText = "position:absolute;left:-9999em;top:-9999em", i.onload = function () {
            e.call(this), this.onload = null, S.doc.body.removeChild(this)
        }, i.onerror = function () {
            S.doc.body.removeChild(this)
        }, S.doc.body.appendChild(i), i.src = t
    };
    i.getRGB = o(function (t) {
        if (!t || (t = A(t)).indexOf("-") + 1) return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: r};
        if ("none" == t) return {r: -1, g: -1, b: -1, hex: "none", toString: r};
        !(ot[D](t.toLowerCase().substring(0, 2)) || "#" == t.charAt()) && (t = wt(t));
        var e, n, s, o, a, l, h = t.match(K);
        return h ? (h[2] && (s = tt(h[2].substring(5), 16), n = tt(h[2].substring(3, 5), 16), e = tt(h[2].substring(1, 3), 16)), h[3] && (s = tt((a = h[3].charAt(3)) + a, 16), n = tt((a = h[3].charAt(2)) + a, 16), e = tt((a = h[3].charAt(1)) + a, 16)), h[4] && (l = h[4][F](st), e = J(l[0]), "%" == l[0].slice(-1) && (e *= 2.55), n = J(l[1]), "%" == l[1].slice(-1) && (n *= 2.55), s = J(l[2]), "%" == l[2].slice(-1) && (s *= 2.55), "rgba" == h[1].toLowerCase().slice(0, 4) && (o = J(l[3])), l[3] && "%" == l[3].slice(-1) && (o /= 100)), h[5] ? (l = h[5][F](st), e = J(l[0]), "%" == l[0].slice(-1) && (e *= 2.55), n = J(l[1]), "%" == l[1].slice(-1) && (n *= 2.55), s = J(l[2]), "%" == l[2].slice(-1) && (s *= 2.55), ("deg" == l[0].slice(-3) || "" == l[0].slice(-1)) && (e /= 360), "hsba" == h[1].toLowerCase().slice(0, 4) && (o = J(l[3])), l[3] && "%" == l[3].slice(-1) && (o /= 100), i.hsb2rgb(e, n, s, o)) : h[6] ? (l = h[6][F](st), e = J(l[0]), "%" == l[0].slice(-1) && (e *= 2.55), n = J(l[1]), "%" == l[1].slice(-1) && (n *= 2.55), s = J(l[2]), "%" == l[2].slice(-1) && (s *= 2.55), ("deg" == l[0].slice(-3) || "" == l[0].slice(-1)) && (e /= 360), "hsla" == h[1].toLowerCase().slice(0, 4) && (o = J(l[3])), l[3] && "%" == l[3].slice(-1) && (o /= 100), i.hsl2rgb(e, n, s, o)) : (h = {
            r: e,
            g: n,
            b: s,
            toString: r
        }, h.hex = "#" + (16777216 | s | n << 8 | e << 16).toString(16).slice(1), i.is(o, "finite") && (h.opacity = o), h)) : {
            r: -1,
            g: -1,
            b: -1,
            hex: "none",
            error: 1,
            toString: r
        }
    }, i), i.hsb = o(function (t, e, n) {
        return i.hsb2rgb(t, e, n).hex
    }), i.hsl = o(function (t, e, n) {
        return i.hsl2rgb(t, e, n).hex
    }), i.rgb = o(function (t, e, i) {
        return "#" + (16777216 | i | e << 8 | t << 16).toString(16).slice(1)
    }), i.getColor = function (t) {
        var e = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: t || .75}, i = this.hsb2rgb(e.h, e.s, e.b);
        return e.h += .075, e.h > 1 && (e.h = 0, e.s -= .2, e.s <= 0 && (this.getColor.start = {
            h: 0,
            s: 1,
            b: e.b
        })), i.hex
    }, i.getColor.reset = function () {
        delete this.start
    }, i.parsePathString = function (t) {
        if (!t) return null;
        var e = St(t);
        if (e.arr) return Et(e.arr);
        var n = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0}, s = [];
        return i.is(t, G) && i.is(t[0], G) && (s = Et(t)), s.length || A(t).replace(at, function (t, e, i) {
            var o = [], r = e.toLowerCase();
            if (i.replace(ht, function (t, e) {
                    e && o.push(+e)
                }), "m" == r && o.length > 2 && (s.push([e][N](o.splice(0, 2))), r = "l", e = "m" == e ? "l" : "L"), "r" == r) s.push([e][N](o)); else for (; o.length >= n[r] && (s.push([e][N](o.splice(0, n[r]))), n[r]);) ;
        }), s.toString = i._path2string, e.arr = Et(s), s
    }, i.parseTransformString = o(function (t) {
        if (!t) return null;
        var e = [];
        return i.is(t, G) && i.is(t[0], G) && (e = Et(t)), e.length || A(t).replace(lt, function (t, i, n) {
            var s = [];
            O.call(i);
            n.replace(ht, function (t, e) {
                e && s.push(+e)
            }), e.push([i][N](s))
        }), e.toString = i._path2string, e
    });
    var St = function (t) {
        var e = St.ps = St.ps || {};
        return e[t] ? e[t].sleep = 100 : e[t] = {sleep: 100}, setTimeout(function () {
            for (var i in e) e[D](i) && i != t && (e[i].sleep--, !e[i].sleep && delete e[i])
        }), e[t]
    };
    i.findDotsAtSegment = function (t, e, i, n, s, o, r, a, l) {
        var h = 1 - l, u = U(h, 3), c = U(h, 2), d = l * l, f = d * l,
            p = u * t + 3 * c * l * i + 3 * h * l * l * s + f * r,
            g = u * e + 3 * c * l * n + 3 * h * l * l * o + f * a, m = t + 2 * l * (i - t) + d * (s - 2 * i + t),
            v = e + 2 * l * (n - e) + d * (o - 2 * n + e), y = i + 2 * l * (s - i) + d * (r - 2 * s + i),
            b = n + 2 * l * (o - n) + d * (a - 2 * o + n), w = h * t + l * i, _ = h * e + l * n, x = h * s + l * r,
            k = h * o + l * a, C = 90 - 180 * L.atan2(m - y, v - b) / j;
        return (m > y || b > v) && (C += 180), {
            x: p,
            y: g,
            m: {x: m, y: v},
            n: {x: y, y: b},
            start: {x: w, y: _},
            end: {x: x, y: k},
            alpha: C
        }
    }, i.bezierBBox = function (t, e, n, s, o, r, a, l) {
        i.is(t, "array") || (t = [t, e, n, s, o, r, a, l]);
        var h = Ft.apply(null, t);
        return {x: h.min.x, y: h.min.y, x2: h.max.x, y2: h.max.y, width: h.max.x - h.min.x, height: h.max.y - h.min.y}
    }, i.isPointInsideBBox = function (t, e, i) {
        return e >= t.x && e <= t.x2 && i >= t.y && i <= t.y2
    }, i.isBBoxIntersect = function (t, e) {
        var n = i.isPointInsideBBox;
        return n(e, t.x, t.y) || n(e, t.x2, t.y) || n(e, t.x, t.y2) || n(e, t.x2, t.y2) || n(t, e.x, e.y) || n(t, e.x2, e.y) || n(t, e.x, e.y2) || n(t, e.x2, e.y2) || (t.x < e.x2 && t.x > e.x || e.x < t.x2 && e.x > t.x) && (t.y < e.y2 && t.y > e.y || e.y < t.y2 && e.y > t.y)
    }, i.pathIntersection = function (t, e) {
        return f(t, e)
    }, i.pathIntersectionNumber = function (t, e) {
        return f(t, e, 1)
    }, i.isPointInsidePath = function (t, e, n) {
        var s = i.pathBBox(t);
        return i.isPointInsideBBox(s, e, n) && f(t, [["M", e, n], ["H", s.x2 + 10]], 1) % 2 == 1
    }, i._removedFactory = function (t) {
        return function () {
            e("raphael.log", null, "Raphal: you are calling to method " + t + " of removed object", t)
        }
    };
    var Tt = i.pathBBox = function (t) {
        var e = St(t);
        if (e.bbox) return n(e.bbox);
        if (!t) return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};
        t = Rt(t);
        for (var i, s = 0, o = 0, r = [], a = [], l = 0, h = t.length; h > l; l++) if (i = t[l], "M" == i[0]) s = i[1], o = i[2], r.push(s), a.push(o); else {
            var u = Ft(s, o, i[1], i[2], i[3], i[4], i[5], i[6]);
            r = r[N](u.min.x, u.max.x), a = a[N](u.min.y, u.max.y), s = i[5], o = i[6]
        }
        var c = W[M](0, r), d = W[M](0, a), f = B[M](0, r), p = B[M](0, a), g = f - c, m = p - d,
            v = {x: c, y: d, x2: f, y2: p, width: g, height: m, cx: c + g / 2, cy: d + m / 2};
        return e.bbox = n(v), v
    }, Et = function (t) {
        var e = n(t);
        return e.toString = i._path2string, e
    }, Mt = i._pathToRelative = function (t) {
        var e = St(t);
        if (e.rel) return Et(e.rel);
        i.is(t, G) && i.is(t && t[0], G) || (t = i.parsePathString(t));
        var n = [], s = 0, o = 0, r = 0, a = 0, l = 0;
        "M" == t[0][0] && (s = t[0][1], o = t[0][2], r = s, a = o, l++, n.push(["M", s, o]));
        for (var h = l, u = t.length; u > h; h++) {
            var c = n[h] = [], d = t[h];
            if (d[0] != O.call(d[0])) switch (c[0] = O.call(d[0]), c[0]) {
                case"a":
                    c[1] = d[1], c[2] = d[2], c[3] = d[3], c[4] = d[4], c[5] = d[5], c[6] = +(d[6] - s).toFixed(3), c[7] = +(d[7] - o).toFixed(3);
                    break;
                case"v":
                    c[1] = +(d[1] - o).toFixed(3);
                    break;
                case"m":
                    r = d[1], a = d[2];
                default:
                    for (var f = 1, p = d.length; p > f; f++) c[f] = +(d[f] - (f % 2 ? s : o)).toFixed(3)
            } else {
                c = n[h] = [], "m" == d[0] && (r = d[1] + s, a = d[2] + o);
                for (var g = 0, m = d.length; m > g; g++) n[h][g] = d[g]
            }
            var v = n[h].length;
            switch (n[h][0]) {
                case"z":
                    s = r, o = a;
                    break;
                case"h":
                    s += +n[h][v - 1];
                    break;
                case"v":
                    o += +n[h][v - 1];
                    break;
                default:
                    s += +n[h][v - 2], o += +n[h][v - 1]
            }
        }
        return n.toString = i._path2string, e.rel = Et(n), n
    }, Nt = i._pathToAbsolute = function (t) {
        var e = St(t);
        if (e.abs) return Et(e.abs);
        if (i.is(t, G) && i.is(t && t[0], G) || (t = i.parsePathString(t)), !t || !t.length) return [["M", 0, 0]];
        var n = [], s = 0, o = 0, r = 0, l = 0, h = 0;
        "M" == t[0][0] && (s = +t[0][1], o = +t[0][2], r = s, l = o, h++, n[0] = ["M", s, o]);
        for (var u, c, d = 3 == t.length && "M" == t[0][0] && "R" == t[1][0].toUpperCase() && "Z" == t[2][0].toUpperCase(), f = h, p = t.length; p > f; f++) {
            if (n.push(u = []), c = t[f], c[0] != et.call(c[0])) switch (u[0] = et.call(c[0]), u[0]) {
                case"A":
                    u[1] = c[1], u[2] = c[2], u[3] = c[3], u[4] = c[4], u[5] = c[5], u[6] = +(c[6] + s), u[7] = +(c[7] + o);
                    break;
                case"V":
                    u[1] = +c[1] + o;
                    break;
                case"H":
                    u[1] = +c[1] + s;
                    break;
                case"R":
                    for (var g = [s, o][N](c.slice(1)), m = 2, v = g.length; v > m; m++) g[m] = +g[m] + s, g[++m] = +g[m] + o;
                    n.pop(), n = n[N](a(g, d));
                    break;
                case"M":
                    r = +c[1] + s, l = +c[2] + o;
                default:
                    for (m = 1, v = c.length; v > m; m++) u[m] = +c[m] + (m % 2 ? s : o)
            } else if ("R" == c[0]) g = [s, o][N](c.slice(1)), n.pop(), n = n[N](a(g, d)), u = ["R"][N](c.slice(-2)); else for (var y = 0, b = c.length; b > y; y++) u[y] = c[y];
            switch (u[0]) {
                case"Z":
                    s = r, o = l;
                    break;
                case"H":
                    s = u[1];
                    break;
                case"V":
                    o = u[1];
                    break;
                case"M":
                    r = u[u.length - 2], l = u[u.length - 1];
                default:
                    s = u[u.length - 2], o = u[u.length - 1]
            }
        }
        return n.toString = i._path2string, e.abs = Et(n), n
    }, It = function (t, e, i, n) {
        return [t, e, i, n, i, n]
    }, Ht = function (t, e, i, n, s, o) {
        var r = 1 / 3, a = 2 / 3;
        return [r * t + a * i, r * e + a * n, r * s + a * i, r * o + a * n, s, o]
    }, Pt = function (t, e, i, n, s, r, a, l, h, u) {
        var c, d = 120 * j / 180, f = j / 180 * (+s || 0), p = [], g = o(function (t, e, i) {
            var n = t * L.cos(i) - e * L.sin(i), s = t * L.sin(i) + e * L.cos(i);
            return {x: n, y: s}
        });
        if (u) C = u[0], D = u[1], x = u[2], k = u[3]; else {
            c = g(t, e, -f), t = c.x, e = c.y, c = g(l, h, -f), l = c.x, h = c.y;
            var m = (L.cos(j / 180 * s), L.sin(j / 180 * s), (t - l) / 2), v = (e - h) / 2,
                y = m * m / (i * i) + v * v / (n * n);
            y > 1 && (y = L.sqrt(y), i = y * i, n = y * n);
            var b = i * i, w = n * n,
                _ = (r == a ? -1 : 1) * L.sqrt(Y((b * w - b * v * v - w * m * m) / (b * v * v + w * m * m))),
                x = _ * i * v / n + (t + l) / 2, k = _ * -n * m / i + (e + h) / 2, C = L.asin(((e - k) / n).toFixed(9)),
                D = L.asin(((h - k) / n).toFixed(9));
            C = x > t ? j - C : C, D = x > l ? j - D : D, 0 > C && (C = 2 * j + C), 0 > D && (D = 2 * j + D), a && C > D && (C -= 2 * j), !a && D > C && (D -= 2 * j)
        }
        var S = D - C;
        if (Y(S) > d) {
            var T = D, E = l, M = h;
            D = C + d * (a && D > C ? 1 : -1), l = x + i * L.cos(D), h = k + n * L.sin(D), p = Pt(l, h, i, n, s, 0, a, E, M, [D, T, x, k])
        }
        S = D - C;
        var I = L.cos(C), H = L.sin(C), P = L.cos(D), A = L.sin(D), R = L.tan(S / 4), z = 4 / 3 * i * R,
            O = 4 / 3 * n * R, B = [t, e], W = [t + z * H, e - O * I], U = [l + z * A, h - O * P], V = [l, h];
        if (W[0] = 2 * B[0] - W[0], W[1] = 2 * B[1] - W[1], u) return [W, U, V][N](p);
        p = [W, U, V][N](p).join()[F](",");
        for (var $ = [], G = 0, q = p.length; q > G; G++) $[G] = G % 2 ? g(p[G - 1], p[G], f).y : g(p[G], p[G + 1], f).x;
        return $
    }, At = function (t, e, i, n, s, o, r, a, l) {
        var h = 1 - l;
        return {
            x: U(h, 3) * t + 3 * U(h, 2) * l * i + 3 * h * l * l * s + U(l, 3) * r,
            y: U(h, 3) * e + 3 * U(h, 2) * l * n + 3 * h * l * l * o + U(l, 3) * a
        }
    }, Ft = o(function (t, e, i, n, s, o, r, a) {
        var l, h = s - 2 * i + t - (r - 2 * s + i), u = 2 * (i - t) - 2 * (s - i), c = t - i,
            d = (-u + L.sqrt(u * u - 4 * h * c)) / 2 / h, f = (-u - L.sqrt(u * u - 4 * h * c)) / 2 / h, p = [e, a],
            g = [t, r];
        return Y(d) > "1e12" && (d = .5), Y(f) > "1e12" && (f = .5), d > 0 && 1 > d && (l = At(t, e, i, n, s, o, r, a, d), g.push(l.x), p.push(l.y)), f > 0 && 1 > f && (l = At(t, e, i, n, s, o, r, a, f), g.push(l.x), p.push(l.y)), h = o - 2 * n + e - (a - 2 * o + n), u = 2 * (n - e) - 2 * (o - n), c = e - n, d = (-u + L.sqrt(u * u - 4 * h * c)) / 2 / h, f = (-u - L.sqrt(u * u - 4 * h * c)) / 2 / h, Y(d) > "1e12" && (d = .5), Y(f) > "1e12" && (f = .5), d > 0 && 1 > d && (l = At(t, e, i, n, s, o, r, a, d), g.push(l.x), p.push(l.y)), f > 0 && 1 > f && (l = At(t, e, i, n, s, o, r, a, f), g.push(l.x), p.push(l.y)), {
            min: {
                x: W[M](0, g),
                y: W[M](0, p)
            }, max: {x: B[M](0, g), y: B[M](0, p)}
        }
    }), Rt = i._path2curve = o(function (t, e) {
        var i = !e && St(t);
        if (!e && i.curve) return Et(i.curve);
        for (var n = Nt(t), s = e && Nt(e), o = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null}, r = {
            x: 0,
            y: 0,
            bx: 0,
            by: 0,
            X: 0,
            Y: 0,
            qx: null,
            qy: null
        }, a = (function (t, e, i) {
            var n, s, o = {T: 1, Q: 1};
            if (!t) return ["C", e.x, e.y, e.x, e.y, e.x, e.y];
            switch (!(t[0] in o) && (e.qx = e.qy = null), t[0]) {
                case"M":
                    e.X = t[1], e.Y = t[2];
                    break;
                case"A":
                    t = ["C"][N](Pt[M](0, [e.x, e.y][N](t.slice(1))));
                    break;
                case"S":
                    "C" == i || "S" == i ? (n = 2 * e.x - e.bx, s = 2 * e.y - e.by) : (n = e.x, s = e.y), t = ["C", n, s][N](t.slice(1));
                    break;
                case"T":
                    "Q" == i || "T" == i ? (e.qx = 2 * e.x - e.qx, e.qy = 2 * e.y - e.qy) : (e.qx = e.x, e.qy = e.y), t = ["C"][N](Ht(e.x, e.y, e.qx, e.qy, t[1], t[2]));
                    break;
                case"Q":
                    e.qx = t[1], e.qy = t[2], t = ["C"][N](Ht(e.x, e.y, t[1], t[2], t[3], t[4]));
                    break;
                case"L":
                    t = ["C"][N](It(e.x, e.y, t[1], t[2]));
                    break;
                case"H":
                    t = ["C"][N](It(e.x, e.y, t[1], e.y));
                    break;
                case"V":
                    t = ["C"][N](It(e.x, e.y, e.x, t[1]));
                    break;
                case"Z":
                    t = ["C"][N](It(e.x, e.y, e.X, e.Y))
            }
            return t
        }), l = function (t, e) {
            if (t[e].length > 7) {
                t[e].shift();
                for (var i = t[e]; i.length;) u[e] = "A", s && (c[e] = "A"), t.splice(e++, 0, ["C"][N](i.splice(0, 6)));
                t.splice(e, 1), g = B(n.length, s && s.length || 0)
            }
        }, h = function (t, e, i, o, r) {
            t && e && "M" == t[r][0] && "M" != e[r][0] && (e.splice(r, 0, ["M", o.x, o.y]), i.bx = 0, i.by = 0, i.x = t[r][1], i.y = t[r][2], g = B(n.length, s && s.length || 0))
        }, u = [], c = [], d = "", f = "", p = 0, g = B(n.length, s && s.length || 0); g > p; p++) {
            n[p] && (d = n[p][0]), "C" != d && (u[p] = d, p && (f = u[p - 1])), n[p] = a(n[p], o, f), "A" != u[p] && "C" == d && (u[p] = "C"), l(n, p), s && (s[p] && (d = s[p][0]), "C" != d && (c[p] = d, p && (f = c[p - 1])), s[p] = a(s[p], r, f), "A" != c[p] && "C" == d && (c[p] = "C"), l(s, p)), h(n, s, o, r, p), h(s, n, r, o, p);
            var m = n[p], v = s && s[p], y = m.length, b = s && v.length;
            o.x = m[y - 2], o.y = m[y - 1], o.bx = J(m[y - 4]) || o.x, o.by = J(m[y - 3]) || o.y, r.bx = s && (J(v[b - 4]) || r.x), r.by = s && (J(v[b - 3]) || r.y), r.x = s && v[b - 2], r.y = s && v[b - 1]
        }
        return s || (i.curve = Et(n)), s ? [n, s] : n
    }, null, Et), zt = (i._parseDots = o(function (t) {
        for (var e = [], n = 0, s = t.length; s > n; n++) {
            var o = {}, r = t[n].match(/^([^:]*):?([\d\.]*)/);
            if (o.color = i.getRGB(r[1]), o.color.error) return null;
            o.color = o.color.hex, r[2] && (o.offset = r[2] + "%"), e.push(o)
        }
        for (n = 1, s = e.length - 1; s > n; n++) if (!e[n].offset) {
            for (var a = J(e[n - 1].offset || 0), l = 0, h = n + 1; s > h; h++) if (e[h].offset) {
                l = e[h].offset;
                break
            }
            l || (l = 100, h = s), l = J(l);
            for (var u = (l - a) / (h - n + 1); h > n; n++) a += u, e[n].offset = a + "%"
        }
        return e
    }), i._tear = function (t, e) {
        t == e.top && (e.top = t.prev), t == e.bottom && (e.bottom = t.next), t.next && (t.next.prev = t.prev), t.prev && (t.prev.next = t.next)
    }), Ot = (i._tofront = function (t, e) {
        e.top !== t && (zt(t, e), t.next = null, t.prev = e.top, e.top.next = t, e.top = t)
    }, i._toback = function (t, e) {
        e.bottom !== t && (zt(t, e), t.next = e.bottom, t.prev = null, e.bottom.prev = t, e.bottom = t)
    }, i._insertafter = function (t, e, i) {
        zt(t, i), e == i.top && (i.top = t), e.next && (e.next.prev = t), t.next = e.next, t.prev = e, e.next = t
    }, i._insertbefore = function (t, e, i) {
        zt(t, i), e == i.bottom && (i.bottom = t), e.prev && (e.prev.next = t), t.prev = e.prev, e.prev = t, t.next = e
    }, i.toMatrix = function (t, e) {
        var i = Tt(t), n = {
            _: {transform: H}, getBBox: function () {
                return i
            }
        };
        return Lt(n, e), n.matrix
    }), Lt = (i.transformPath = function (t, e) {
        return vt(t, Ot(t, e))
    }, i._extractTransform = function (t, e) {
        if (null == e) return t._.transform;
        e = A(e).replace(/\.{3}|\u2026/g, t._.transform || H);
        var n = i.parseTransformString(e), s = 0, o = 0, r = 0, a = 1, l = 1, h = t._, u = new p;
        if (h.transform = n || [], n) for (var c = 0, d = n.length; d > c; c++) {
            var f, g, m, v, y, b = n[c], w = b.length, _ = A(b[0]).toLowerCase(), x = b[0] != _, k = x ? u.invert() : 0;
            "t" == _ && 3 == w ? x ? (f = k.x(0, 0), g = k.y(0, 0), m = k.x(b[1], b[2]), v = k.y(b[1], b[2]), u.translate(m - f, v - g)) : u.translate(b[1], b[2]) : "r" == _ ? 2 == w ? (y = y || t.getBBox(1), u.rotate(b[1], y.x + y.width / 2, y.y + y.height / 2), s += b[1]) : 4 == w && (x ? (m = k.x(b[2], b[3]), v = k.y(b[2], b[3]), u.rotate(b[1], m, v)) : u.rotate(b[1], b[2], b[3]), s += b[1]) : "s" == _ ? 2 == w || 3 == w ? (y = y || t.getBBox(1), u.scale(b[1], b[w - 1], y.x + y.width / 2, y.y + y.height / 2), a *= b[1], l *= b[w - 1]) : 5 == w && (x ? (m = k.x(b[3], b[4]), v = k.y(b[3], b[4]), u.scale(b[1], b[2], m, v)) : u.scale(b[1], b[2], b[3], b[4]), a *= b[1], l *= b[2]) : "m" == _ && 7 == w && u.add(b[1], b[2], b[3], b[4], b[5], b[6]), h.dirtyT = 1, t.matrix = u
        }
        t.matrix = u, h.sx = a, h.sy = l, h.deg = s, h.dx = o = u.e, h.dy = r = u.f, 1 == a && 1 == l && !s && h.bbox ? (h.bbox.x += +o, h.bbox.y += +r) : h.dirtyT = 1
    }), Bt = function (t) {
        var e = t[0];
        switch (e.toLowerCase()) {
            case"t":
                return [e, 0, 0];
            case"m":
                return [e, 1, 0, 0, 1, 0, 0];
            case"r":
                return 4 == t.length ? [e, 0, t[2], t[3]] : [e, 0];
            case"s":
                return 5 == t.length ? [e, 1, 1, t[3], t[4]] : 3 == t.length ? [e, 1, 1] : [e, 1]
        }
    }, Wt = i._equaliseTransform = function (t, e) {
        e = A(e).replace(/\.{3}|\u2026/g, t), t = i.parseTransformString(t) || [], e = i.parseTransformString(e) || [];
        for (var n, s, o, r, a = B(t.length, e.length), l = [], h = [], u = 0; a > u; u++) {
            if (o = t[u] || Bt(e[u]), r = e[u] || Bt(o), o[0] != r[0] || "r" == o[0].toLowerCase() && (o[2] != r[2] || o[3] != r[3]) || "s" == o[0].toLowerCase() && (o[3] != r[3] || o[4] != r[4])) return;
            for (l[u] = [], h[u] = [], n = 0, s = B(o.length, r.length); s > n; n++) n in o && (l[u][n] = o[n]), n in r && (h[u][n] = r[n])
        }
        return {from: l, to: h}
    };
    i._getContainer = function (t, e, n, s) {
        var o;
        return o = null != s || i.is(t, "object") ? t : S.doc.getElementById(t), null != o ? o.tagName ? null == e ? {
            container: o,
            width: o.style.pixelWidth || o.offsetWidth,
            height: o.style.pixelHeight || o.offsetHeight
        } : {container: o, width: e, height: n} : {container: 1, x: t, y: e, width: n, height: s} : void 0
    }, i.pathToRelative = Mt, i._engine = {}, i.path2curve = Rt, i.matrix = function (t, e, i, n, s, o) {
        return new p(t, e, i, n, s, o)
    }, function (t) {
        function e(t) {
            return t[0] * t[0] + t[1] * t[1]
        }

        function n(t) {
            var i = L.sqrt(e(t));
            t[0] && (t[0] /= i), t[1] && (t[1] /= i)
        }

        t.add = function (t, e, i, n, s, o) {
            var r, a, l, h, u = [[], [], []], c = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],
                d = [[t, i, s], [e, n, o], [0, 0, 1]];
            for (t && t instanceof p && (d = [[t.a, t.c, t.e], [t.b, t.d, t.f], [0, 0, 1]]), r = 0; 3 > r; r++) for (a = 0; 3 > a; a++) {
                for (h = 0, l = 0; 3 > l; l++) h += c[r][l] * d[l][a];
                u[r][a] = h
            }
            this.a = u[0][0], this.b = u[1][0], this.c = u[0][1], this.d = u[1][1], this.e = u[0][2], this.f = u[1][2]
        }, t.invert = function () {
            var t = this, e = t.a * t.d - t.b * t.c;
            return new p(t.d / e, -t.b / e, -t.c / e, t.a / e, (t.c * t.f - t.d * t.e) / e, (t.b * t.e - t.a * t.f) / e)
        }, t.clone = function () {
            return new p(this.a, this.b, this.c, this.d, this.e, this.f)
        }, t.translate = function (t, e) {
            this.add(1, 0, 0, 1, t, e)
        }, t.scale = function (t, e, i, n) {
            null == e && (e = t), (i || n) && this.add(1, 0, 0, 1, i, n), this.add(t, 0, 0, e, 0, 0), (i || n) && this.add(1, 0, 0, 1, -i, -n)
        }, t.rotate = function (t, e, n) {
            t = i.rad(t), e = e || 0, n = n || 0;
            var s = +L.cos(t).toFixed(9), o = +L.sin(t).toFixed(9);
            this.add(s, o, -o, s, e, n), this.add(1, 0, 0, 1, -e, -n)
        }, t.x = function (t, e) {
            return t * this.a + e * this.c + this.e
        }, t.y = function (t, e) {
            return t * this.b + e * this.d + this.f
        }, t.get = function (t) {
            return +this[A.fromCharCode(97 + t)].toFixed(4)
        }, t.toString = function () {
            return i.svg ? "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" : [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join()
        }, t.toFilter = function () {
            return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) + ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) + ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')"
        }, t.offset = function () {
            return [this.e.toFixed(4), this.f.toFixed(4)]
        }, t.split = function () {
            var t = {};
            t.dx = this.e, t.dy = this.f;
            var s = [[this.a, this.c], [this.b, this.d]];
            t.scalex = L.sqrt(e(s[0])), n(s[0]), t.shear = s[0][0] * s[1][0] + s[0][1] * s[1][1], s[1] = [s[1][0] - s[0][0] * t.shear, s[1][1] - s[0][1] * t.shear], t.scaley = L.sqrt(e(s[1])), n(s[1]), t.shear /= t.scaley;
            var o = -s[0][1], r = s[1][1];
            return 0 > r ? (t.rotate = i.deg(L.acos(r)), 0 > o && (t.rotate = 360 - t.rotate)) : t.rotate = i.deg(L.asin(o)), t.isSimple = !(+t.shear.toFixed(9) || t.scalex.toFixed(9) != t.scaley.toFixed(9) && t.rotate), t.isSuperSimple = !+t.shear.toFixed(9) && t.scalex.toFixed(9) == t.scaley.toFixed(9) && !t.rotate, t.noRotation = !+t.shear.toFixed(9) && !t.rotate, t
        }, t.toTransformString = function (t) {
            var e = t || this[F]();
            return e.isSimple ? (e.scalex = +e.scalex.toFixed(4), e.scaley = +e.scaley.toFixed(4), e.rotate = +e.rotate.toFixed(4), (e.dx || e.dy ? "t" + [e.dx, e.dy] : H) + (1 != e.scalex || 1 != e.scaley ? "s" + [e.scalex, e.scaley, 0, 0] : H) + (e.rotate ? "r" + [e.rotate, 0, 0] : H)) : "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)]
        }
    }(p.prototype);
    var Yt = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/);
    "Apple Computer, Inc." == navigator.vendor && (Yt && Yt[1] < 4 || "iP" == navigator.platform.slice(0, 2)) || "Google Inc." == navigator.vendor && Yt && Yt[1] < 8 ? _.safari = function () {
        var t = this.rect(-99, -99, this.width + 99, this.height + 99).attr({stroke: "none"});
        setTimeout(function () {
            t.remove()
        })
    } : _.safari = dt;
    for (var Ut = function () {
        this.returnValue = !1
    }, jt = function () {
        return this.originalEvent.preventDefault()
    }, Vt = function () {
        this.cancelBubble = !0
    }, $t = function () {
        return this.originalEvent.stopPropagation()
    }, Gt = function (t) {
        var e = S.doc.documentElement.scrollTop || S.doc.body.scrollTop,
            i = S.doc.documentElement.scrollLeft || S.doc.body.scrollLeft;
        return {x: t.clientX + i, y: t.clientY + e}
    }, qt = function () {
        return S.doc.addEventListener ? function (t, e, i, n) {
            var s = function (t) {
                var e = Gt(t);
                return i.call(n, t, e.x, e.y)
            };
            if (t.addEventListener(e, s, !1), I && z[e]) {
                var o = function (e) {
                    for (var s = Gt(e), o = e, r = 0, a = e.targetTouches && e.targetTouches.length; a > r; r++) if (e.targetTouches[r].target == t) {
                        e = e.targetTouches[r], e.originalEvent = o, e.preventDefault = jt, e.stopPropagation = $t;
                        break
                    }
                    return i.call(n, e, s.x, s.y)
                };
                t.addEventListener(z[e], o, !1)
            }
            return function () {
                return t.removeEventListener(e, s, !1), I && z[e] && t.removeEventListener(z[e], o, !1), !0
            }
        } : S.doc.attachEvent ? function (t, e, i, n) {
            var s = function (t) {
                t = t || S.win.event;
                var e = S.doc.documentElement.scrollTop || S.doc.body.scrollTop,
                    s = S.doc.documentElement.scrollLeft || S.doc.body.scrollLeft, o = t.clientX + s, r = t.clientY + e;
                return t.preventDefault = t.preventDefault || Ut, t.stopPropagation = t.stopPropagation || Vt, i.call(n, t, o, r)
            };
            t.attachEvent("on" + e, s);
            var o = function () {
                return t.detachEvent("on" + e, s), !0
            };
            return o
        } : void 0
    }(), Kt = [], Xt = function (t) {
        for (var i, n = t.clientX, s = t.clientY, o = S.doc.documentElement.scrollTop || S.doc.body.scrollTop, r = S.doc.documentElement.scrollLeft || S.doc.body.scrollLeft, a = Kt.length; a--;) {
            if (i = Kt[a], I && t.touches) {
                for (var l, h = t.touches.length; h--;) if (l = t.touches[h], l.identifier == i.el._drag.id) {
                    n = l.clientX, s = l.clientY, (t.originalEvent ? t.originalEvent : t).preventDefault();
                    break
                }
            } else t.preventDefault();
            var u, c = i.el.node, d = c.nextSibling, f = c.parentNode, p = c.style.display;
            S.win.opera && f.removeChild(c), c.style.display = "none", u = i.el.paper.getElementByPoint(n, s), c.style.display = p, S.win.opera && (d ? f.insertBefore(c, d) : f.appendChild(c)), u && e("raphael.drag.over." + i.el.id, i.el, u), n += r, s += o, e("raphael.drag.move." + i.el.id, i.move_scope || i.el, n - i.el._drag.x, s - i.el._drag.y, n, s, t)
        }
    }, Zt = function (t) {
        i.unmousemove(Xt).unmouseup(Zt);
        for (var n, s = Kt.length; s--;) n = Kt[s], n.el._drag = {}, e("raphael.drag.end." + n.el.id, n.end_scope || n.start_scope || n.move_scope || n.el, t);
        Kt = []
    }, Qt = i.el = {}, Jt = R.length; Jt--;) !function (t) {
        i[t] = Qt[t] = function (e, n) {
            return i.is(e, "function") && (this.events = this.events || [], this.events.push({
                name: t,
                f: e,
                unbind: qt(this.shape || this.node || S.doc, t, e, n || this)
            })), this
        }, i["un" + t] = Qt["un" + t] = function (e) {
            for (var n = this.events || [], s = n.length; s--;) n[s].name != t || !i.is(e, "undefined") && n[s].f != e || (n[s].unbind(), n.splice(s, 1), !n.length && delete this.events);
            return this
        }
    }(R[Jt]);
    Qt.data = function (t, n) {
        var s = ut[this.id] = ut[this.id] || {};
        if (0 == arguments.length) return s;
        if (1 == arguments.length) {
            if (i.is(t, "object")) {
                for (var o in t) t[D](o) && this.data(o, t[o]);
                return this
            }
            return e("raphael.data.get." + this.id, this, s[t], t), s[t]
        }
        return s[t] = n, e("raphael.data.set." + this.id, this, n, t), this
    }, Qt.removeData = function (t) {
        return null == t ? ut[this.id] = {} : ut[this.id] && delete ut[this.id][t], this
    }, Qt.getData = function () {
        return n(ut[this.id] || {})
    }, Qt.hover = function (t, e, i, n) {
        return this.mouseover(t, i).mouseout(e, n || i)
    }, Qt.unhover = function (t, e) {
        return this.unmouseover(t).unmouseout(e)
    };
    var te = [];
    Qt.drag = function (t, n, s, o, r, a) {
        function l(l) {
            (l.originalEvent || l).preventDefault();
            var h = l.clientX, u = l.clientY, c = S.doc.documentElement.scrollTop || S.doc.body.scrollTop,
                d = S.doc.documentElement.scrollLeft || S.doc.body.scrollLeft;
            if (this._drag.id = l.identifier, I && l.touches) for (var f, p = l.touches.length; p--;) if (f = l.touches[p], this._drag.id = f.identifier, f.identifier == this._drag.id) {
                h = f.clientX, u = f.clientY;
                break
            }
            this._drag.x = h + d, this._drag.y = u + c, !Kt.length && i.mousemove(Xt).mouseup(Zt), Kt.push({
                el: this,
                move_scope: o,
                start_scope: r,
                end_scope: a
            }), n && e.on("raphael.drag.start." + this.id, n), t && e.on("raphael.drag.move." + this.id, t), s && e.on("raphael.drag.end." + this.id, s), e("raphael.drag.start." + this.id, r || o || this, l.clientX + d, l.clientY + c, l)
        }

        return this._drag = {}, te.push({el: this, start: l}), this.mousedown(l), this
    }, Qt.onDragOver = function (t) {
        t ? e.on("raphael.drag.over." + this.id, t) : e.unbind("raphael.drag.over." + this.id)
    }, Qt.undrag = function () {
        for (var t = te.length; t--;) te[t].el == this && (this.unmousedown(te[t].start), te.splice(t, 1), e.unbind("raphael.drag.*." + this.id));
        !te.length && i.unmousemove(Xt).unmouseup(Zt), Kt = []
    }, _.circle = function (t, e, n) {
        var s = i._engine.circle(this, t || 0, e || 0, n || 0);
        return this.__set__ && this.__set__.push(s), s
    }, _.rect = function (t, e, n, s, o) {
        var r = i._engine.rect(this, t || 0, e || 0, n || 0, s || 0, o || 0);
        return this.__set__ && this.__set__.push(r), r
    }, _.ellipse = function (t, e, n, s) {
        var o = i._engine.ellipse(this, t || 0, e || 0, n || 0, s || 0);
        return this.__set__ && this.__set__.push(o), o
    }, _.path = function (t) {
        t && !i.is(t, $) && !i.is(t[0], G) && (t += H);
        var e = i._engine.path(i.format[M](i, arguments), this);
        return this.__set__ && this.__set__.push(e), e
    }, _.image = function (t, e, n, s, o) {
        var r = i._engine.image(this, t || "about:blank", e || 0, n || 0, s || 0, o || 0);
        return this.__set__ && this.__set__.push(r), r
    }, _.text = function (t, e, n) {
        var s = i._engine.text(this, t || 0, e || 0, A(n));
        return this.__set__ && this.__set__.push(s), s
    }, _.set = function (t) {
        !i.is(t, "array") && (t = Array.prototype.splice.call(arguments, 0, arguments.length));
        var e = new de(t);
        return this.__set__ && this.__set__.push(e), e.paper = this, e.type = "set", e
    }, _.setStart = function (t) {
        this.__set__ = t || this.set()
    }, _.setFinish = function (t) {
        var e = this.__set__;
        return delete this.__set__, e
    }, _.getSize = function () {
        var t = this.canvas.parentNode;
        return {width: t.offsetWidth, height: t.offsetHeight}
    }, _.setSize = function (t, e) {
        return i._engine.setSize.call(this, t, e)
    }, _.setViewBox = function (t, e, n, s, o) {
        return i._engine.setViewBox.call(this, t, e, n, s, o)
    }, _.top = _.bottom = null, _.raphael = i;
    var ee = function (t) {
        var e = t.getBoundingClientRect(), i = t.ownerDocument, n = i.body, s = i.documentElement,
            o = s.clientTop || n.clientTop || 0, r = s.clientLeft || n.clientLeft || 0,
            a = e.top + (S.win.pageYOffset || s.scrollTop || n.scrollTop) - o,
            l = e.left + (S.win.pageXOffset || s.scrollLeft || n.scrollLeft) - r;
        return {y: a, x: l}
    };
    _.getElementByPoint = function (t, e) {
        var i = this, n = i.canvas, s = S.doc.elementFromPoint(t, e);
        if (S.win.opera && "svg" == s.tagName) {
            var o = ee(n), r = n.createSVGRect();
            r.x = t - o.x, r.y = e - o.y, r.width = r.height = 1;
            var a = n.getIntersectionList(r, null);
            a.length && (s = a[a.length - 1])
        }
        if (!s) return null;
        for (; s.parentNode && s != n.parentNode && !s.raphael;) s = s.parentNode;
        return s == i.canvas.parentNode && (s = n), s = s && s.raphael ? i.getById(s.raphaelid) : null
    }, _.getElementsByBBox = function (t) {
        var e = this.set();
        return this.forEach(function (n) {
            i.isBBoxIntersect(n.getBBox(), t) && e.push(n)
        }), e
    }, _.getById = function (t) {
        for (var e = this.bottom; e;) {
            if (e.id == t) return e;
            e = e.next
        }
        return null
    }, _.forEach = function (t, e) {
        for (var i = this.bottom; i;) {
            if (t.call(e, i) === !1) return this;
            i = i.next
        }
        return this
    }, _.getElementsByPoint = function (t, e) {
        var i = this.set();
        return this.forEach(function (n) {
            n.isPointInside(t, e) && i.push(n)
        }), i
    }, Qt.isPointInside = function (t, e) {
        var n = this.realPath = mt[this.type](this);
        return this.attr("transform") && this.attr("transform").length && (n = i.transformPath(n, this.attr("transform"))), i.isPointInsidePath(n, t, e)
    }, Qt.getBBox = function (t) {
        if (this.removed) return {};
        var e = this._;
        return t ? ((e.dirty || !e.bboxwt) && (this.realPath = mt[this.type](this), e.bboxwt = Tt(this.realPath), e.bboxwt.toString = g, e.dirty = 0), e.bboxwt) : ((e.dirty || e.dirtyT || !e.bbox) && ((e.dirty || !this.realPath) && (e.bboxwt = 0, this.realPath = mt[this.type](this)), e.bbox = Tt(vt(this.realPath, this.matrix)), e.bbox.toString = g, e.dirty = e.dirtyT = 0), e.bbox)
    }, Qt.clone = function () {
        if (this.removed) return null;
        var t = this.paper[this.type]().attr(this.attr());
        return this.__set__ && this.__set__.push(t), t
    }, Qt.glow = function (t) {
        if ("text" == this.type) return null;
        t = t || {};
        var e = {
            width: (t.width || 10) + (+this.attr("stroke-width") || 1),
            fill: t.fill || !1,
            opacity: t.opacity || .5,
            offsetx: t.offsetx || 0,
            offsety: t.offsety || 0,
            color: t.color || "#000"
        }, i = e.width / 2, n = this.paper, s = n.set(), o = this.realPath || mt[this.type](this);
        o = this.matrix ? vt(o, this.matrix) : o;
        for (var r = 1; i + 1 > r; r++) s.push(n.path(o).attr({
            stroke: e.color,
            fill: e.fill ? e.color : "none",
            "stroke-linejoin": "round",
            "stroke-linecap": "round",
            "stroke-width": +(e.width / i * r).toFixed(3),
            opacity: +(e.opacity / i).toFixed(3)
        }));
        return s.insertBefore(this).translate(e.offsetx, e.offsety)
    };
    var ie = function (t, e, n, s, o, r, a, l, c) {
        return null == c ? h(t, e, n, s, o, r, a, l) : i.findDotsAtSegment(t, e, n, s, o, r, a, l, u(t, e, n, s, o, r, a, l, c))
    }, ne = function (t, e) {
        return function (n, s, o) {
            n = Rt(n);
            for (var r, a, l, h, u, c = "", d = {}, f = 0, p = 0, g = n.length; g > p; p++) {
                if (l = n[p], "M" == l[0]) r = +l[1], a = +l[2]; else {
                    if (h = ie(r, a, l[1], l[2], l[3], l[4], l[5], l[6]), f + h > s) {
                        if (e && !d.start) {
                            if (u = ie(r, a, l[1], l[2], l[3], l[4], l[5], l[6], s - f), c += ["C" + u.start.x, u.start.y, u.m.x, u.m.y, u.x, u.y], o) return c;
                            d.start = c, c = ["M" + u.x, u.y + "C" + u.n.x, u.n.y, u.end.x, u.end.y, l[5], l[6]].join(), f += h, r = +l[5], a = +l[6];
                            continue
                        }
                        if (!t && !e) return u = ie(r, a, l[1], l[2], l[3], l[4], l[5], l[6], s - f), {
                            x: u.x,
                            y: u.y,
                            alpha: u.alpha
                        }
                    }
                    f += h, r = +l[5], a = +l[6]
                }
                c += l.shift() + l
            }
            return d.end = c, u = t ? f : e ? d : i.findDotsAtSegment(r, a, l[0], l[1], l[2], l[3], l[4], l[5], 1), u.alpha && (u = {
                x: u.x,
                y: u.y,
                alpha: u.alpha
            }), u
        }
    }, se = ne(1), oe = ne(), re = ne(0, 1);
    i.getTotalLength = se, i.getPointAtLength = oe, i.getSubpath = function (t, e, i) {
        if (this.getTotalLength(t) - i < 1e-6) return re(t, e).end;
        var n = re(t, i, 1);
        return e ? re(n, e).end : n
    }, Qt.getTotalLength = function () {
        var t = this.getPath();
        if (t) return this.node.getTotalLength ? this.node.getTotalLength() : se(t)
    }, Qt.getPointAtLength = function (t) {
        var e = this.getPath();
        if (e) return oe(e, t)
    }, Qt.getPath = function () {
        var t, e = i._getPath[this.type];
        if ("text" != this.type && "set" != this.type) return e && (t = e(this)), t
    }, Qt.getSubpath = function (t, e) {
        var n = this.getPath();
        if (n) return i.getSubpath(n, t, e)
    };
    var ae = i.easing_formulas = {
        linear: function (t) {
            return t
        }, "<": function (t) {
            return U(t, 1.7)
        }, ">": function (t) {
            return U(t, .48)
        }, "<>": function (t) {
            var e = .48 - t / 1.04, i = L.sqrt(.1734 + e * e), n = i - e, s = U(Y(n), 1 / 3) * (0 > n ? -1 : 1),
                o = -i - e, r = U(Y(o), 1 / 3) * (0 > o ? -1 : 1), a = s + r + .5;
            return 3 * (1 - a) * a * a + a * a * a
        }, backIn: function (t) {
            var e = 1.70158;
            return t * t * ((e + 1) * t - e)
        }, backOut: function (t) {
            t -= 1;
            var e = 1.70158;
            return t * t * ((e + 1) * t + e) + 1
        }, elastic: function (t) {
            return t == !!t ? t : U(2, -10 * t) * L.sin((t - .075) * (2 * j) / .3) + 1
        }, bounce: function (t) {
            var e, i = 7.5625, n = 2.75;
            return 1 / n > t ? e = i * t * t : 2 / n > t ? (t -= 1.5 / n, e = i * t * t + .75) : 2.5 / n > t ? (t -= 2.25 / n, e = i * t * t + .9375) : (t -= 2.625 / n, e = i * t * t + .984375), e
        }
    };
    ae.easeIn = ae["ease-in"] = ae["<"], ae.easeOut = ae["ease-out"] = ae[">"], ae.easeInOut = ae["ease-in-out"] = ae["<>"], ae["back-in"] = ae.backIn, ae["back-out"] = ae.backOut;
    var le = [],
        he = t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || t.oRequestAnimationFrame || t.msRequestAnimationFrame || function (t) {
            setTimeout(t, 16)
        }, ue = function () {
            for (var t = +new Date, n = 0; n < le.length; n++) {
                var s = le[n];
                if (!s.el.removed && !s.paused) {
                    var o, r, a = t - s.start, l = s.ms, h = s.easing, u = s.from, c = s.diff, d = s.to, f = (s.t, s.el),
                        p = {}, g = {};
                    if (s.initstatus ? (a = (s.initstatus * s.anim.top - s.prev) / (s.percent - s.prev) * l, s.status = s.initstatus, delete s.initstatus, s.stop && le.splice(n--, 1)) : s.status = (s.prev + (s.percent - s.prev) * (a / l)) / s.anim.top, !(0 > a)) if (l > a) {
                        var m = h(a / l);
                        for (var v in u) if (u[D](v)) {
                            switch (nt[v]) {
                                case V:
                                    o = +u[v] + m * l * c[v];
                                    break;
                                case"colour":
                                    o = "rgb(" + [ce(Q(u[v].r + m * l * c[v].r)), ce(Q(u[v].g + m * l * c[v].g)), ce(Q(u[v].b + m * l * c[v].b))].join(",") + ")";
                                    break;
                                case"path":
                                    o = [];
                                    for (var b = 0, w = u[v].length; w > b; b++) {
                                        o[b] = [u[v][b][0]];
                                        for (var _ = 1, x = u[v][b].length; x > _; _++) o[b][_] = +u[v][b][_] + m * l * c[v][b][_];
                                        o[b] = o[b].join(P)
                                    }
                                    o = o.join(P);
                                    break;
                                case"transform":
                                    if (c[v].real) for (o = [], b = 0, w = u[v].length; w > b; b++) for (o[b] = [u[v][b][0]], _ = 1, x = u[v][b].length; x > _; _++) o[b][_] = u[v][b][_] + m * l * c[v][b][_]; else {
                                        var k = function (t) {
                                            return +u[v][t] + m * l * c[v][t]
                                        };
                                        o = [["m", k(0), k(1), k(2), k(3), k(4), k(5)]]
                                    }
                                    break;
                                case"csv":
                                    if ("clip-rect" == v) for (o = [], b = 4; b--;) o[b] = +u[v][b] + m * l * c[v][b];
                                    break;
                                default:
                                    var C = [][N](u[v]);
                                    for (o = [], b = f.paper.customAttributes[v].length; b--;) o[b] = +C[b] + m * l * c[v][b]
                            }
                            p[v] = o
                        }
                        f.attr(p), function (t, i, n) {
                            setTimeout(function () {
                                e("raphael.anim.frame." + t, i, n)
                            })
                        }(f.id, f, s.anim)
                    } else {
                        if (function (t, n, s) {
                                setTimeout(function () {
                                    e("raphael.anim.frame." + n.id, n, s), e("raphael.anim.finish." + n.id, n, s), i.is(t, "function") && t.call(n)
                                })
                            }(s.callback, f, s.anim), f.attr(d), le.splice(n--, 1), s.repeat > 1 && !s.next) {
                            for (r in d) d[D](r) && (g[r] = s.totalOrigin[r]);
                            s.el.attr(g), y(s.anim, s.el, s.anim.percents[0], null, s.totalOrigin, s.repeat - 1)
                        }
                        s.next && !s.stop && y(s.anim, s.el, s.next, null, s.totalOrigin, s.repeat)
                    }
                }
            }
            i.svg && f && f.paper && f.paper.safari(), le.length && he(ue)
        }, ce = function (t) {
            return t > 255 ? 255 : 0 > t ? 0 : t
        };
    Qt.animateWith = function (t, e, n, s, o, r) {
        var a = this;
        if (a.removed) return r && r.call(a), a;
        var l = n instanceof v ? n : i.animation(n, s, o, r);
        y(l, a, l.percents[0], null, a.attr());
        for (var h = 0, u = le.length; u > h; h++) if (le[h].anim == e && le[h].el == t) {
            le[u - 1].start = le[h].start;
            break
        }
        return a
    }, Qt.onAnimation = function (t) {
        return t ? e.on("raphael.anim.frame." + this.id, t) : e.unbind("raphael.anim.frame." + this.id), this
    }, v.prototype.delay = function (t) {
        var e = new v(this.anim, this.ms);
        return e.times = this.times, e.del = +t || 0, e
    }, v.prototype.repeat = function (t) {
        var e = new v(this.anim, this.ms);
        return e.del = this.del, e.times = L.floor(B(t, 0)) || 1, e
    }, i.animation = function (t, e, n, s) {
        if (t instanceof v) return t;
        (i.is(n, "function") || !n) && (s = s || n || null, n = null), t = Object(t), e = +e || 0;
        var o, r, a = {};
        for (r in t) t[D](r) && J(r) != r && J(r) + "%" != r && (o = !0, a[r] = t[r]);
        if (o) return n && (a.easing = n), s && (a.callback = s), new v({100: a}, e);
        if (s) {
            var l = 0;
            for (var h in t) {
                var u = tt(h);
                t[D](h) && u > l && (l = u)
            }
            l += "%", !t[l].callback && (t[l].callback = s)
        }
        return new v(t, e)
    }, Qt.animate = function (t, e, n, s) {
        var o = this;
        if (o.removed) return s && s.call(o), o;
        var r = t instanceof v ? t : i.animation(t, e, n, s);
        return y(r, o, r.percents[0], null, o.attr()), o
    }, Qt.setTime = function (t, e) {
        return t && null != e && this.status(t, W(e, t.ms) / t.ms), this
    }, Qt.status = function (t, e) {
        var i, n, s = [], o = 0;
        if (null != e) return y(t, this, -1, W(e, 1)), this;
        for (i = le.length; i > o; o++) if (n = le[o], n.el.id == this.id && (!t || n.anim == t)) {
            if (t) return n.status;
            s.push({anim: n.anim, status: n.status})
        }
        return t ? 0 : s
    }, Qt.pause = function (t) {
        for (var i = 0; i < le.length; i++) le[i].el.id != this.id || t && le[i].anim != t || e("raphael.anim.pause." + this.id, this, le[i].anim) !== !1 && (le[i].paused = !0);
        return this
    }, Qt.resume = function (t) {
        for (var i = 0; i < le.length; i++) if (le[i].el.id == this.id && (!t || le[i].anim == t)) {
            var n = le[i];
            e("raphael.anim.resume." + this.id, this, n.anim) !== !1 && (delete n.paused, this.status(n.anim, n.status))
        }
        return this
    }, Qt.stop = function (t) {
        for (var i = 0; i < le.length; i++) le[i].el.id != this.id || t && le[i].anim != t || e("raphael.anim.stop." + this.id, this, le[i].anim) !== !1 && le.splice(i--, 1);
        return this
    }, e.on("raphael.remove", b), e.on("raphael.clear", b), Qt.toString = function () {
        return "Raphals object"
    };
    var de = function (t) {
        if (this.items = [], this.length = 0, this.type = "set", t) for (var e = 0, i = t.length; i > e; e++) !t[e] || t[e].constructor != Qt.constructor && t[e].constructor != de || (this[this.items.length] = this.items[this.items.length] = t[e], this.length++)
    }, fe = de.prototype;
    fe.push = function () {
        for (var t, e, i = 0, n = arguments.length; n > i; i++) t = arguments[i], !t || t.constructor != Qt.constructor && t.constructor != de || (e = this.items.length, this[e] = this.items[e] = t, this.length++);
        return this
    }, fe.pop = function () {
        return this.length && delete this[this.length--], this.items.pop()
    }, fe.forEach = function (t, e) {
        for (var i = 0, n = this.items.length; n > i; i++) if (t.call(e, this.items[i], i) === !1) return this;
        return this
    };
    for (var pe in Qt) Qt[D](pe) && (fe[pe] = function (t) {
        return function () {
            var e = arguments;
            return this.forEach(function (i) {
                i[t][M](i, e)
            })
        }
    }(pe));
    return fe.attr = function (t, e) {
        if (t && i.is(t, G) && i.is(t[0], "object")) for (var n = 0, s = t.length; s > n; n++) this.items[n].attr(t[n]); else for (var o = 0, r = this.items.length; r > o; o++) this.items[o].attr(t, e);
        return this
    }, fe.clear = function () {
        for (; this.length;) this.pop()
    }, fe.splice = function (t, e, i) {
        t = 0 > t ? B(this.length + t, 0) : t, e = B(0, W(this.length - t, e));
        var n, s = [], o = [], r = [];
        for (n = 2; n < arguments.length; n++) r.push(arguments[n]);
        for (n = 0; e > n; n++) o.push(this[t + n]);
        for (; n < this.length - t; n++) s.push(this[t + n]);
        var a = r.length;
        for (n = 0; n < a + s.length; n++) this.items[t + n] = this[t + n] = a > n ? r[n] : s[n - a];
        for (n = this.items.length = this.length -= e - a; this[n];) delete this[n++];
        return new de(o)
    }, fe.exclude = function (t) {
        for (var e = 0, i = this.length; i > e; e++) if (this[e] == t) return this.splice(e, 1), !0
    }, fe.animate = function (t, e, n, s) {
        (i.is(n, "function") || !n) && (s = n || null);
        var o, r, a = this.items.length, l = a, h = this;
        if (!a) return this;
        s && (r = function () {
            !--a && s.call(h)
        }), n = i.is(n, $) ? n : r;
        var u = i.animation(t, e, n, r);
        for (o = this.items[--l].animate(u); l--;) this.items[l] && !this.items[l].removed && this.items[l].animateWith(o, u, u), this.items[l] && !this.items[l].removed || a--;
        return this
    }, fe.insertAfter = function (t) {
        for (var e = this.items.length; e--;) this.items[e].insertAfter(t);
        return this
    }, fe.getBBox = function () {
        for (var t = [], e = [], i = [], n = [], s = this.items.length; s--;) if (!this.items[s].removed) {
            var o = this.items[s].getBBox();
            t.push(o.x), e.push(o.y), i.push(o.x + o.width), n.push(o.y + o.height)
        }
        return t = W[M](0, t), e = W[M](0, e), i = B[M](0, i), n = B[M](0, n), {
            x: t,
            y: e,
            x2: i,
            y2: n,
            width: i - t,
            height: n - e
        }
    }, fe.clone = function (t) {
        t = this.paper.set();
        for (var e = 0, i = this.items.length; i > e; e++) t.push(this.items[e].clone());
        return t
    }, fe.toString = function () {
        return "Raphals set"
    }, fe.glow = function (t) {
        var e = this.paper.set();
        return this.forEach(function (i, n) {
            var s = i.glow(t);
            null != s && s.forEach(function (t, i) {
                e.push(t)
            })
        }), e
    }, fe.isPointInside = function (t, e) {
        var i = !1;
        return this.forEach(function (n) {
            return n.isPointInside(t, e) ? (i = !0, !1) : void 0
        }), i
    }, i.registerFont = function (t) {
        if (!t.face) return t;
        this.fonts = this.fonts || {};
        var e = {w: t.w, face: {}, glyphs: {}}, i = t.face["font-family"];
        for (var n in t.face) t.face[D](n) && (e.face[n] = t.face[n]);
        if (this.fonts[i] ? this.fonts[i].push(e) : this.fonts[i] = [e], !t.svg) {
            e.face["units-per-em"] = tt(t.face["units-per-em"], 10);
            for (var s in t.glyphs) if (t.glyphs[D](s)) {
                var o = t.glyphs[s];
                if (e.glyphs[s] = {
                        w: o.w, k: {}, d: o.d && "M" + o.d.replace(/[mlcxtrv]/g, function (t) {
                            return {l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[t] || "M"
                        }) + "z"
                    }, o.k) for (var r in o.k) o[D](r) && (e.glyphs[s].k[r] = o.k[r])
            }
        }
        return t
    }, _.getFont = function (t, e, n, s) {
        if (s = s || "normal", n = n || "normal", e = +e || {
                normal: 400,
                bold: 700,
                lighter: 300,
                bolder: 800
            }[e] || 400, i.fonts) {
            var o = i.fonts[t];
            if (!o) {
                var r = new RegExp("(^|\\s)" + t.replace(/[^\w\d\s+!~.:_-]/g, H) + "(\\s|$)", "i");
                for (var a in i.fonts) if (i.fonts[D](a) && r.test(a)) {
                    o = i.fonts[a];
                    break
                }
            }
            var l;
            if (o) for (var h = 0, u = o.length; u > h && (l = o[h], l.face["font-weight"] != e || l.face["font-style"] != n && l.face["font-style"] || l.face["font-stretch"] != s); h++) ;
            return l
        }
    }, _.print = function (t, e, n, s, o, r, a, l) {
        r = r || "middle", a = B(W(a || 0, 1), -1), l = B(W(l || 1, 3), 1);
        var h, u = A(n)[F](H), c = 0, d = 0, f = H;
        if (i.is(s, "string") && (s = this.getFont(s)), s) {
            h = (o || 16) / s.face["units-per-em"];
            for (var p = s.face.bbox[F](x), g = +p[0], m = p[3] - p[1], v = 0, y = +p[1] + ("baseline" == r ? m + +s.face.descent : m / 2), b = 0, w = u.length; w > b; b++) {
                if ("\n" == u[b]) c = 0, k = 0, d = 0, v += m * l; else {
                    var _ = d && s.glyphs[u[b - 1]] || {}, k = s.glyphs[u[b]];
                    c += d ? (_.w || s.w) + (_.k && _.k[u[b]] || 0) + s.w * a : 0, d = 1
                }
                k && k.d && (f += i.transformPath(k.d, ["t", c * h, v * h, "s", h, h, g, y, "t", (t - g) / h, (e - y) / h]))
            }
        }
        return this.path(f).attr({fill: "#000", stroke: "none"})
    }, _.add = function (t) {
        if (i.is(t, "array")) for (var e, n = this.set(), s = 0, o = t.length; o > s; s++) e = t[s] || {}, k[D](e.type) && n.push(this[e.type]().attr(e));
        return n
    }, i.format = function (t, e) {
        var n = i.is(e, G) ? [0][N](e) : arguments;
        return t && i.is(t, $) && n.length - 1 && (t = t.replace(C, function (t, e) {
            return null == n[++e] ? H : n[e]
        })), t || H
    }, i.fullfill = function () {
        var t = /\{([^\}]+)\}/g, e = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,
            i = function (t, i, n) {
                var s = n;
                return i.replace(e, function (t, e, i, n, o) {
                    e = e || n, s && (e in s && (s = s[e]), "function" == typeof s && o && (s = s()))
                }), s = (null == s || s == n ? t : s) + ""
            };
        return function (e, n) {
            return String(e).replace(t, function (t, e) {
                return i(t, e, n)
            })
        }
    }(), i.ninja = function () {
        return T.was ? S.win.Raphael = T.is : delete Raphael, i
    }, i.st = fe, e.on("raphael.DOMload", function () {
        w = !0
    }), function (t, e, n) {
        function s() {
            /in/.test(t.readyState) ? setTimeout(s, 9) : i.eve("raphael.DOMload")
        }

        null == t.readyState && t.addEventListener && (t.addEventListener(e, n = function () {
            t.removeEventListener(e, n, !1), t.readyState = "complete"
        }, !1), t.readyState = "loading"), s()
    }(document, "DOMContentLoaded"), function () {
        if (i.svg) {
            var t = "hasOwnProperty", e = String, n = parseFloat, s = parseInt, o = Math, r = o.max, a = o.abs,
                l = o.pow, h = /[, ]+/, u = i.eve, c = "", d = " ", f = "http://www.w3.org/1999/xlink", p = {
                    block: "M5,0 0,2.5 5,5z",
                    classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z",
                    diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z",
                    open: "M6,1 1,3.5 6,6",
                    oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"
                }, g = {};
            i.toString = function () {
                return "Your browser supports SVG.\nYou are running Raphal " + this.version
            };
            var m = function (n, s) {
                if (s) {
                    "string" == typeof n && (n = m(n));
                    for (var o in s) s[t](o) && ("xlink:" == o.substring(0, 6) ? n.setAttributeNS(f, o.substring(6), e(s[o])) : n.setAttribute(o, e(s[o])))
                } else n = i._g.doc.createElementNS("http://www.w3.org/2000/svg", n), n.style && (n.style.webkitTapHighlightColor = "rgba(0,0,0,0)");
                return n
            }, v = function (t, s) {
                var h = "linear", u = t.id + s, d = .5, f = .5, p = t.node, g = t.paper, v = p.style,
                    y = i._g.doc.getElementById(u);
                if (!y) {
                    if (s = e(s).replace(i._radial_gradient, function (t, e, i) {
                            if (h = "radial", e && i) {
                                d = n(e), f = n(i);
                                var s = 2 * (f > .5) - 1;
                                l(d - .5, 2) + l(f - .5, 2) > .25 && (f = o.sqrt(.25 - l(d - .5, 2)) * s + .5) && .5 != f && (f = f.toFixed(5) - 1e-5 * s)
                            }
                            return c
                        }), s = s.split(/\s*\-\s*/), "linear" == h) {
                        var b = s.shift();
                        if (b = -n(b), isNaN(b)) return null;
                        var w = [0, 0, o.cos(i.rad(b)), o.sin(i.rad(b))], _ = 1 / (r(a(w[2]), a(w[3])) || 1);
                        w[2] *= _, w[3] *= _, w[2] < 0 && (w[0] = -w[2], w[2] = 0), w[3] < 0 && (w[1] = -w[3], w[3] = 0)
                    }
                    var x = i._parseDots(s);
                    if (!x) return null;
                    if (u = u.replace(/[\(\)\s,\xb0#]/g, "_"), t.gradient && u != t.gradient.id && (g.defs.removeChild(t.gradient), delete t.gradient), !t.gradient) {
                        y = m(h + "Gradient", {id: u}), t.gradient = y, m(y, "radial" == h ? {fx: d, fy: f} : {
                            x1: w[0],
                            y1: w[1],
                            x2: w[2],
                            y2: w[3],
                            gradientTransform: t.matrix.invert()
                        }), g.defs.appendChild(y);
                        for (var k = 0, C = x.length; C > k; k++) y.appendChild(m("stop", {
                            offset: x[k].offset ? x[k].offset : k ? "100%" : "0%",
                            "stop-color": x[k].color || "#fff"
                        }))
                    }
                }
                return m(p, {
                    fill: "url('" + document.location + "#" + u + "')",
                    opacity: 1,
                    "fill-opacity": 1
                }), v.fill = c, v.opacity = 1, v.fillOpacity = 1, 1
            }, y = function (t) {
                var e = t.getBBox(1);
                m(t.pattern, {patternTransform: t.matrix.invert() + " translate(" + e.x + "," + e.y + ")"})
            }, b = function (n, s, o) {
                if ("path" == n.type) {
                    for (var r, a, l, h, u, d = e(s).toLowerCase().split("-"), f = n.paper, v = o ? "end" : "start", y = n.node, b = n.attrs, w = b["stroke-width"], _ = d.length, x = "classic", k = 3, C = 3, D = 5; _--;) switch (d[_]) {
                        case"block":
                        case"classic":
                        case"oval":
                        case"diamond":
                        case"open":
                        case"none":
                            x = d[_];
                            break;
                        case"wide":
                            C = 5;
                            break;
                        case"narrow":
                            C = 2;
                            break;
                        case"long":
                            k = 5;
                            break;
                        case"short":
                            k = 2
                    }
                    if ("open" == x ? (k += 2, C += 2, D += 2, l = 1, h = o ? 4 : 1, u = {
                            fill: "none",
                            stroke: b.stroke
                        }) : (h = l = k / 2, u = {
                            fill: b.stroke,
                            stroke: "none"
                        }), n._.arrows ? o ? (n._.arrows.endPath && g[n._.arrows.endPath]--, n._.arrows.endMarker && g[n._.arrows.endMarker]--) : (n._.arrows.startPath && g[n._.arrows.startPath]--, n._.arrows.startMarker && g[n._.arrows.startMarker]--) : n._.arrows = {}, "none" != x) {
                        var S = "raphael-marker-" + x, T = "raphael-marker-" + v + x + k + C + "-obj" + n.id;
                        i._g.doc.getElementById(S) ? g[S]++ : (f.defs.appendChild(m(m("path"), {
                            "stroke-linecap": "round",
                            d: p[x],
                            id: S
                        })), g[S] = 1);
                        var E, M = i._g.doc.getElementById(T);
                        M ? (g[T]++, E = M.getElementsByTagName("use")[0]) : (M = m(m("marker"), {
                            id: T,
                            markerHeight: C,
                            markerWidth: k,
                            orient: "auto",
                            refX: h,
                            refY: C / 2
                        }), E = m(m("use"), {
                            "xlink:href": "#" + S,
                            transform: (o ? "rotate(180 " + k / 2 + " " + C / 2 + ") " : c) + "scale(" + k / D + "," + C / D + ")",
                            "stroke-width": (1 / ((k / D + C / D) / 2)).toFixed(4)
                        }), M.appendChild(E), f.defs.appendChild(M), g[T] = 1), m(E, u);
                        var N = l * ("diamond" != x && "oval" != x);
                        o ? (r = n._.arrows.startdx * w || 0, a = i.getTotalLength(b.path) - N * w) : (r = N * w, a = i.getTotalLength(b.path) - (n._.arrows.enddx * w || 0)), u = {}, u["marker-" + v] = "url(#" + T + ")", (a || r) && (u.d = i.getSubpath(b.path, r, a)), m(y, u), n._.arrows[v + "Path"] = S, n._.arrows[v + "Marker"] = T, n._.arrows[v + "dx"] = N, n._.arrows[v + "Type"] = x, n._.arrows[v + "String"] = s
                    } else o ? (r = n._.arrows.startdx * w || 0, a = i.getTotalLength(b.path) - r) : (r = 0, a = i.getTotalLength(b.path) - (n._.arrows.enddx * w || 0)), n._.arrows[v + "Path"] && m(y, {d: i.getSubpath(b.path, r, a)}), delete n._.arrows[v + "Path"], delete n._.arrows[v + "Marker"], delete n._.arrows[v + "dx"], delete n._.arrows[v + "Type"], delete n._.arrows[v + "String"];
                    for (u in g) if (g[t](u) && !g[u]) {
                        var I = i._g.doc.getElementById(u);
                        I && I.parentNode.removeChild(I)
                    }
                }
            }, w = {
                "": [0],
                none: [0],
                "-": [3, 1],
                ".": [1, 1],
                "-.": [3, 1, 1, 1],
                "-..": [3, 1, 1, 1, 1, 1],
                ". ": [1, 3],
                "- ": [4, 3],
                "--": [8, 3],
                "- .": [4, 3, 1, 3],
                "--.": [8, 3, 1, 3],
                "--..": [8, 3, 1, 3, 1, 3]
            }, _ = function (t, i, n) {
                if (i = w[e(i).toLowerCase()]) {
                    for (var s = t.attrs["stroke-width"] || "1", o = {
                        round: s,
                        square: s,
                        butt: 0
                    }[t.attrs["stroke-linecap"] || n["stroke-linecap"]] || 0, r = [], a = i.length; a--;) r[a] = i[a] * s + (a % 2 ? 1 : -1) * o;
                    m(t.node, {"stroke-dasharray": r.join(",")})
                }
            }, x = function (n, o) {
                var l = n.node, u = n.attrs, d = l.style.visibility;
                l.style.visibility = "hidden";
                for (var p in o) if (o[t](p)) {
                    if (!i._availableAttrs[t](p)) continue;
                    var g = o[p];
                    switch (u[p] = g, p) {
                        case"blur":
                            n.blur(g);
                            break;
                        case"title":
                            var w = l.getElementsByTagName("title");
                            if (w.length && (w = w[0])) w.firstChild.nodeValue = g; else {
                                w = m("title");
                                var x = i._g.doc.createTextNode(g);
                                w.appendChild(x), l.appendChild(w)
                            }
                            break;
                        case"href":
                        case"target":
                            var k = l.parentNode;
                            if ("a" != k.tagName.toLowerCase()) {
                                var D = m("a");
                                k.insertBefore(D, l), D.appendChild(l), k = D
                            }
                            "target" == p ? k.setAttributeNS(f, "show", "blank" == g ? "new" : g) : k.setAttributeNS(f, p, g);
                            break;
                        case"cursor":
                            l.style.cursor = g;
                            break;
                        case"transform":
                            n.transform(g);
                            break;
                        case"arrow-start":
                            b(n, g);
                            break;
                        case"arrow-end":
                            b(n, g, 1);
                            break;
                        case"clip-rect":
                            var S = e(g).split(h);
                            if (4 == S.length) {
                                n.clip && n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);
                                var T = m("clipPath"), E = m("rect");
                                T.id = i.createUUID(), m(E, {
                                    x: S[0],
                                    y: S[1],
                                    width: S[2],
                                    height: S[3]
                                }), T.appendChild(E), n.paper.defs.appendChild(T), m(l, {"clip-path": "url(#" + T.id + ")"}), n.clip = E
                            }
                            if (!g) {
                                var M = l.getAttribute("clip-path");
                                if (M) {
                                    var N = i._g.doc.getElementById(M.replace(/(^url\(#|\)$)/g, c));
                                    N && N.parentNode.removeChild(N), m(l, {"clip-path": c}), delete n.clip
                                }
                            }
                            break;
                        case"path":
                            "path" == n.type && (m(l, {d: g ? u.path = i._pathToAbsolute(g) : "M0,0"}), n._.dirty = 1, n._.arrows && ("startString" in n._.arrows && b(n, n._.arrows.startString), "endString" in n._.arrows && b(n, n._.arrows.endString, 1)));
                            break;
                        case"width":
                            if (l.setAttribute(p, g), n._.dirty = 1, !u.fx) break;
                            p = "x", g = u.x;
                        case"x":
                            u.fx && (g = -u.x - (u.width || 0));
                        case"rx":
                            if ("rx" == p && "rect" == n.type) break;
                        case"cx":
                            l.setAttribute(p, g), n.pattern && y(n), n._.dirty = 1;
                            break;
                        case"height":
                            if (l.setAttribute(p, g), n._.dirty = 1, !u.fy) break;
                            p = "y", g = u.y;
                        case"y":
                            u.fy && (g = -u.y - (u.height || 0));
                        case"ry":
                            if ("ry" == p && "rect" == n.type) break;
                        case"cy":
                            l.setAttribute(p, g), n.pattern && y(n), n._.dirty = 1;
                            break;
                        case"r":
                            "rect" == n.type ? m(l, {rx: g, ry: g}) : l.setAttribute(p, g), n._.dirty = 1;
                            break;
                        case"src":
                            "image" == n.type && l.setAttributeNS(f, "href", g);
                            break;
                        case"stroke-width":
                            (1 != n._.sx || 1 != n._.sy) && (g /= r(a(n._.sx), a(n._.sy)) || 1), l.setAttribute(p, g), u["stroke-dasharray"] && _(n, u["stroke-dasharray"], o), n._.arrows && ("startString" in n._.arrows && b(n, n._.arrows.startString), "endString" in n._.arrows && b(n, n._.arrows.endString, 1));
                            break;
                        case"stroke-dasharray":
                            _(n, g, o);
                            break;
                        case"fill":
                            var I = e(g).match(i._ISURL);
                            if (I) {
                                T = m("pattern");
                                var H = m("image");
                                T.id = i.createUUID(), m(T, {
                                    x: 0,
                                    y: 0,
                                    patternUnits: "userSpaceOnUse",
                                    height: 1,
                                    width: 1
                                }), m(H, {x: 0, y: 0, "xlink:href": I[1]}), T.appendChild(H), function (t) {
                                    i._preload(I[1], function () {
                                        var e = this.offsetWidth, i = this.offsetHeight;
                                        m(t, {width: e, height: i}), m(H, {width: e, height: i}), n.paper.safari()
                                    })
                                }(T), n.paper.defs.appendChild(T), m(l, {fill: "url(#" + T.id + ")"}), n.pattern = T, n.pattern && y(n);
                                break
                            }
                            var P = i.getRGB(g);
                            if (P.error) {
                                if (("circle" == n.type || "ellipse" == n.type || "r" != e(g).charAt()) && v(n, g)) {
                                    if ("opacity" in u || "fill-opacity" in u) {
                                        var A = i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g, c));
                                        if (A) {
                                            var F = A.getElementsByTagName("stop");
                                            m(F[F.length - 1], {"stop-opacity": ("opacity" in u ? u.opacity : 1) * ("fill-opacity" in u ? u["fill-opacity"] : 1)})
                                        }
                                    }
                                    u.gradient = g, u.fill = "none";
                                    break
                                }
                            } else delete o.gradient, delete u.gradient, !i.is(u.opacity, "undefined") && i.is(o.opacity, "undefined") && m(l, {opacity: u.opacity}), !i.is(u["fill-opacity"], "undefined") && i.is(o["fill-opacity"], "undefined") && m(l, {"fill-opacity": u["fill-opacity"]});
                            P[t]("opacity") && m(l, {"fill-opacity": P.opacity > 1 ? P.opacity / 100 : P.opacity});
                        case"stroke":
                            P = i.getRGB(g), l.setAttribute(p, P.hex), "stroke" == p && P[t]("opacity") && m(l, {"stroke-opacity": P.opacity > 1 ? P.opacity / 100 : P.opacity}), "stroke" == p && n._.arrows && ("startString" in n._.arrows && b(n, n._.arrows.startString), "endString" in n._.arrows && b(n, n._.arrows.endString, 1));
                            break;
                        case"gradient":
                            ("circle" == n.type || "ellipse" == n.type || "r" != e(g).charAt()) && v(n, g);
                            break;
                        case"opacity":
                            u.gradient && !u[t]("stroke-opacity") && m(l, {"stroke-opacity": g > 1 ? g / 100 : g});
                        case"fill-opacity":
                            if (u.gradient) {
                                A = i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g, c)), A && (F = A.getElementsByTagName("stop"), m(F[F.length - 1], {"stop-opacity": g}));
                                break
                            }
                        default:
                            "font-size" == p && (g = s(g, 10) + "px");
                            var R = p.replace(/(\-.)/g, function (t) {
                                return t.substring(1).toUpperCase()
                            });
                            l.style[R] = g, n._.dirty = 1, l.setAttribute(p, g)
                    }
                }
                C(n, o), l.style.visibility = d
            }, k = 1.2, C = function (n, o) {
                if ("text" == n.type && (o[t]("text") || o[t]("font") || o[t]("font-size") || o[t]("x") || o[t]("y"))) {
                    var r = n.attrs, a = n.node,
                        l = a.firstChild ? s(i._g.doc.defaultView.getComputedStyle(a.firstChild, c).getPropertyValue("font-size"), 10) : 10;
                    if (o[t]("text")) {
                        for (r.text = o.text; a.firstChild;) a.removeChild(a.firstChild);
                        for (var h, u = e(o.text).split("\n"), d = [], f = 0, p = u.length; p > f; f++) h = m("tspan"), f && m(h, {
                            dy: l * k,
                            x: r.x
                        }), h.appendChild(i._g.doc.createTextNode(u[f])), a.appendChild(h), d[f] = h
                    } else for (d = a.getElementsByTagName("tspan"), f = 0, p = d.length; p > f; f++) f ? m(d[f], {
                        dy: l * k,
                        x: r.x
                    }) : m(d[0], {dy: 0});
                    m(a, {x: r.x, y: r.y}), n._.dirty = 1;
                    var g = n._getBBox(), v = r.y - (g.y + g.height / 2);
                    v && i.is(v, "finite") && m(d[0], {dy: v})
                }
            }, D = function (t) {
                return t.parentNode && "a" === t.parentNode.tagName.toLowerCase() ? t.parentNode : t
            }, S = function (t, e) {
                this[0] = this.node = t, t.raphael = !0, this.id = i._oid++, t.raphaelid = this.id, this.matrix = i.matrix(), this.realPath = null, this.paper = e, this.attrs = this.attrs || {}, this._ = {
                    transform: [],
                    sx: 1,
                    sy: 1,
                    deg: 0,
                    dx: 0,
                    dy: 0,
                    dirty: 1
                }, !e.bottom && (e.bottom = this), this.prev = e.top, e.top && (e.top.next = this), e.top = this, this.next = null
            }, T = i.el;
            S.prototype = T, T.constructor = S, i._engine.path = function (t, e) {
                var i = m("path");
                e.canvas && e.canvas.appendChild(i);
                var n = new S(i, e);
                return n.type = "path", x(n, {fill: "none", stroke: "#000", path: t}), n
            }, T.rotate = function (t, i, s) {
                if (this.removed) return this;
                if (t = e(t).split(h), t.length - 1 && (i = n(t[1]), s = n(t[2])), t = n(t[0]), null == s && (i = s), null == i || null == s) {
                    var o = this.getBBox(1);
                    i = o.x + o.width / 2, s = o.y + o.height / 2
                }
                return this.transform(this._.transform.concat([["r", t, i, s]])), this
            }, T.scale = function (t, i, s, o) {
                if (this.removed) return this;
                if (t = e(t).split(h), t.length - 1 && (i = n(t[1]), s = n(t[2]), o = n(t[3])), t = n(t[0]), null == i && (i = t), null == o && (s = o), null == s || null == o) var r = this.getBBox(1);
                return s = null == s ? r.x + r.width / 2 : s, o = null == o ? r.y + r.height / 2 : o, this.transform(this._.transform.concat([["s", t, i, s, o]])), this
            }, T.translate = function (t, i) {
                return this.removed ? this : (t = e(t).split(h), t.length - 1 && (i = n(t[1])), t = n(t[0]) || 0, i = +i || 0, this.transform(this._.transform.concat([["t", t, i]])), this)
            }, T.transform = function (e) {
                var n = this._;
                if (null == e) return n.transform;
                if (i._extractTransform(this, e), this.clip && m(this.clip, {transform: this.matrix.invert()}), this.pattern && y(this), this.node && m(this.node, {transform: this.matrix}), 1 != n.sx || 1 != n.sy) {
                    var s = this.attrs[t]("stroke-width") ? this.attrs["stroke-width"] : 1;
                    this.attr({"stroke-width": s})
                }
                return this
            }, T.hide = function () {
                return !this.removed && this.paper.safari(this.node.style.display = "none"), this
            }, T.show = function () {
                return !this.removed && this.paper.safari(this.node.style.display = ""), this
            }, T.remove = function () {
                var t = D(this.node);
                if (!this.removed && t.parentNode) {
                    var e = this.paper;
                    e.__set__ && e.__set__.exclude(this), u.unbind("raphael.*.*." + this.id), this.gradient && e.defs.removeChild(this.gradient), i._tear(this, e), t.parentNode.removeChild(t), this.removeData();
                    for (var n in this) this[n] = "function" == typeof this[n] ? i._removedFactory(n) : null;
                    this.removed = !0
                }
            }, T._getBBox = function () {
                if ("none" == this.node.style.display) {
                    this.show();
                    var t = !0
                }
                var e, i = !1;
                this.paper.canvas.parentElement ? e = this.paper.canvas.parentElement.style : this.paper.canvas.parentNode && (e = this.paper.canvas.parentNode.style), e && "none" == e.display && (i = !0, e.display = "");
                var n = {};
                try {
                    n = this.node.getBBox()
                } catch (s) {
                    n = {
                        x: this.node.clientLeft,
                        y: this.node.clientTop,
                        width: this.node.clientWidth,
                        height: this.node.clientHeight
                    }
                } finally {
                    n = n || {}, i && (e.display = "none")
                }
                return t && this.hide(), n
            }, T.attr = function (e, n) {
                if (this.removed) return this;
                if (null == e) {
                    var s = {};
                    for (var o in this.attrs) this.attrs[t](o) && (s[o] = this.attrs[o]);
                    return s.gradient && "none" == s.fill && (s.fill = s.gradient) && delete s.gradient, s.transform = this._.transform, s
                }
                if (null == n && i.is(e, "string")) {
                    if ("fill" == e && "none" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient;
                    if ("transform" == e) return this._.transform;
                    for (var r = e.split(h), a = {}, l = 0, c = r.length; c > l; l++) e = r[l], e in this.attrs ? a[e] = this.attrs[e] : i.is(this.paper.customAttributes[e], "function") ? a[e] = this.paper.customAttributes[e].def : a[e] = i._availableAttrs[e];
                    return c - 1 ? a : a[r[0]]
                }
                if (null == n && i.is(e, "array")) {
                    for (a = {}, l = 0, c = e.length; c > l; l++) a[e[l]] = this.attr(e[l]);
                    return a
                }
                if (null != n) {
                    var d = {};
                    d[e] = n
                } else null != e && i.is(e, "object") && (d = e);
                for (var f in d) u("raphael.attr." + f + "." + this.id, this, d[f]);
                for (f in this.paper.customAttributes) if (this.paper.customAttributes[t](f) && d[t](f) && i.is(this.paper.customAttributes[f], "function")) {
                    var p = this.paper.customAttributes[f].apply(this, [].concat(d[f]));
                    this.attrs[f] = d[f];
                    for (var g in p) p[t](g) && (d[g] = p[g])
                }
                return x(this, d), this
            }, T.toFront = function () {
                if (this.removed) return this;
                var t = D(this.node);
                t.parentNode.appendChild(t);
                var e = this.paper;
                return e.top != this && i._tofront(this, e), this
            }, T.toBack = function () {
                if (this.removed) return this;
                var t = D(this.node), e = t.parentNode;
                e.insertBefore(t, e.firstChild), i._toback(this, this.paper);
                this.paper;
                return this
            }, T.insertAfter = function (t) {
                if (this.removed || !t) return this;
                var e = D(this.node), n = D(t.node || t[t.length - 1].node);
                return n.nextSibling ? n.parentNode.insertBefore(e, n.nextSibling) : n.parentNode.appendChild(e), i._insertafter(this, t, this.paper), this
            }, T.insertBefore = function (t) {
                if (this.removed || !t) return this;
                var e = D(this.node), n = D(t.node || t[0].node);
                return n.parentNode.insertBefore(e, n), i._insertbefore(this, t, this.paper), this
            }, T.blur = function (t) {
                var e = this;
                if (0 !== +t) {
                    var n = m("filter"), s = m("feGaussianBlur");
                    e.attrs.blur = t, n.id = i.createUUID(), m(s, {stdDeviation: +t || 1.5}), n.appendChild(s), e.paper.defs.appendChild(n), e._blur = n, m(e.node, {filter: "url(#" + n.id + ")"})
                } else e._blur && (e._blur.parentNode.removeChild(e._blur), delete e._blur, delete e.attrs.blur), e.node.removeAttribute("filter");
                return e
            }, i._engine.circle = function (t, e, i, n) {
                var s = m("circle");
                t.canvas && t.canvas.appendChild(s);
                var o = new S(s, t);
                return o.attrs = {cx: e, cy: i, r: n, fill: "none", stroke: "#000"}, o.type = "circle", m(s, o.attrs), o
            }, i._engine.rect = function (t, e, i, n, s, o) {
                var r = m("rect");
                t.canvas && t.canvas.appendChild(r);
                var a = new S(r, t);
                return a.attrs = {
                    x: e,
                    y: i,
                    width: n,
                    height: s,
                    rx: o || 0,
                    ry: o || 0,
                    fill: "none",
                    stroke: "#000"
                }, a.type = "rect", m(r, a.attrs), a
            }, i._engine.ellipse = function (t, e, i, n, s) {
                var o = m("ellipse");
                t.canvas && t.canvas.appendChild(o);
                var r = new S(o, t);
                return r.attrs = {
                    cx: e,
                    cy: i,
                    rx: n,
                    ry: s,
                    fill: "none",
                    stroke: "#000"
                }, r.type = "ellipse", m(o, r.attrs), r
            }, i._engine.image = function (t, e, i, n, s, o) {
                var r = m("image");
                m(r, {
                    x: i,
                    y: n,
                    width: s,
                    height: o,
                    preserveAspectRatio: "none"
                }), r.setAttributeNS(f, "href", e), t.canvas && t.canvas.appendChild(r);
                var a = new S(r, t);
                return a.attrs = {x: i, y: n, width: s, height: o, src: e}, a.type = "image", a
            }, i._engine.text = function (t, e, n, s) {
                var o = m("text");
                t.canvas && t.canvas.appendChild(o);
                var r = new S(o, t);
                return r.attrs = {
                    x: e,
                    y: n,
                    "text-anchor": "middle",
                    text: s,
                    "font-family": i._availableAttrs["font-family"],
                    "font-size": i._availableAttrs["font-size"],
                    stroke: "none",
                    fill: "#000"
                }, r.type = "text", x(r, r.attrs), r
            }, i._engine.setSize = function (t, e) {
                return this.width = t || this.width, this.height = e || this.height, this.canvas.setAttribute("width", this.width), this.canvas.setAttribute("height", this.height), this._viewBox && this.setViewBox.apply(this, this._viewBox), this
            }, i._engine.create = function () {
                var t = i._getContainer.apply(0, arguments), e = t && t.container, n = t.x, s = t.y, o = t.width,
                    r = t.height;
                if (!e) throw new Error("SVG container not found.");
                var a, l = m("svg"), h = "overflow:hidden;";
                return n = n || 0, s = s || 0, o = o || 512, r = r || 342, m(l, {
                    height: r,
                    version: 1.1,
                    width: o,
                    xmlns: "http://www.w3.org/2000/svg",
                    "xmlns:xlink": "http://www.w3.org/1999/xlink"
                }), 1 == e ? (l.style.cssText = h + "position:absolute;left:" + n + "px;top:" + s + "px", i._g.doc.body.appendChild(l), a = 1) : (l.style.cssText = h + "position:relative", e.firstChild ? e.insertBefore(l, e.firstChild) : e.appendChild(l)), e = new i._Paper, e.width = o, e.height = r, e.canvas = l, e.clear(), e._left = e._top = 0, a && (e.renderfix = function () {
                }), e.renderfix(), e
            }, i._engine.setViewBox = function (t, e, i, n, s) {
                u("raphael.setViewBox", this, this._viewBox, [t, e, i, n, s]);
                var o, a, l = this.getSize(), h = r(i / l.width, n / l.height), c = this.top,
                    f = s ? "xMidYMid meet" : "xMinYMin";
                for (null == t ? (this._vbSize && (h = 1), delete this._vbSize, o = "0 0 " + this.width + d + this.height) : (this._vbSize = h, o = t + d + e + d + i + d + n), m(this.canvas, {
                    viewBox: o,
                    preserveAspectRatio: f
                }); h && c;) a = "stroke-width" in c.attrs ? c.attrs["stroke-width"] : 1, c.attr({"stroke-width": a}), c._.dirty = 1, c._.dirtyT = 1, c = c.prev;
                return this._viewBox = [t, e, i, n, !!s], this
            }, i.prototype.renderfix = function () {
                var t, e = this.canvas, i = e.style;
                try {
                    t = e.getScreenCTM() || e.createSVGMatrix()
                } catch (n) {
                    t = e.createSVGMatrix()
                }
                var s = -t.e % 1, o = -t.f % 1;
                (s || o) && (s && (this._left = (this._left + s) % 1, i.left = this._left + "px"), o && (this._top = (this._top + o) % 1, i.top = this._top + "px"))
            }, i.prototype.clear = function () {
                i.eve("raphael.clear", this);
                for (var t = this.canvas; t.firstChild;) t.removeChild(t.firstChild);
                this.bottom = this.top = null, (this.desc = m("desc")).appendChild(i._g.doc.createTextNode("Created with Raphal " + i.version)), t.appendChild(this.desc), t.appendChild(this.defs = m("defs"))
            }, i.prototype.remove = function () {
                u("raphael.remove", this), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);
                for (var t in this) this[t] = "function" == typeof this[t] ? i._removedFactory(t) : null
            };
            var E = i.st;
            for (var M in T) T[t](M) && !E[t](M) && (E[M] = function (t) {
                return function () {
                    var e = arguments;
                    return this.forEach(function (i) {
                        i[t].apply(i, e)
                    })
                }
            }(M))
        }
    }(), function () {
        if (i.vml) {
            var t = "hasOwnProperty", e = String, n = parseFloat, s = Math, o = s.round, r = s.max, a = s.min,
                l = s.abs, h = "fill", u = /[, ]+/, c = i.eve, d = " progid:DXImageTransform.Microsoft", f = " ",
                p = "", g = {M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x"},
                m = /([clmz]),?([^clmz]*)/gi, v = / progid:\S+Blur\([^\)]+\)/g, y = /-?[^,\s-]+/g,
                b = "position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)", w = 21600,
                _ = {path: 1, rect: 1, image: 1}, x = {circle: 1, ellipse: 1}, k = function (t) {
                    var n = /[ahqstv]/gi, s = i._pathToAbsolute;
                    if (e(t).match(n) && (s = i._path2curve), n = /[clmz]/g, s == i._pathToAbsolute && !e(t).match(n)) {
                        var r = e(t).replace(m, function (t, e, i) {
                            var n = [], s = "m" == e.toLowerCase(), r = g[e];
                            return i.replace(y, function (t) {
                                s && 2 == n.length && (r += n + g["m" == e ? "l" : "L"], n = []), n.push(o(t * w))
                            }), r + n
                        });
                        return r
                    }
                    var a, l, h = s(t);
                    r = [];
                    for (var u = 0, c = h.length; c > u; u++) {
                        a = h[u], l = h[u][0].toLowerCase(), "z" == l && (l = "x");
                        for (var d = 1, v = a.length; v > d; d++) l += o(a[d] * w) + (d != v - 1 ? "," : p);
                        r.push(l)
                    }
                    return r.join(f)
                }, C = function (t, e, n) {
                    var s = i.matrix();
                    return s.rotate(-t, .5, .5), {dx: s.x(e, n), dy: s.y(e, n)}
                }, D = function (t, e, i, n, s, o) {
                    var r = t._, a = t.matrix, u = r.fillpos, c = t.node, d = c.style, p = 1, g = "", m = w / e, v = w / i;
                    if (d.visibility = "hidden", e && i) {
                        if (c.coordsize = l(m) + f + l(v), d.rotation = o * (0 > e * i ? -1 : 1), o) {
                            var y = C(o, n, s);
                            n = y.dx, s = y.dy
                        }
                        if (0 > e && (g += "x"), 0 > i && (g += " y") && (p = -1), d.flip = g, c.coordorigin = n * -m + f + s * -v, u || r.fillsize) {
                            var b = c.getElementsByTagName(h);
                            b = b && b[0], c.removeChild(b), u && (y = C(o, a.x(u[0], u[1]), a.y(u[0], u[1])), b.position = y.dx * p + f + y.dy * p), r.fillsize && (b.size = r.fillsize[0] * l(e) + f + r.fillsize[1] * l(i)), c.appendChild(b)
                        }
                        d.visibility = "visible"
                    }
                };
            i.toString = function () {
                return "Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal " + this.version
            };
            var S = function (t, i, n) {
                for (var s = e(i).toLowerCase().split("-"), o = n ? "end" : "start", r = s.length, a = "classic", l = "medium", h = "medium"; r--;) switch (s[r]) {
                    case"block":
                    case"classic":
                    case"oval":
                    case"diamond":
                    case"open":
                    case"none":
                        a = s[r];
                        break;
                    case"wide":
                    case"narrow":
                        h = s[r];
                        break;
                    case"long":
                    case"short":
                        l = s[r]
                }
                var u = t.node.getElementsByTagName("stroke")[0];
                u[o + "arrow"] = a, u[o + "arrowlength"] = l, u[o + "arrowwidth"] = h
            }, T = function (s, l) {
                s.attrs = s.attrs || {};
                var c = s.node, d = s.attrs, g = c.style,
                    m = _[s.type] && (l.x != d.x || l.y != d.y || l.width != d.width || l.height != d.height || l.cx != d.cx || l.cy != d.cy || l.rx != d.rx || l.ry != d.ry || l.r != d.r),
                    v = x[s.type] && (d.cx != l.cx || d.cy != l.cy || d.r != l.r || d.rx != l.rx || d.ry != l.ry),
                    y = s;
                for (var b in l) l[t](b) && (d[b] = l[b]);
                if (m && (d.path = i._getPath[s.type](s), s._.dirty = 1), l.href && (c.href = l.href), l.title && (c.title = l.title), l.target && (c.target = l.target), l.cursor && (g.cursor = l.cursor), "blur" in l && s.blur(l.blur), (l.path && "path" == s.type || m) && (c.path = k(~e(d.path).toLowerCase().indexOf("r") ? i._pathToAbsolute(d.path) : d.path), s._.dirty = 1, "image" == s.type && (s._.fillpos = [d.x, d.y], s._.fillsize = [d.width, d.height], D(s, 1, 1, 0, 0, 0))), "transform" in l && s.transform(l.transform), v) {
                    var C = +d.cx, T = +d.cy, M = +d.rx || +d.r || 0, N = +d.ry || +d.r || 0;
                    c.path = i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", o((C - M) * w), o((T - N) * w), o((C + M) * w), o((T + N) * w), o(C * w)), s._.dirty = 1
                }
                if ("clip-rect" in l) {
                    var H = e(l["clip-rect"]).split(u);
                    if (4 == H.length) {
                        H[2] = +H[2] + +H[0], H[3] = +H[3] + +H[1];
                        var P = c.clipRect || i._g.doc.createElement("div"), A = P.style;
                        A.clip = i.format("rect({1}px {2}px {3}px {0}px)", H), c.clipRect || (A.position = "absolute", A.top = 0, A.left = 0, A.width = s.paper.width + "px", A.height = s.paper.height + "px", c.parentNode.insertBefore(P, c), P.appendChild(c), c.clipRect = P)
                    }
                    l["clip-rect"] || c.clipRect && (c.clipRect.style.clip = "auto")
                }
                if (s.textpath) {
                    var F = s.textpath.style;
                    l.font && (F.font = l.font), l["font-family"] && (F.fontFamily = '"' + l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, p) + '"'), l["font-size"] && (F.fontSize = l["font-size"]), l["font-weight"] && (F.fontWeight = l["font-weight"]), l["font-style"] && (F.fontStyle = l["font-style"])
                }
                if ("arrow-start" in l && S(y, l["arrow-start"]), "arrow-end" in l && S(y, l["arrow-end"], 1), null != l.opacity || null != l["stroke-width"] || null != l.fill || null != l.src || null != l.stroke || null != l["stroke-width"] || null != l["stroke-opacity"] || null != l["fill-opacity"] || null != l["stroke-dasharray"] || null != l["stroke-miterlimit"] || null != l["stroke-linejoin"] || null != l["stroke-linecap"]) {
                    var R = c.getElementsByTagName(h), z = !1;
                    if (R = R && R[0], !R && (z = R = I(h)), "image" == s.type && l.src && (R.src = l.src), l.fill && (R.on = !0), (null == R.on || "none" == l.fill || null === l.fill) && (R.on = !1), R.on && l.fill) {
                        var O = e(l.fill).match(i._ISURL);
                        if (O) {
                            R.parentNode == c && c.removeChild(R), R.rotate = !0, R.src = O[1], R.type = "tile";
                            var L = s.getBBox(1);
                            R.position = L.x + f + L.y, s._.fillpos = [L.x, L.y], i._preload(O[1], function () {
                                s._.fillsize = [this.offsetWidth, this.offsetHeight]
                            })
                        } else R.color = i.getRGB(l.fill).hex, R.src = p, R.type = "solid", i.getRGB(l.fill).error && (y.type in {
                            circle: 1,
                            ellipse: 1
                        } || "r" != e(l.fill).charAt()) && E(y, l.fill, R) && (d.fill = "none", d.gradient = l.fill, R.rotate = !1)
                    }
                    if ("fill-opacity" in l || "opacity" in l) {
                        var B = ((+d["fill-opacity"] + 1 || 2) - 1) * ((+d.opacity + 1 || 2) - 1) * ((+i.getRGB(l.fill).o + 1 || 2) - 1);
                        B = a(r(B, 0), 1), R.opacity = B, R.src && (R.color = "none")
                    }
                    c.appendChild(R);
                    var W = c.getElementsByTagName("stroke") && c.getElementsByTagName("stroke")[0], Y = !1;
                    !W && (Y = W = I("stroke")), (l.stroke && "none" != l.stroke || l["stroke-width"] || null != l["stroke-opacity"] || l["stroke-dasharray"] || l["stroke-miterlimit"] || l["stroke-linejoin"] || l["stroke-linecap"]) && (W.on = !0), ("none" == l.stroke || null === l.stroke || null == W.on || 0 == l.stroke || 0 == l["stroke-width"]) && (W.on = !1);
                    var U = i.getRGB(l.stroke);
                    W.on && l.stroke && (W.color = U.hex), B = ((+d["stroke-opacity"] + 1 || 2) - 1) * ((+d.opacity + 1 || 2) - 1) * ((+U.o + 1 || 2) - 1);
                    var j = .75 * (n(l["stroke-width"]) || 1);
                    if (B = a(r(B, 0), 1), null == l["stroke-width"] && (j = d["stroke-width"]), l["stroke-width"] && (W.weight = j), j && 1 > j && (B *= j) && (W.weight = 1), W.opacity = B, l["stroke-linejoin"] && (W.joinstyle = l["stroke-linejoin"] || "miter"), W.miterlimit = l["stroke-miterlimit"] || 8, l["stroke-linecap"] && (W.endcap = "butt" == l["stroke-linecap"] ? "flat" : "square" == l["stroke-linecap"] ? "square" : "round"), "stroke-dasharray" in l) {
                        var V = {
                            "-": "shortdash",
                            ".": "shortdot",
                            "-.": "shortdashdot",
                            "-..": "shortdashdotdot",
                            ". ": "dot",
                            "- ": "dash",
                            "--": "longdash",
                            "- .": "dashdot",
                            "--.": "longdashdot",
                            "--..": "longdashdotdot"
                        };
                        W.dashstyle = V[t](l["stroke-dasharray"]) ? V[l["stroke-dasharray"]] : p
                    }
                    Y && c.appendChild(W)
                }
                if ("text" == y.type) {
                    y.paper.canvas.style.display = p;
                    var $ = y.paper.span, G = 100, q = d.font && d.font.match(/\d+(?:\.\d*)?(?=px)/);
                    g = $.style, d.font && (g.font = d.font), d["font-family"] && (g.fontFamily = d["font-family"]), d["font-weight"] && (g.fontWeight = d["font-weight"]), d["font-style"] && (g.fontStyle = d["font-style"]), q = n(d["font-size"] || q && q[0]) || 10, g.fontSize = q * G + "px", y.textpath.string && ($.innerHTML = e(y.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>"));
                    var K = $.getBoundingClientRect();
                    y.W = d.w = (K.right - K.left) / G, y.H = d.h = (K.bottom - K.top) / G, y.X = d.x, y.Y = d.y + y.H / 2, ("x" in l || "y" in l) && (y.path.v = i.format("m{0},{1}l{2},{1}", o(d.x * w), o(d.y * w), o(d.x * w) + 1));
                    for (var X = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"], Z = 0, Q = X.length; Q > Z; Z++) if (X[Z] in l) {
                        y._.dirty = 1;
                        break
                    }
                    switch (d["text-anchor"]) {
                        case"start":
                            y.textpath.style["v-text-align"] = "left", y.bbx = y.W / 2;
                            break;
                        case"end":
                            y.textpath.style["v-text-align"] = "right", y.bbx = -y.W / 2;
                            break;
                        default:
                            y.textpath.style["v-text-align"] = "center", y.bbx = 0
                    }
                    y.textpath.style["v-text-kern"] = !0
                }
            }, E = function (t, o, r) {
                t.attrs = t.attrs || {};
                var a = (t.attrs, Math.pow), l = "linear", h = ".5 .5";
                if (t.attrs.gradient = o, o = e(o).replace(i._radial_gradient, function (t, e, i) {
                        return l = "radial", e && i && (e = n(e), i = n(i), a(e - .5, 2) + a(i - .5, 2) > .25 && (i = s.sqrt(.25 - a(e - .5, 2)) * (2 * (i > .5) - 1) + .5), h = e + f + i), p
                    }), o = o.split(/\s*\-\s*/), "linear" == l) {
                    var u = o.shift();
                    if (u = -n(u), isNaN(u)) return null
                }
                var c = i._parseDots(o);
                if (!c) return null;
                if (t = t.shape || t.node, c.length) {
                    t.removeChild(r), r.on = !0, r.method = "none", r.color = c[0].color, r.color2 = c[c.length - 1].color;
                    for (var d = [], g = 0, m = c.length; m > g; g++) c[g].offset && d.push(c[g].offset + f + c[g].color);
                    r.colors = d.length ? d.join() : "0% " + r.color, "radial" == l ? (r.type = "gradientTitle", r.focus = "100%", r.focussize = "0 0", r.focusposition = h, r.angle = 0) : (r.type = "gradient", r.angle = (270 - u) % 360), t.appendChild(r)
                }
                return 1
            }, M = function (t, e) {
                this[0] = this.node = t, t.raphael = !0, this.id = i._oid++, t.raphaelid = this.id, this.X = 0, this.Y = 0, this.attrs = {}, this.paper = e, this.matrix = i.matrix(), this._ = {
                    transform: [],
                    sx: 1,
                    sy: 1,
                    dx: 0,
                    dy: 0,
                    deg: 0,
                    dirty: 1,
                    dirtyT: 1
                }, !e.bottom && (e.bottom = this), this.prev = e.top, e.top && (e.top.next = this), e.top = this, this.next = null
            }, N = i.el;
            M.prototype = N, N.constructor = M, N.transform = function (t) {
                if (null == t) return this._.transform;
                var n, s = this.paper._viewBoxShift, o = s ? "s" + [s.scale, s.scale] + "-1-1t" + [s.dx, s.dy] : p;
                s && (n = t = e(t).replace(/\.{3}|\u2026/g, this._.transform || p)), i._extractTransform(this, o + t);
                var r, a = this.matrix.clone(), l = this.skew, h = this.node, u = ~e(this.attrs.fill).indexOf("-"),
                    c = !e(this.attrs.fill).indexOf("url(");
                if (a.translate(1, 1), c || u || "image" == this.type) if (l.matrix = "1 0 0 1", l.offset = "0 0", r = a.split(), u && r.noRotation || !r.isSimple) {
                    h.style.filter = a.toFilter();
                    var d = this.getBBox(), g = this.getBBox(1), m = d.x - g.x, v = d.y - g.y;
                    h.coordorigin = m * -w + f + v * -w, D(this, 1, 1, m, v, 0)
                } else h.style.filter = p, D(this, r.scalex, r.scaley, r.dx, r.dy, r.rotate); else h.style.filter = p, l.matrix = e(a), l.offset = a.offset();
                return null !== n && (this._.transform = n, i._extractTransform(this, n)), this
            }, N.rotate = function (t, i, s) {
                if (this.removed) return this;
                if (null != t) {
                    if (t = e(t).split(u), t.length - 1 && (i = n(t[1]), s = n(t[2])), t = n(t[0]), null == s && (i = s), null == i || null == s) {
                        var o = this.getBBox(1);
                        i = o.x + o.width / 2, s = o.y + o.height / 2
                    }
                    return this._.dirtyT = 1, this.transform(this._.transform.concat([["r", t, i, s]])), this
                }
            }, N.translate = function (t, i) {
                return this.removed ? this : (t = e(t).split(u), t.length - 1 && (i = n(t[1])), t = n(t[0]) || 0, i = +i || 0, this._.bbox && (this._.bbox.x += t, this._.bbox.y += i), this.transform(this._.transform.concat([["t", t, i]])), this)
            }, N.scale = function (t, i, s, o) {
                if (this.removed) return this;
                if (t = e(t).split(u), t.length - 1 && (i = n(t[1]), s = n(t[2]), o = n(t[3]), isNaN(s) && (s = null), isNaN(o) && (o = null)), t = n(t[0]), null == i && (i = t), null == o && (s = o), null == s || null == o) var r = this.getBBox(1);
                return s = null == s ? r.x + r.width / 2 : s, o = null == o ? r.y + r.height / 2 : o, this.transform(this._.transform.concat([["s", t, i, s, o]])), this._.dirtyT = 1, this
            }, N.hide = function () {
                return !this.removed && (this.node.style.display = "none"), this
            }, N.show = function () {
                return !this.removed && (this.node.style.display = p), this
            }, N.auxGetBBox = i.el.getBBox, N.getBBox = function () {
                var t = this.auxGetBBox();
                if (this.paper && this.paper._viewBoxShift) {
                    var e = {}, i = 1 / this.paper._viewBoxShift.scale;
                    return e.x = t.x - this.paper._viewBoxShift.dx, e.x *= i, e.y = t.y - this.paper._viewBoxShift.dy, e.y *= i, e.width = t.width * i, e.height = t.height * i, e.x2 = e.x + e.width, e.y2 = e.y + e.height, e
                }
                return t
            }, N._getBBox = function () {
                return this.removed ? {} : {
                    x: this.X + (this.bbx || 0) - this.W / 2,
                    y: this.Y - this.H,
                    width: this.W,
                    height: this.H
                }
            }, N.remove = function () {
                if (!this.removed && this.node.parentNode) {
                    this.paper.__set__ && this.paper.__set__.exclude(this), i.eve.unbind("raphael.*.*." + this.id), i._tear(this, this.paper),
                        this.node.parentNode.removeChild(this.node), this.shape && this.shape.parentNode.removeChild(this.shape);
                    for (var t in this) this[t] = "function" == typeof this[t] ? i._removedFactory(t) : null;
                    this.removed = !0
                }
            }, N.attr = function (e, n) {
                if (this.removed) return this;
                if (null == e) {
                    var s = {};
                    for (var o in this.attrs) this.attrs[t](o) && (s[o] = this.attrs[o]);
                    return s.gradient && "none" == s.fill && (s.fill = s.gradient) && delete s.gradient, s.transform = this._.transform, s
                }
                if (null == n && i.is(e, "string")) {
                    if (e == h && "none" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient;
                    for (var r = e.split(u), a = {}, l = 0, d = r.length; d > l; l++) e = r[l], e in this.attrs ? a[e] = this.attrs[e] : i.is(this.paper.customAttributes[e], "function") ? a[e] = this.paper.customAttributes[e].def : a[e] = i._availableAttrs[e];
                    return d - 1 ? a : a[r[0]]
                }
                if (this.attrs && null == n && i.is(e, "array")) {
                    for (a = {}, l = 0, d = e.length; d > l; l++) a[e[l]] = this.attr(e[l]);
                    return a
                }
                var f;
                null != n && (f = {}, f[e] = n), null == n && i.is(e, "object") && (f = e);
                for (var p in f) c("raphael.attr." + p + "." + this.id, this, f[p]);
                if (f) {
                    for (p in this.paper.customAttributes) if (this.paper.customAttributes[t](p) && f[t](p) && i.is(this.paper.customAttributes[p], "function")) {
                        var g = this.paper.customAttributes[p].apply(this, [].concat(f[p]));
                        this.attrs[p] = f[p];
                        for (var m in g) g[t](m) && (f[m] = g[m])
                    }
                    f.text && "text" == this.type && (this.textpath.string = f.text), T(this, f)
                }
                return this
            }, N.toFront = function () {
                return !this.removed && this.node.parentNode.appendChild(this.node), this.paper && this.paper.top != this && i._tofront(this, this.paper), this
            }, N.toBack = function () {
                return this.removed ? this : (this.node.parentNode.firstChild != this.node && (this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild), i._toback(this, this.paper)), this)
            }, N.insertAfter = function (t) {
                return this.removed ? this : (t.constructor == i.st.constructor && (t = t[t.length - 1]), t.node.nextSibling ? t.node.parentNode.insertBefore(this.node, t.node.nextSibling) : t.node.parentNode.appendChild(this.node), i._insertafter(this, t, this.paper), this)
            }, N.insertBefore = function (t) {
                return this.removed ? this : (t.constructor == i.st.constructor && (t = t[0]), t.node.parentNode.insertBefore(this.node, t.node), i._insertbefore(this, t, this.paper), this)
            }, N.blur = function (t) {
                var e = this.node.runtimeStyle, n = e.filter;
                return n = n.replace(v, p), 0 !== +t ? (this.attrs.blur = t, e.filter = n + f + d + ".Blur(pixelradius=" + (+t || 1.5) + ")", e.margin = i.format("-{0}px 0 0 -{0}px", o(+t || 1.5))) : (e.filter = n, e.margin = 0, delete this.attrs.blur), this
            }, i._engine.path = function (t, e) {
                var i = I("shape");
                i.style.cssText = b, i.coordsize = w + f + w, i.coordorigin = e.coordorigin;
                var n = new M(i, e), s = {fill: "none", stroke: "#000"};
                t && (s.path = t), n.type = "path", n.path = [], n.Path = p, T(n, s), e.canvas.appendChild(i);
                var o = I("skew");
                return o.on = !0, i.appendChild(o), n.skew = o, n.transform(p), n
            }, i._engine.rect = function (t, e, n, s, o, r) {
                var a = i._rectPath(e, n, s, o, r), l = t.path(a), h = l.attrs;
                return l.X = h.x = e, l.Y = h.y = n, l.W = h.width = s, l.H = h.height = o, h.r = r, h.path = a, l.type = "rect", l
            }, i._engine.ellipse = function (t, e, i, n, s) {
                var o = t.path();
                o.attrs;
                return o.X = e - n, o.Y = i - s, o.W = 2 * n, o.H = 2 * s, o.type = "ellipse", T(o, {
                    cx: e,
                    cy: i,
                    rx: n,
                    ry: s
                }), o
            }, i._engine.circle = function (t, e, i, n) {
                var s = t.path();
                s.attrs;
                return s.X = e - n, s.Y = i - n, s.W = s.H = 2 * n, s.type = "circle", T(s, {cx: e, cy: i, r: n}), s
            }, i._engine.image = function (t, e, n, s, o, r) {
                var a = i._rectPath(n, s, o, r), l = t.path(a).attr({stroke: "none"}), u = l.attrs, c = l.node,
                    d = c.getElementsByTagName(h)[0];
                return u.src = e, l.X = u.x = n, l.Y = u.y = s, l.W = u.width = o, l.H = u.height = r, u.path = a, l.type = "image", d.parentNode == c && c.removeChild(d), d.rotate = !0, d.src = e, d.type = "tile", l._.fillpos = [n, s], l._.fillsize = [o, r], c.appendChild(d), D(l, 1, 1, 0, 0, 0), l
            }, i._engine.text = function (t, n, s, r) {
                var a = I("shape"), l = I("path"), h = I("textpath");
                n = n || 0, s = s || 0, r = r || "", l.v = i.format("m{0},{1}l{2},{1}", o(n * w), o(s * w), o(n * w) + 1), l.textpathok = !0, h.string = e(r), h.on = !0, a.style.cssText = b, a.coordsize = w + f + w, a.coordorigin = "0 0";
                var u = new M(a, t), c = {fill: "#000", stroke: "none", font: i._availableAttrs.font, text: r};
                u.shape = a, u.path = l, u.textpath = h, u.type = "text", u.attrs.text = e(r), u.attrs.x = n, u.attrs.y = s, u.attrs.w = 1, u.attrs.h = 1, T(u, c), a.appendChild(h), a.appendChild(l), t.canvas.appendChild(a);
                var d = I("skew");
                return d.on = !0, a.appendChild(d), u.skew = d, u.transform(p), u
            }, i._engine.setSize = function (t, e) {
                var n = this.canvas.style;
                return this.width = t, this.height = e, t == +t && (t += "px"), e == +e && (e += "px"), n.width = t, n.height = e, n.clip = "rect(0 " + t + " " + e + " 0)", this._viewBox && i._engine.setViewBox.apply(this, this._viewBox), this
            }, i._engine.setViewBox = function (t, e, n, s, o) {
                i.eve("raphael.setViewBox", this, this._viewBox, [t, e, n, s, o]);
                var r, a, l = this.getSize(), h = l.width, u = l.height;
                return o && (r = u / s, a = h / n, h > n * r && (t -= (h - n * r) / 2 / r), u > s * a && (e -= (u - s * a) / 2 / a)), this._viewBox = [t, e, n, s, !!o], this._viewBoxShift = {
                    dx: -t,
                    dy: -e,
                    scale: l
                }, this.forEach(function (t) {
                    t.transform("...")
                }), this
            };
            var I;
            i._engine.initWin = function (t) {
                var e = t.document;
                e.styleSheets.length < 31 ? e.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)") : e.styleSheets[0].addRule(".rvml", "behavior:url(#default#VML)");
                try {
                    !e.namespaces.rvml && e.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"), I = function (t) {
                        return e.createElement("<rvml:" + t + ' class="rvml">')
                    }
                } catch (i) {
                    I = function (t) {
                        return e.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')
                    }
                }
            }, i._engine.initWin(i._g.win), i._engine.create = function () {
                var t = i._getContainer.apply(0, arguments), e = t.container, n = t.height, s = t.width, o = t.x,
                    r = t.y;
                if (!e) throw new Error("VML container not found.");
                var a = new i._Paper, l = a.canvas = i._g.doc.createElement("div"), h = l.style;
                return o = o || 0, r = r || 0, s = s || 512, n = n || 342, a.width = s, a.height = n, s == +s && (s += "px"), n == +n && (n += "px"), a.coordsize = 1e3 * w + f + 1e3 * w, a.coordorigin = "0 0", a.span = i._g.doc.createElement("span"), a.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;", l.appendChild(a.span), h.cssText = i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", s, n), 1 == e ? (i._g.doc.body.appendChild(l), h.left = o + "px", h.top = r + "px", h.position = "absolute") : e.firstChild ? e.insertBefore(l, e.firstChild) : e.appendChild(l), a.renderfix = function () {
                }, a
            }, i.prototype.clear = function () {
                i.eve("raphael.clear", this), this.canvas.innerHTML = p, this.span = i._g.doc.createElement("span"), this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;", this.canvas.appendChild(this.span), this.bottom = this.top = null
            }, i.prototype.remove = function () {
                i.eve("raphael.remove", this), this.canvas.parentNode.removeChild(this.canvas);
                for (var t in this) this[t] = "function" == typeof this[t] ? i._removedFactory(t) : null;
                return !0
            };
            var H = i.st;
            for (var P in N) N[t](P) && !H[t](P) && (H[P] = function (t) {
                return function () {
                    var e = arguments;
                    return this.forEach(function (i) {
                        i[t].apply(i, e)
                    })
                }
            }(P))
        }
    }(), T.was ? S.win.Raphael = i : Raphael = i, "object" == typeof exports && (module.exports = i), i
}), function () {
    var t, e, i, n, s = [].slice, o = function (t, e) {
        return function () {
            return t.apply(e, arguments)
        }
    }, r = {}.hasOwnProperty, a = function (t, e) {
        function i() {
            this.constructor = t
        }

        for (var n in e) r.call(e, n) && (t[n] = e[n]);
        return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t
    }, l = [].indexOf || function (t) {
        for (var e = 0, i = this.length; i > e; e++) if (e in this && this[e] === t) return e;
        return -1
    };
    e = window.Morris = {}, t = jQuery, e.EventEmitter = function () {
        function t() {
        }

        return t.prototype.on = function (t, e) {
            return null == this.handlers && (this.handlers = {}), null == this.handlers[t] && (this.handlers[t] = []), this.handlers[t].push(e), this
        }, t.prototype.fire = function () {
            var t, e, i, n, o, r, a;
            if (i = arguments[0], t = 2 <= arguments.length ? s.call(arguments, 1) : [], null != this.handlers && null != this.handlers[i]) {
                for (r = this.handlers[i], a = [], n = 0, o = r.length; o > n; n++) e = r[n], a.push(e.apply(null, t));
                return a
            }
        }, t
    }(), e.commas = function (t) {
        var e, i, n, s;
        return null != t ? (n = 0 > t ? "-" : "", e = Math.abs(t), i = Math.floor(e).toFixed(0), n += i.replace(/(?=(?:\d{3})+$)(?!^)/g, ","), s = e.toString(), s.length > i.length && (n += s.slice(i.length)), n) : "-"
    }, e.pad2 = function (t) {
        return (10 > t ? "0" : "") + t
    }, e.Grid = function (i) {
        function n(e) {
            this.resizeHandler = o(this.resizeHandler, this);
            var i = this;
            if (this.el = t("string" == typeof e.element ? document.getElementById(e.element) : e.element), null == this.el || 0 === this.el.length) throw new Error("Graph container element not found");
            "static" === this.el.css("position") && this.el.css("position", "relative"), this.options = t.extend({}, this.gridDefaults, this.defaults || {}, e), "string" == typeof this.options.units && (this.options.postUnits = e.units), this.raphael = new Raphael(this.el[0]), this.elementWidth = null, this.elementHeight = null, this.dirty = !1, this.selectFrom = null, this.init && this.init(), this.setData(this.options.data), this.el.bind("mousemove", function (t) {
                var e, n, s, o, r;
                return n = i.el.offset(), r = t.pageX - n.left, i.selectFrom ? (e = i.data[i.hitTest(Math.min(r, i.selectFrom))]._x, s = i.data[i.hitTest(Math.max(r, i.selectFrom))]._x, o = s - e, i.selectionRect.attr({
                    x: e,
                    width: o
                })) : i.fire("hovermove", r, t.pageY - n.top)
            }), this.el.bind("mouseleave", function () {
                return i.selectFrom && (i.selectionRect.hide(), i.selectFrom = null), i.fire("hoverout")
            }), this.el.bind("touchstart touchmove touchend", function (t) {
                var e, n;
                return n = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0], e = i.el.offset(), i.fire("hovermove", n.pageX - e.left, n.pageY - e.top)
            }), this.el.bind("click", function (t) {
                var e;
                return e = i.el.offset(), i.fire("gridclick", t.pageX - e.left, t.pageY - e.top)
            }), this.options.rangeSelect && (this.selectionRect = this.raphael.rect(0, 0, 0, this.el.innerHeight()).attr({
                fill: this.options.rangeSelectColor,
                stroke: !1
            }).toBack().hide(), this.el.bind("mousedown", function (t) {
                var e;
                return e = i.el.offset(), i.startRange(t.pageX - e.left)
            }), this.el.bind("mouseup", function (t) {
                var e;
                return e = i.el.offset(), i.endRange(t.pageX - e.left), i.fire("hovermove", t.pageX - e.left, t.pageY - e.top)
            })), this.options.resize && t(window).bind("resize", function () {
                return null != i.timeoutId && window.clearTimeout(i.timeoutId), i.timeoutId = window.setTimeout(i.resizeHandler, 100)
            }), this.el.css("-webkit-tap-highlight-color", "rgba(0,0,0,0)"), this.postInit && this.postInit()
        }

        return a(n, i), n.prototype.gridDefaults = {
            dateFormat: null,
            axes: !0,
            grid: !0,
            gridLineColor: "#aaa",
            gridStrokeWidth: .5,
            gridTextColor: "#888",
            gridTextSize: 12,
            gridTextFamily: "sans-serif",
            gridTextWeight: "normal",
            hideHover: !1,
            yLabelFormat: null,
            xLabelAngle: 0,
            numLines: 5,
            padding: 25,
            parseTime: !0,
            postUnits: "",
            preUnits: "",
            ymax: "auto",
            ymin: "auto 0",
            goals: [],
            goalStrokeWidth: 1,
            goalLineColors: ["#666633", "#999966", "#cc6666", "#663333"],
            events: [],
            eventStrokeWidth: 1,
            eventLineColors: ["#005a04", "#ccffbb", "#3a5f0b", "#005502"],
            rangeSelect: null,
            rangeSelectColor: "#eef",
            resize: !1
        }, n.prototype.setData = function (t, i) {
            var n, s, o, r, a, l, h, u, c, d, f, p, g, m, v;
            return null == i && (i = !0), this.options.data = t, null == t || 0 === t.length ? (this.data = [], this.raphael.clear(), void(null != this.hover && this.hover.hide())) : (p = this.cumulative ? 0 : null, g = this.cumulative ? 0 : null, this.options.goals.length > 0 && (a = Math.min.apply(Math, this.options.goals), r = Math.max.apply(Math, this.options.goals), g = null != g ? Math.min(g, a) : a, p = null != p ? Math.max(p, r) : r), this.data = function () {
                var i, n, r;
                for (r = [], o = i = 0, n = t.length; n > i; o = ++i) h = t[o], l = {src: h}, l.label = h[this.options.xkey], this.options.parseTime ? (l.x = e.parseDate(l.label), this.options.dateFormat ? l.label = this.options.dateFormat(l.x) : "number" == typeof l.label && (l.label = new Date(l.label).toString())) : (l.x = o, this.options.xLabelFormat && (l.label = this.options.xLabelFormat(l))), c = 0, l.y = function () {
                    var t, e, i, n;
                    for (i = this.options.ykeys, n = [], s = t = 0, e = i.length; e > t; s = ++t) f = i[s], m = h[f], "string" == typeof m && (m = parseFloat(m)), null != m && "number" != typeof m && (m = null), null != m && (this.cumulative ? c += m : null != p ? (p = Math.max(m, p), g = Math.min(m, g)) : p = g = m), this.cumulative && null != c && (p = Math.max(c, p), g = Math.min(c, g)), n.push(m);
                    return n
                }.call(this), r.push(l);
                return r
            }.call(this), this.options.parseTime && (this.data = this.data.sort(function (t, e) {
                return (t.x > e.x) - (e.x > t.x)
            })), this.xmin = this.data[0].x, this.xmax = this.data[this.data.length - 1].x, this.events = [], this.options.events.length > 0 && (this.events = this.options.parseTime ? function () {
                var t, i, s, o;
                for (s = this.options.events, o = [], t = 0, i = s.length; i > t; t++) n = s[t], o.push(e.parseDate(n));
                return o
            }.call(this) : this.options.events, this.xmax = Math.max(this.xmax, Math.max.apply(Math, this.events)), this.xmin = Math.min(this.xmin, Math.min.apply(Math, this.events))), this.xmin === this.xmax && (this.xmin -= 1, this.xmax += 1), this.ymin = this.yboundary("min", g), this.ymax = this.yboundary("max", p), this.ymin === this.ymax && (g && (this.ymin -= 1), this.ymax += 1), ((v = this.options.axes) === !0 || "both" === v || "y" === v || this.options.grid === !0) && (this.options.ymax === this.gridDefaults.ymax && this.options.ymin === this.gridDefaults.ymin ? (this.grid = this.autoGridLines(this.ymin, this.ymax, this.options.numLines), this.ymin = Math.min(this.ymin, this.grid[0]), this.ymax = Math.max(this.ymax, this.grid[this.grid.length - 1])) : (u = (this.ymax - this.ymin) / (this.options.numLines - 1), this.grid = function () {
                var t, e, i, n;
                for (n = [], d = t = e = this.ymin, i = this.ymax; u > 0 ? i >= t : t >= i; d = t += u) n.push(d);
                return n
            }.call(this))), this.dirty = !0, i ? this.redraw() : void 0)
        }, n.prototype.yboundary = function (t, e) {
            var i, n;
            return i = this.options["y" + t], "string" == typeof i ? "auto" === i.slice(0, 4) ? i.length > 5 ? (n = parseInt(i.slice(5), 10), null == e ? n : Math[t](e, n)) : null != e ? e : 0 : parseInt(i, 10) : i
        }, n.prototype.autoGridLines = function (t, e, i) {
            var n, s, o, r, a, l, h, u, c;
            return a = e - t, c = Math.floor(Math.log(a) / Math.log(10)), h = Math.pow(10, c), s = Math.floor(t / h) * h, n = Math.ceil(e / h) * h, l = (n - s) / (i - 1), 1 === h && l > 1 && Math.ceil(l) !== l && (l = Math.ceil(l), n = s + l * (i - 1)), 0 > s && n > 0 && (s = Math.floor(t / l) * l, n = Math.ceil(e / l) * l), 1 > l ? (r = Math.floor(Math.log(l) / Math.log(10)), o = function () {
                var t, e;
                for (e = [], u = t = s; l > 0 ? n >= t : t >= n; u = t += l) e.push(parseFloat(u.toFixed(1 - r)));
                return e
            }()) : o = function () {
                var t, e;
                for (e = [], u = t = s; l > 0 ? n >= t : t >= n; u = t += l) e.push(u);
                return e
            }(), o
        }, n.prototype._calc = function () {
            var t, e, i, n, s, o, r, a;
            return s = this.el.width(), i = this.el.height(), (this.elementWidth !== s || this.elementHeight !== i || this.dirty) && (this.elementWidth = s, this.elementHeight = i, this.dirty = !1, this.left = this.options.padding, this.right = this.elementWidth - this.options.padding, this.top = this.options.padding, this.bottom = this.elementHeight - this.options.padding, ((r = this.options.axes) === !0 || "both" === r || "y" === r) && (o = function () {
                var t, i, n, s;
                for (n = this.grid, s = [], t = 0, i = n.length; i > t; t++) e = n[t], s.push(this.measureText(this.yAxisFormat(e)).width);
                return s
            }.call(this), this.left += Math.max.apply(Math, o)), ((a = this.options.axes) === !0 || "both" === a || "x" === a) && (t = function () {
                var t, e, i;
                for (i = [], n = t = 0, e = this.data.length; e >= 0 ? e > t : t > e; n = e >= 0 ? ++t : --t) i.push(this.measureText(this.data[n].text, -this.options.xLabelAngle).height);
                return i
            }.call(this), this.bottom -= Math.max.apply(Math, t)), this.width = Math.max(1, this.right - this.left), this.height = Math.max(1, this.bottom - this.top), this.dx = this.width / (this.xmax - this.xmin), this.dy = this.height / (this.ymax - this.ymin), this.calc) ? this.calc() : void 0
        }, n.prototype.transY = function (t) {
            return this.bottom - (t - this.ymin) * this.dy
        }, n.prototype.transX = function (t) {
            return 1 === this.data.length ? (this.left + this.right) / 2 : this.left + (t - this.xmin) * this.dx
        }, n.prototype.redraw = function () {
            return this.raphael.clear(), this._calc(), this.drawGrid(), this.drawGoals(), this.drawEvents(), this.draw ? this.draw() : void 0
        }, n.prototype.measureText = function (t, e) {
            var i, n;
            return null == e && (e = 0), n = this.raphael.text(100, 100, t).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).rotate(e), i = n.getBBox(), n.remove(), i
        }, n.prototype.yAxisFormat = function (t) {
            return this.yLabelFormat(t)
        }, n.prototype.yLabelFormat = function (t) {
            return "function" == typeof this.options.yLabelFormat ? this.options.yLabelFormat(t) : "" + this.options.preUnits + e.commas(t) + this.options.postUnits
        }, n.prototype.drawGrid = function () {
            var t, e, i, n, s, o, r, a;
            if (this.options.grid !== !1 || (s = this.options.axes) === !0 || "both" === s || "y" === s) {
                for (o = this.grid, a = [], i = 0, n = o.length; n > i; i++) t = o[i], e = this.transY(t), ((r = this.options.axes) === !0 || "both" === r || "y" === r) && this.drawYAxisLabel(this.left - this.options.padding / 2, e, this.yAxisFormat(t)), this.options.grid ? a.push(this.drawGridLine("M" + this.left + "," + e + "H" + (this.left + this.width))) : a.push(void 0);
                return a
            }
        }, n.prototype.drawGoals = function () {
            var t, e, i, n, s, o, r;
            for (o = this.options.goals, r = [], i = n = 0, s = o.length; s > n; i = ++n) e = o[i], t = this.options.goalLineColors[i % this.options.goalLineColors.length], r.push(this.drawGoal(e, t));
            return r
        }, n.prototype.drawEvents = function () {
            var t, e, i, n, s, o, r;
            for (o = this.events, r = [], i = n = 0, s = o.length; s > n; i = ++n) e = o[i], t = this.options.eventLineColors[i % this.options.eventLineColors.length], r.push(this.drawEvent(e, t));
            return r
        }, n.prototype.drawGoal = function (t, e) {
            return this.raphael.path("M" + this.left + "," + this.transY(t) + "H" + this.right).attr("stroke", e).attr("stroke-width", this.options.goalStrokeWidth)
        }, n.prototype.drawEvent = function (t, e) {
            return this.raphael.path("M" + this.transX(t) + "," + this.bottom + "V" + this.top).attr("stroke", e).attr("stroke-width", this.options.eventStrokeWidth)
        }, n.prototype.drawYAxisLabel = function (t, e, i) {
            return this.raphael.text(t, e, i).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor).attr("text-anchor", "end")
        }, n.prototype.drawGridLine = function (t) {
            return this.raphael.path(t).attr("stroke", this.options.gridLineColor).attr("stroke-width", this.options.gridStrokeWidth)
        }, n.prototype.startRange = function (t) {
            return this.hover.hide(), this.selectFrom = t, this.selectionRect.attr({x: t, width: 0}).show()
        }, n.prototype.endRange = function (t) {
            var e, i;
            return this.selectFrom ? (i = Math.min(this.selectFrom, t), e = Math.max(this.selectFrom, t), this.options.rangeSelect.call(this.el, {
                start: this.data[this.hitTest(i)].x,
                end: this.data[this.hitTest(e)].x
            }), this.selectFrom = null) : void 0
        }, n.prototype.resizeHandler = function () {
            return this.timeoutId = null, this.raphael.setSize(this.el.width(), this.el.height()), this.redraw()
        }, n
    }(e.EventEmitter), e.parseDate = function (t) {
        var e, i, n, s, o, r, a, l, h, u, c;
        return "number" == typeof t ? t : (i = t.match(/^(\d+) Q(\d)$/), s = t.match(/^(\d+)-(\d+)$/), o = t.match(/^(\d+)-(\d+)-(\d+)$/), a = t.match(/^(\d+) W(\d+)$/), l = t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/), h = t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/), i ? new Date(parseInt(i[1], 10), 3 * parseInt(i[2], 10) - 1, 1).getTime() : s ? new Date(parseInt(s[1], 10), parseInt(s[2], 10) - 1, 1).getTime() : o ? new Date(parseInt(o[1], 10), parseInt(o[2], 10) - 1, parseInt(o[3], 10)).getTime() : a ? (u = new Date(parseInt(a[1], 10), 0, 1), 4 !== u.getDay() && u.setMonth(0, 1 + (4 - u.getDay() + 7) % 7), u.getTime() + 6048e5 * parseInt(a[2], 10)) : l ? l[6] ? (r = 0, "Z" !== l[6] && (r = 60 * parseInt(l[8], 10) + parseInt(l[9], 10), "+" === l[7] && (r = 0 - r)), Date.UTC(parseInt(l[1], 10), parseInt(l[2], 10) - 1, parseInt(l[3], 10), parseInt(l[4], 10), parseInt(l[5], 10) + r)) : new Date(parseInt(l[1], 10), parseInt(l[2], 10) - 1, parseInt(l[3], 10), parseInt(l[4], 10), parseInt(l[5], 10)).getTime() : h ? (c = parseFloat(h[6]), e = Math.floor(c), n = Math.round(1e3 * (c - e)), h[8] ? (r = 0, "Z" !== h[8] && (r = 60 * parseInt(h[10], 10) + parseInt(h[11], 10), "+" === h[9] && (r = 0 - r)), Date.UTC(parseInt(h[1], 10), parseInt(h[2], 10) - 1, parseInt(h[3], 10), parseInt(h[4], 10), parseInt(h[5], 10) + r, e, n)) : new Date(parseInt(h[1], 10), parseInt(h[2], 10) - 1, parseInt(h[3], 10), parseInt(h[4], 10), parseInt(h[5], 10), e, n).getTime()) : new Date(parseInt(t, 10), 0, 1).getTime())
    }, e.Hover = function () {
        function i(i) {
            null == i && (i = {}), this.options = t.extend({}, e.Hover.defaults, i), this.el = t("<div class='" + this.options["class"] + "'></div>"), this.el.hide(), this.options.parent.append(this.el)
        }

        return i.defaults = {"class": "morris-hover morris-default-style"}, i.prototype.update = function (t, e, i) {
            return t ? (this.html(t), this.show(), this.moveTo(e, i)) : this.hide()
        }, i.prototype.html = function (t) {
            return this.el.html(t)
        }, i.prototype.moveTo = function (t, e) {
            var i, n, s, o, r, a;
            return r = this.options.parent.innerWidth(), o = this.options.parent.innerHeight(), n = this.el.outerWidth(), i = this.el.outerHeight(), s = Math.min(Math.max(0, t - n / 2), r - n), null != e ? (a = e - i - 10, 0 > a && (a = e + 10, a + i > o && (a = o / 2 - i / 2))) : a = o / 2 - i / 2, this.el.css({
                left: s + "px",
                top: parseInt(a) + "px"
            })
        }, i.prototype.show = function () {
            return this.el.show()
        }, i.prototype.hide = function () {
            return this.el.hide()
        }, i
    }(), e.Line = function (t) {
        function i(t) {
            return this.hilight = o(this.hilight, this), this.onHoverOut = o(this.onHoverOut, this), this.onHoverMove = o(this.onHoverMove, this), this.onGridClick = o(this.onGridClick, this), this instanceof e.Line ? void i.__super__.constructor.call(this, t) : new e.Line(t)
        }

        return a(i, t), i.prototype.init = function () {
            return "always" !== this.options.hideHover ? (this.hover = new e.Hover({parent: this.el}), this.on("hovermove", this.onHoverMove), this.on("hoverout", this.onHoverOut), this.on("gridclick", this.onGridClick)) : void 0
        }, i.prototype.defaults = {
            lineWidth: 3,
            pointSize: 4,
            lineColors: ["#0b62a4", "#7A92A3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"],
            pointStrokeWidths: [1],
            pointStrokeColors: ["#ffffff"],
            pointFillColors: [],
            smooth: !0,
            xLabels: "auto",
            xLabelFormat: null,
            xLabelMargin: 24,
            hideHover: !1
        }, i.prototype.calc = function () {
            return this.calcPoints(), this.generatePaths()
        }, i.prototype.calcPoints = function () {
            var t, e, i, n, s, o;
            for (s = this.data, o = [], i = 0, n = s.length; n > i; i++) t = s[i], t._x = this.transX(t.x), t._y = function () {
                var i, n, s, o;
                for (s = t.y, o = [], i = 0, n = s.length; n > i; i++) e = s[i], null != e ? o.push(this.transY(e)) : o.push(e);
                return o
            }.call(this), o.push(t._ymax = Math.min.apply(Math, [this.bottom].concat(function () {
                var i, n, s, o;
                for (s = t._y, o = [], i = 0, n = s.length; n > i; i++) e = s[i], null != e && o.push(e);
                return o
            }())));
            return o
        }, i.prototype.hitTest = function (t) {
            var e, i, n, s, o;
            if (0 === this.data.length) return null;
            for (o = this.data.slice(1), e = n = 0, s = o.length; s > n && (i = o[e], !(t < (i._x + this.data[e]._x) / 2)); e = ++n) ;
            return e
        }, i.prototype.onGridClick = function (t, e) {
            var i;
            return i = this.hitTest(t), this.fire("click", i, this.data[i].src, t, e)
        }, i.prototype.onHoverMove = function (t) {
            var e;
            return e = this.hitTest(t), this.displayHoverForRow(e)
        }, i.prototype.onHoverOut = function () {
            return this.options.hideHover !== !1 ? this.displayHoverForRow(null) : void 0
        }, i.prototype.displayHoverForRow = function (t) {
            var e;
            return null != t ? ((e = this.hover).update.apply(e, this.hoverContentForRow(t)), this.hilight(t)) : (this.hover.hide(), this.hilight())
        }, i.prototype.hoverContentForRow = function (t) {
            var e, i, n, s, o, r, a;
            for (n = this.data[t], e = "<div class='morris-hover-row-label'>" + n.label + "</div>", a = n.y, i = o = 0, r = a.length; r > o; i = ++o) s = a[i], e += "<div class='morris-hover-point' style='color: " + this.colorFor(n, i, "label") + "'>\n  " + this.options.labels[i] + ":\n  " + this.yLabelFormat(s) + "\n</div>";
            return "function" == typeof this.options.hoverCallback && (e = this.options.hoverCallback(t, this.options, e, n.src)), [e, n._x, n._ymax]
        }, i.prototype.generatePaths = function () {
            var t, i, n, s;
            return this.paths = function () {
                var o, r, a, h;
                for (h = [], i = o = 0, r = this.options.ykeys.length; r >= 0 ? r > o : o > r; i = r >= 0 ? ++o : --o) s = "boolean" == typeof this.options.smooth ? this.options.smooth : (a = this.options.ykeys[i], l.call(this.options.smooth, a) >= 0), t = function () {
                    var t, e, s, o;
                    for (s = this.data, o = [], t = 0, e = s.length; e > t; t++) n = s[t], void 0 !== n._y[i] && o.push({
                        x: n._x,
                        y: n._y[i]
                    });
                    return o
                }.call(this), t.length > 1 ? h.push(e.Line.createPath(t, s, this.bottom)) : h.push(null);
                return h
            }.call(this)
        }, i.prototype.draw = function () {
            var t;
            return ((t = this.options.axes) === !0 || "both" === t || "x" === t) && this.drawXAxis(), this.drawSeries(), this.options.hideHover === !1 ? this.displayHoverForRow(this.data.length - 1) : void 0
        }, i.prototype.drawXAxis = function () {
            var t, i, n, s, o, r, a, l, h, u, c = this;
            for (a = this.bottom + this.options.padding / 2, o = null, s = null, t = function (t, e) {
                var i, n, r, l, h;
                return i = c.drawXAxisLabel(c.transX(e), a, t), h = i.getBBox(), i.transform("r" + -c.options.xLabelAngle), n = i.getBBox(), i.transform("t0," + n.height / 2 + "..."), 0 !== c.options.xLabelAngle && (l = -.5 * h.width * Math.cos(c.options.xLabelAngle * Math.PI / 180), i.transform("t" + l + ",0...")), n = i.getBBox(), (null == o || o >= n.x + n.width || null != s && s >= n.x) && n.x >= 0 && n.x + n.width < c.el.width() ? (0 !== c.options.xLabelAngle && (r = 1.25 * c.options.gridTextSize / Math.sin(c.options.xLabelAngle * Math.PI / 180), s = n.x - r), o = n.x - c.options.xLabelMargin) : i.remove()
            }, n = this.options.parseTime ? 1 === this.data.length && "auto" === this.options.xLabels ? [[this.data[0].label, this.data[0].x]] : e.labelSeries(this.xmin, this.xmax, this.width, this.options.xLabels, this.options.xLabelFormat) : function () {
                var t, e, i, n;
                for (i = this.data, n = [], t = 0, e = i.length; e > t; t++) r = i[t], n.push([r.label, r.x]);
                return n
            }.call(this), n.reverse(), u = [], l = 0, h = n.length; h > l; l++) i = n[l], u.push(t(i[0], i[1]));
            return u
        }, i.prototype.drawSeries = function () {
            var t, e, i, n, s, o;
            for (this.seriesPoints = [], t = e = n = this.options.ykeys.length - 1; 0 >= n ? 0 >= e : e >= 0; t = 0 >= n ? ++e : --e) this._drawLineFor(t);
            for (o = [], t = i = s = this.options.ykeys.length - 1; 0 >= s ? 0 >= i : i >= 0; t = 0 >= s ? ++i : --i) o.push(this._drawPointFor(t));
            return o
        }, i.prototype._drawPointFor = function (t) {
            var e, i, n, s, o, r;
            for (this.seriesPoints[t] = [], o = this.data, r = [], n = 0, s = o.length; s > n; n++) i = o[n], e = null, null != i._y[t] && (e = this.drawLinePoint(i._x, i._y[t], this.colorFor(i, t, "point"), t)), r.push(this.seriesPoints[t].push(e));
            return r
        }, i.prototype._drawLineFor = function (t) {
            var e;
            return e = this.paths[t], null !== e ? this.drawLinePath(e, this.colorFor(null, t, "line"), t) : void 0
        }, i.createPath = function (t, i, n) {
            var s, o, r, a, l, h, u, c, d, f, p, g, m, v;
            for (u = "", i && (r = e.Line.gradients(t)), c = {y: null}, a = m = 0, v = t.length; v > m; a = ++m) s = t[a], null != s.y && (null != c.y ? i ? (o = r[a], h = r[a - 1], l = (s.x - c.x) / 4, d = c.x + l, p = Math.min(n, c.y + l * h), f = s.x - l, g = Math.min(n, s.y - l * o), u += "C" + d + "," + p + "," + f + "," + g + "," + s.x + "," + s.y) : u += "L" + s.x + "," + s.y : i && null == r[a] || (u += "M" + s.x + "," + s.y)), c = s;
            return u
        }, i.gradients = function (t) {
            var e, i, n, s, o, r, a, l;
            for (i = function (t, e) {
                return (t.y - e.y) / (t.x - e.x)
            }, l = [], n = r = 0, a = t.length; a > r; n = ++r) e = t[n], null != e.y ? (s = t[n + 1] || {y: null}, o = t[n - 1] || {y: null}, null != o.y && null != s.y ? l.push(i(o, s)) : null != o.y ? l.push(i(o, e)) : null != s.y ? l.push(i(e, s)) : l.push(null)) : l.push(null);
            return l
        }, i.prototype.hilight = function (t) {
            var e, i, n, s, o;
            if (null !== this.prevHilight && this.prevHilight !== t) for (e = i = 0, s = this.seriesPoints.length - 1; s >= 0 ? s >= i : i >= s; e = s >= 0 ? ++i : --i) this.seriesPoints[e][this.prevHilight] && this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));
            if (null !== t && this.prevHilight !== t) for (e = n = 0, o = this.seriesPoints.length - 1; o >= 0 ? o >= n : n >= o; e = o >= 0 ? ++n : --n) this.seriesPoints[e][t] && this.seriesPoints[e][t].animate(this.pointGrowSeries(e));
            return this.prevHilight = t
        }, i.prototype.colorFor = function (t, e, i) {
            return "function" == typeof this.options.lineColors ? this.options.lineColors.call(this, t, e, i) : "point" === i ? this.options.pointFillColors[e % this.options.pointFillColors.length] || this.options.lineColors[e % this.options.lineColors.length] : this.options.lineColors[e % this.options.lineColors.length]
        }, i.prototype.drawXAxisLabel = function (t, e, i) {
            return this.raphael.text(t, e, i).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor)
        }, i.prototype.drawLinePath = function (t, e, i) {
            return this.raphael.path(t).attr("stroke", e).attr("stroke-width", this.lineWidthForSeries(i))
        }, i.prototype.drawLinePoint = function (t, e, i, n) {
            return this.raphael.circle(t, e, this.pointSizeForSeries(n)).attr("fill", i).attr("stroke-width", this.pointStrokeWidthForSeries(n)).attr("stroke", this.pointStrokeColorForSeries(n))
        }, i.prototype.pointStrokeWidthForSeries = function (t) {
            return this.options.pointStrokeWidths[t % this.options.pointStrokeWidths.length]
        }, i.prototype.pointStrokeColorForSeries = function (t) {
            return this.options.pointStrokeColors[t % this.options.pointStrokeColors.length]
        }, i.prototype.lineWidthForSeries = function (t) {
            return this.options.lineWidth instanceof Array ? this.options.lineWidth[t % this.options.lineWidth.length] : this.options.lineWidth
        }, i.prototype.pointSizeForSeries = function (t) {
            return this.options.pointSize instanceof Array ? this.options.pointSize[t % this.options.pointSize.length] : this.options.pointSize
        }, i.prototype.pointGrowSeries = function (t) {
            return Raphael.animation({r: this.pointSizeForSeries(t) + 3}, 25, "linear")
        }, i.prototype.pointShrinkSeries = function (t) {
            return Raphael.animation({r: this.pointSizeForSeries(t)}, 25, "linear")
        }, i
    }(e.Grid), e.labelSeries = function (i, n, s, o, r) {
        var a, l, h, u, c, d, f, p, g, m, v;
        if (h = 200 * (n - i) / s, l = new Date(i), f = e.LABEL_SPECS[o], void 0 === f) for (v = e.AUTO_LABEL_ORDER, g = 0, m = v.length; m > g; g++) if (u = v[g], d = e.LABEL_SPECS[u], h >= d.span) {
            f = d;
            break
        }
        for (void 0 === f && (f = e.LABEL_SPECS.second), r && (f = t.extend({}, f, {fmt: r})), a = f.start(l), c = []; (p = a.getTime()) <= n;) p >= i && c.push([f.fmt(a), p]), f.incr(a);
        return c
    }, i = function (t) {
        return {
            span: 60 * t * 1e3, start: function (t) {
                return new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours())
            }, fmt: function (t) {
                return "" + e.pad2(t.getHours()) + ":" + e.pad2(t.getMinutes())
            }, incr: function (e) {
                return e.setUTCMinutes(e.getUTCMinutes() + t)
            }
        }
    }, n = function (t) {
        return {
            span: 1e3 * t, start: function (t) {
                return new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes())
            }, fmt: function (t) {
                return "" + e.pad2(t.getHours()) + ":" + e.pad2(t.getMinutes()) + ":" + e.pad2(t.getSeconds())
            }, incr: function (e) {
                return e.setUTCSeconds(e.getUTCSeconds() + t)
            }
        }
    }, e.LABEL_SPECS = {
        decade: {
            span: 1728e8, start: function (t) {
                return new Date(t.getFullYear() - t.getFullYear() % 10, 0, 1)
            }, fmt: function (t) {
                return "" + t.getFullYear()
            }, incr: function (t) {
                return t.setFullYear(t.getFullYear() + 10)
            }
        },
        year: {
            span: 1728e7, start: function (t) {
                return new Date(t.getFullYear(), 0, 1)
            }, fmt: function (t) {
                return "" + t.getFullYear()
            }, incr: function (t) {
                return t.setFullYear(t.getFullYear() + 1)
            }
        },
        month: {
            span: 24192e5, start: function (t) {
                return new Date(t.getFullYear(), t.getMonth(), 1)
            }, fmt: function (t) {
                return "" + t.getFullYear() + "-" + e.pad2(t.getMonth() + 1)
            }, incr: function (t) {
                return t.setMonth(t.getMonth() + 1)
            }
        },
        week: {
            span: 6048e5, start: function (t) {
                return new Date(t.getFullYear(), t.getMonth(), t.getDate())
            }, fmt: function (t) {
                return "" + t.getFullYear() + "-" + e.pad2(t.getMonth() + 1) + "-" + e.pad2(t.getDate())
            }, incr: function (t) {
                return t.setDate(t.getDate() + 7)
            }
        },
        day: {
            span: 864e5, start: function (t) {
                return new Date(t.getFullYear(), t.getMonth(), t.getDate())
            }, fmt: function (t) {
                return "" + t.getFullYear() + "-" + e.pad2(t.getMonth() + 1) + "-" + e.pad2(t.getDate())
            }, incr: function (t) {
                return t.setDate(t.getDate() + 1)
            }
        },
        hour: i(60),
        "30min": i(30),
        "15min": i(15),
        "10min": i(10),
        "5min": i(5),
        minute: i(1),
        "30sec": n(30),
        "15sec": n(15),
        "10sec": n(10),
        "5sec": n(5),
        second: n(1)
    }, e.AUTO_LABEL_ORDER = ["decade", "year", "month", "week", "day", "hour", "30min", "15min", "10min", "5min", "minute", "30sec", "15sec", "10sec", "5sec", "second"], e.Area = function (i) {
        function n(i) {
            var o;
            return this instanceof e.Area ? (o = t.extend({}, s, i), this.cumulative = !o.behaveLikeLine, "auto" === o.fillOpacity && (o.fillOpacity = o.behaveLikeLine ? .8 : 1), void n.__super__.constructor.call(this, o)) : new e.Area(i)
        }

        var s;
        return a(n, i), s = {fillOpacity: "auto", behaveLikeLine: !1}, n.prototype.calcPoints = function () {
            var t, e, i, n, s, o, r;
            for (o = this.data, r = [], n = 0, s = o.length; s > n; n++) t = o[n], t._x = this.transX(t.x), e = 0, t._y = function () {
                var n, s, o, r;
                for (o = t.y, r = [], n = 0, s = o.length; s > n; n++) i = o[n], this.options.behaveLikeLine ? r.push(this.transY(i)) : (e += i || 0, r.push(this.transY(e)));
                return r
            }.call(this), r.push(t._ymax = Math.max.apply(Math, t._y));
            return r
        }, n.prototype.drawSeries = function () {
            var t, e, i, n, s, o, r, a;
            for (this.seriesPoints = [], e = this.options.behaveLikeLine ? function () {
                o = [];
                for (var t = 0, e = this.options.ykeys.length - 1; e >= 0 ? e >= t : t >= e; e >= 0 ? t++ : t--) o.push(t);
                return o
            }.apply(this) : function () {
                r = [];
                for (var t = s = this.options.ykeys.length - 1; 0 >= s ? 0 >= t : t >= 0; 0 >= s ? t++ : t--) r.push(t);
                return r
            }.apply(this), a = [], i = 0, n = e.length; n > i; i++) t = e[i], this._drawFillFor(t), this._drawLineFor(t), a.push(this._drawPointFor(t));
            return a
        }, n.prototype._drawFillFor = function (t) {
            var e;
            return e = this.paths[t], null !== e ? (e += "L" + this.transX(this.xmax) + "," + this.bottom + "L" + this.transX(this.xmin) + "," + this.bottom + "Z", this.drawFilledPath(e, this.fillForSeries(t))) : void 0
        }, n.prototype.fillForSeries = function (t) {
            var e;
            return e = Raphael.rgb2hsl(this.colorFor(this.data[t], t, "line")), Raphael.hsl(e.h, this.options.behaveLikeLine ? .9 * e.s : .75 * e.s, Math.min(.98, this.options.behaveLikeLine ? 1.2 * e.l : 1.25 * e.l))
        }, n.prototype.drawFilledPath = function (t, e) {
            return this.raphael.path(t).attr("fill", e).attr("fill-opacity", this.options.fillOpacity).attr("stroke", "none")
        }, n
    }(e.Line), e.Bar = function (i) {
        function n(i) {
            return this.onHoverOut = o(this.onHoverOut, this), this.onHoverMove = o(this.onHoverMove, this),
                this.onGridClick = o(this.onGridClick, this), this instanceof e.Bar ? void n.__super__.constructor.call(this, t.extend({}, i, {parseTime: !1})) : new e.Bar(i)
        }

        return a(n, i), n.prototype.init = function () {
            return this.cumulative = this.options.stacked, "always" !== this.options.hideHover ? (this.hover = new e.Hover({parent: this.el}), this.on("hovermove", this.onHoverMove), this.on("hoverout", this.onHoverOut), this.on("gridclick", this.onGridClick)) : void 0
        }, n.prototype.defaults = {
            barSizeRatio: .75,
            barGap: 3,
            barColors: ["#0b62a4", "#7a92a3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"],
            barOpacity: 1,
            barRadius: [0, 0, 0, 0],
            xLabelMargin: 50
        }, n.prototype.calc = function () {
            var t;
            return this.calcBars(), this.options.hideHover === !1 ? (t = this.hover).update.apply(t, this.hoverContentForRow(this.data.length - 1)) : void 0
        }, n.prototype.calcBars = function () {
            var t, e, i, n, s, o, r;
            for (o = this.data, r = [], t = n = 0, s = o.length; s > n; t = ++n) e = o[t], e._x = this.left + this.width * (t + .5) / this.data.length, r.push(e._y = function () {
                var t, n, s, o;
                for (s = e.y, o = [], t = 0, n = s.length; n > t; t++) i = s[t], null != i ? o.push(this.transY(i)) : o.push(null);
                return o
            }.call(this));
            return r
        }, n.prototype.draw = function () {
            var t;
            return ((t = this.options.axes) === !0 || "both" === t || "x" === t) && this.drawXAxis(), this.drawSeries()
        }, n.prototype.drawXAxis = function () {
            var t, e, i, n, s, o, r, a, l, h, u, c, d;
            for (h = this.bottom + (this.options.xAxisLabelTopPadding || this.options.padding / 2), r = null, o = null, d = [], t = u = 0, c = this.data.length; c >= 0 ? c > u : u > c; t = c >= 0 ? ++u : --u) a = this.data[this.data.length - 1 - t], e = this.drawXAxisLabel(a._x, h, a.label), l = e.getBBox(), e.transform("r" + -this.options.xLabelAngle), i = e.getBBox(), e.transform("t0," + i.height / 2 + "..."), 0 !== this.options.xLabelAngle && (s = -.5 * l.width * Math.cos(this.options.xLabelAngle * Math.PI / 180), e.transform("t" + s + ",0...")), (null == r || r >= i.x + i.width || null != o && o >= i.x) && i.x >= 0 && i.x + i.width < this.el.width() ? (0 !== this.options.xLabelAngle && (n = 1.25 * this.options.gridTextSize / Math.sin(this.options.xLabelAngle * Math.PI / 180), o = i.x - n), d.push(r = i.x - this.options.xLabelMargin)) : d.push(e.remove());
            return d
        }, n.prototype.drawSeries = function () {
            var t, e, i, n, s, o, r, a, l, h, u, c, d, f, p;
            return i = this.width / this.options.data.length, a = this.options.stacked ? 1 : this.options.ykeys.length, t = (i * this.options.barSizeRatio - this.options.barGap * (a - 1)) / a, this.options.barSize && (t = Math.min(t, this.options.barSize)), c = i - t * a - this.options.barGap * (a - 1), r = c / 2, p = this.ymin <= 0 && this.ymax >= 0 ? this.transY(0) : null, this.bars = function () {
                var a, c, g, m;
                for (g = this.data, m = [], n = a = 0, c = g.length; c > a; n = ++a) l = g[n], s = 0, m.push(function () {
                    var a, c, g, m;
                    for (g = l._y, m = [], h = a = 0, c = g.length; c > a; h = ++a) f = g[h], null !== f ? (p ? (d = Math.min(f, p), e = Math.max(f, p)) : (d = f, e = this.bottom), o = this.left + n * i + r, this.options.stacked || (o += h * (t + this.options.barGap)), u = e - d, this.options.verticalGridCondition && this.options.verticalGridCondition(l.x) && this.drawBar(this.left + n * i, this.top, i, Math.abs(this.top - this.bottom), this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius), this.options.stacked && (d -= s), this.drawBar(o, d, t, u, this.colorFor(l, h, "bar"), this.options.barOpacity, this.options.barRadius), m.push(s += u)) : m.push(null);
                    return m
                }.call(this));
                return m
            }.call(this)
        }, n.prototype.colorFor = function (t, e, i) {
            var n, s;
            return "function" == typeof this.options.barColors ? (n = {
                x: t.x,
                y: t.y[e],
                label: t.label
            }, s = {
                index: e,
                key: this.options.ykeys[e],
                label: this.options.labels[e]
            }, this.options.barColors.call(this, n, s, i)) : this.options.barColors[e % this.options.barColors.length]
        }, n.prototype.hitTest = function (t) {
            return 0 === this.data.length ? null : (t = Math.max(Math.min(t, this.right), this.left), Math.min(this.data.length - 1, Math.floor((t - this.left) / (this.width / this.data.length))))
        }, n.prototype.onGridClick = function (t, e) {
            var i;
            return i = this.hitTest(t), this.fire("click", i, this.data[i].src, t, e)
        }, n.prototype.onHoverMove = function (t) {
            var e, i;
            return e = this.hitTest(t), (i = this.hover).update.apply(i, this.hoverContentForRow(e))
        }, n.prototype.onHoverOut = function () {
            return this.options.hideHover !== !1 ? this.hover.hide() : void 0
        }, n.prototype.hoverContentForRow = function (t) {
            var e, i, n, s, o, r, a, l;
            for (n = this.data[t], e = "<div class='morris-hover-row-label'>" + n.label + "</div>", l = n.y, i = r = 0, a = l.length; a > r; i = ++r) o = l[i], e += "<div class='morris-hover-point' style='color: " + this.colorFor(n, i, "label") + "'>\n  " + this.options.labels[i] + ":\n  " + this.yLabelFormat(o) + "\n</div>";
            return "function" == typeof this.options.hoverCallback && (e = this.options.hoverCallback(t, this.options, e, n.src)), s = this.left + (t + .5) * this.width / this.data.length, [e, s]
        }, n.prototype.drawXAxisLabel = function (t, e, i) {
            var n;
            return n = this.raphael.text(t, e, i).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor)
        }, n.prototype.drawBar = function (t, e, i, n, s, o, r) {
            var a, l;
            return a = Math.max.apply(Math, r), l = 0 === a || a > n ? this.raphael.rect(t, e, i, n) : this.raphael.path(this.roundedRect(t, e, i, n, r)), l.attr("fill", s).attr("fill-opacity", o).attr("stroke", "none")
        }, n.prototype.roundedRect = function (t, e, i, n, s) {
            return null == s && (s = [0, 0, 0, 0]), ["M", t, s[0] + e, "Q", t, e, t + s[0], e, "L", t + i - s[1], e, "Q", t + i, e, t + i, e + s[1], "L", t + i, e + n - s[2], "Q", t + i, e + n, t + i - s[2], e + n, "L", t + s[3], e + n, "Q", t, e + n, t, e + n - s[3], "Z"]
        }, n
    }(e.Grid), e.Donut = function (i) {
        function n(i) {
            this.resizeHandler = o(this.resizeHandler, this), this.select = o(this.select, this), this.click = o(this.click, this);
            var n = this;
            if (!(this instanceof e.Donut)) return new e.Donut(i);
            if (this.options = t.extend({}, this.defaults, i), this.el = t("string" == typeof i.element ? document.getElementById(i.element) : i.element), null === this.el || 0 === this.el.length) throw new Error("Graph placeholder not found.");
            void 0 !== i.data && 0 !== i.data.length && (this.raphael = new Raphael(this.el[0]), this.options.resize && t(window).bind("resize", function () {
                return null != n.timeoutId && window.clearTimeout(n.timeoutId), n.timeoutId = window.setTimeout(n.resizeHandler, 100)
            }), this.setData(i.data))
        }

        return a(n, i), n.prototype.defaults = {
            colors: ["#0B62A4", "#3980B5", "#679DC6", "#95BBD7", "#B0CCE1", "#095791", "#095085", "#083E67", "#052C48", "#042135"],
            backgroundColor: "#FFFFFF",
            labelColor: "#000000",
            formatter: e.commas,
            resize: !1
        }, n.prototype.redraw = function () {
            var t, i, n, s, o, r, a, l, h, u, c, d, f, p, g, m, v, y, b, w, _, x, k;
            for (this.raphael.clear(), i = this.el.width() / 2, n = this.el.height() / 2, f = (Math.min(i, n) - 10) / 3, c = 0, w = this.values, p = 0, v = w.length; v > p; p++) d = w[p], c += d;
            for (l = 5 / (2 * f), t = 1.9999 * Math.PI - l * this.data.length, r = 0, o = 0, this.segments = [], _ = this.values, s = g = 0, y = _.length; y > g; s = ++g) d = _[s], h = r + l + t * (d / c), u = new e.DonutSegment(i, n, 2 * f, f, r, h, this.data[s].color || this.options.colors[o % this.options.colors.length], this.options.backgroundColor, o, this.raphael), u.render(), this.segments.push(u), u.on("hover", this.select), u.on("click", this.click), r = h, o += 1;
            for (this.text1 = this.drawEmptyDonutLabel(i, n - 10, this.options.labelColor, 15, 800), this.text2 = this.drawEmptyDonutLabel(i, n + 10, this.options.labelColor, 14), a = Math.max.apply(Math, this.values), o = 0, x = this.values, k = [], m = 0, b = x.length; b > m; m++) {
                if (d = x[m], d === a) {
                    this.select(o);
                    break
                }
                k.push(o += 1)
            }
            return k
        }, n.prototype.setData = function (t) {
            var e;
            return this.data = t, this.values = function () {
                var t, i, n, s;
                for (n = this.data, s = [], t = 0, i = n.length; i > t; t++) e = n[t], s.push(parseFloat(e.value));
                return s
            }.call(this), this.redraw()
        }, n.prototype.click = function (t) {
            return this.fire("click", t, this.data[t])
        }, n.prototype.select = function (t) {
            var e, i, n, s, o, r;
            for (r = this.segments, s = 0, o = r.length; o > s; s++) i = r[s], i.deselect();
            return n = this.segments[t], n.select(), e = this.data[t], this.setLabels(e.label, this.options.formatter(e.value, e))
        }, n.prototype.setLabels = function (t, e) {
            var i, n, s, o, r, a, l, h;
            return i = 2 * (Math.min(this.el.width() / 2, this.el.height() / 2) - 10) / 3, o = 1.8 * i, s = i / 2, n = i / 3, this.text1.attr({
                text: t,
                transform: ""
            }), r = this.text1.getBBox(), a = Math.min(o / r.width, s / r.height), this.text1.attr({transform: "S" + a + "," + a + "," + (r.x + r.width / 2) + "," + (r.y + r.height)}), this.text2.attr({
                text: e,
                transform: ""
            }), l = this.text2.getBBox(), h = Math.min(o / l.width, n / l.height), this.text2.attr({transform: "S" + h + "," + h + "," + (l.x + l.width / 2) + "," + l.y})
        }, n.prototype.drawEmptyDonutLabel = function (t, e, i, n, s) {
            var o;
            return o = this.raphael.text(t, e, "").attr("font-size", n).attr("fill", i), null != s && o.attr("font-weight", s), o
        }, n.prototype.resizeHandler = function () {
            return this.timeoutId = null, this.raphael.setSize(this.el.width(), this.el.height()), this.redraw()
        }, n
    }(e.EventEmitter), e.DonutSegment = function (t) {
        function e(t, e, i, n, s, r, a, l, h, u) {
            this.cx = t, this.cy = e, this.inner = i, this.outer = n, this.color = a, this.backgroundColor = l, this.index = h, this.raphael = u, this.deselect = o(this.deselect, this), this.select = o(this.select, this), this.sin_p0 = Math.sin(s), this.cos_p0 = Math.cos(s), this.sin_p1 = Math.sin(r), this.cos_p1 = Math.cos(r), this.is_long = r - s > Math.PI ? 1 : 0, this.path = this.calcSegment(this.inner + 3, this.inner + this.outer - 5), this.selectedPath = this.calcSegment(this.inner + 3, this.inner + this.outer), this.hilight = this.calcArc(this.inner)
        }

        return a(e, t), e.prototype.calcArcPoints = function (t) {
            return [this.cx + t * this.sin_p0, this.cy + t * this.cos_p0, this.cx + t * this.sin_p1, this.cy + t * this.cos_p1]
        }, e.prototype.calcSegment = function (t, e) {
            var i, n, s, o, r, a, l, h, u, c;
            return u = this.calcArcPoints(t), i = u[0], s = u[1], n = u[2], o = u[3], c = this.calcArcPoints(e), r = c[0], l = c[1], a = c[2], h = c[3], "M" + i + "," + s + ("A" + t + "," + t + ",0," + this.is_long + ",0," + n + "," + o) + ("L" + a + "," + h) + ("A" + e + "," + e + ",0," + this.is_long + ",1," + r + "," + l) + "Z"
        }, e.prototype.calcArc = function (t) {
            var e, i, n, s, o;
            return o = this.calcArcPoints(t), e = o[0], n = o[1], i = o[2], s = o[3], "M" + e + "," + n + ("A" + t + "," + t + ",0," + this.is_long + ",0," + i + "," + s)
        }, e.prototype.render = function () {
            var t = this;
            return this.arc = this.drawDonutArc(this.hilight, this.color), this.seg = this.drawDonutSegment(this.path, this.color, this.backgroundColor, function () {
                return t.fire("hover", t.index)
            }, function () {
                return t.fire("click", t.index)
            })
        }, e.prototype.drawDonutArc = function (t, e) {
            return this.raphael.path(t).attr({stroke: e, "stroke-width": 2, opacity: 0})
        }, e.prototype.drawDonutSegment = function (t, e, i, n, s) {
            return this.raphael.path(t).attr({fill: e, stroke: i, "stroke-width": 3}).hover(n).click(s)
        }, e.prototype.select = function () {
            return this.selected ? void 0 : (this.seg.animate({path: this.selectedPath}, 150, "<>"), this.arc.animate({opacity: 1}, 150, "<>"), this.selected = !0)
        }, e.prototype.deselect = function () {
            return this.selected ? (this.seg.animate({path: this.path}, 150, "<>"), this.arc.animate({opacity: 0}, 150, "<>"), this.selected = !1) : void 0
        }, e
    }(e.EventEmitter)
}.call(this);